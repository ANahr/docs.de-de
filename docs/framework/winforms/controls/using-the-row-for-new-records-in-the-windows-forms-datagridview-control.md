---
title: "Verwenden der Zeile für neue Datensätze im DataGridView-Steuerelement in Windows Forms"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-winforms
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- DataGridView control [Windows Forms], adding rows for new records
- rows [Windows Forms], new records
- DataGridView control [Windows Forms], data entry
ms.assetid: 6110f1ea-9794-442c-a98a-f104a1feeaf4
caps.latest.revision: "14"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: f4633a70f6c3d010e6cc75236778cf2fd59c0e05
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/21/2017
---
# <a name="using-the-row-for-new-records-in-the-windows-forms-datagridview-control"></a><span data-ttu-id="32b77-102">Verwenden der Zeile für neue Datensätze im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="32b77-102">Using the Row for New Records in the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="32b77-103">Bei Verwendung einer <xref:System.Windows.Forms.DataGridView> für die Bearbeitung von Daten in der Anwendung wird häufig auf Ihre Benutzer die Möglichkeit zum Hinzufügen von neuer Zeilen mit Daten im Datenspeicher erhalten sollen.</span><span class="sxs-lookup"><span data-stu-id="32b77-103">When you use a <xref:System.Windows.Forms.DataGridView> for editing data in your application, you will often want to give your users the ability to add new rows of data to the data store.</span></span> <span data-ttu-id="32b77-104">Die <xref:System.Windows.Forms.DataGridView> -Steuerelement unterstützt diese Funktionalität durch die Bereitstellung einer Zeile für neue Datensätze, die immer als die letzte Zeile angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="32b77-104">The <xref:System.Windows.Forms.DataGridView> control supports this functionality by providing a row for new records, which is always shown as the last row.</span></span> <span data-ttu-id="32b77-105">Er ist mit einem Sternchen (*) im Zeilenkopf gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="32b77-105">It is marked with an asterisk (*) symbol in its row header.</span></span> <span data-ttu-id="32b77-106">Den folgenden Abschnitten werden einige Dinge, die Sie berücksichtigen sollten, wenn das Programm mit der Zeile für neue Datensätze aktiviert.</span><span class="sxs-lookup"><span data-stu-id="32b77-106">The following sections discuss some of the things you should consider when you program with the row for new records enabled.</span></span>  
  
## <a name="displaying-the-row-for-new-records"></a><span data-ttu-id="32b77-107">Die Zeile anzeigen für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="32b77-107">Displaying the Row for New Records</span></span>  
 <span data-ttu-id="32b77-108">Verwenden der <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> Eigenschaft, um anzugeben, ob die Zeile für neue Datensätze angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="32b77-108">Use the <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> property to indicate whether the row for new records is displayed.</span></span> <span data-ttu-id="32b77-109">Der Standardwert dieser Eigenschaft ist `true`.</span><span class="sxs-lookup"><span data-stu-id="32b77-109">The default value of this property is `true`.</span></span>  
  
 <span data-ttu-id="32b77-110">Für das datengebundene Fall, wird die Zeile für neue Datensätze angezeigt werden Wenn die <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> Eigenschaft des Steuerelements und der <xref:System.ComponentModel.IBindingList.AllowNew%2A?displayProperty=nameWithType> Eigenschaft der Datenquelle sind beide `true`.</span><span class="sxs-lookup"><span data-stu-id="32b77-110">For the data bound case, the row for new records will be shown if the <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> property of the control and the <xref:System.ComponentModel.IBindingList.AllowNew%2A?displayProperty=nameWithType> property of the data source are both `true`.</span></span> <span data-ttu-id="32b77-111">Wenn entweder `false` und dann die Zeile nicht angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="32b77-111">If either is `false` then the row will not be shown.</span></span>  
  
## <a name="populating-the-row-for-new-records-with-default-data"></a><span data-ttu-id="32b77-112">Die Zeile für neue Datensätze mit Standarddaten aufgefüllt</span><span class="sxs-lookup"><span data-stu-id="32b77-112">Populating the Row for New Records with Default Data</span></span>  
 <span data-ttu-id="32b77-113">Wenn der Benutzer die Zeile für neue Datensätze als die aktuelle Zeile wählt die <xref:System.Windows.Forms.DataGridView> -Steuerelement löst die <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> Ereignis.</span><span class="sxs-lookup"><span data-stu-id="32b77-113">When the user selects the row for new records as the current row, the <xref:System.Windows.Forms.DataGridView> control raises the <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> event.</span></span>  
  
 <span data-ttu-id="32b77-114">Dieses Ereignis ermöglicht den Zugriff auf die neue <xref:System.Windows.Forms.DataGridViewRow> und ermöglicht es Ihnen, die neue Zeile mit Standarddaten aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="32b77-114">This event provides access to the new <xref:System.Windows.Forms.DataGridViewRow> and enables you to populate the new row with default data.</span></span> <span data-ttu-id="32b77-115">Weitere Informationen finden Sie unter [Vorgehensweise: Angeben von Standardwerten für neue Zeilen im DataGridView-Steuerelement von Windows Forms](../../../../docs/framework/winforms/controls/specify-default-values-for-new-rows-in-the-datagrid.md)</span><span class="sxs-lookup"><span data-stu-id="32b77-115">For more information, see [How to: Specify Default Values for New Rows in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/specify-default-values-for-new-rows-in-the-datagrid.md)</span></span>  
  
## <a name="the-rows-collection"></a><span data-ttu-id="32b77-116">Die Auflistung von Zeilen</span><span class="sxs-lookup"><span data-stu-id="32b77-116">The Rows Collection</span></span>  
 <span data-ttu-id="32b77-117">Die Zeile für neue Datensätze ist Bestandteil der <xref:System.Windows.Forms.DataGridView> des Steuerelements <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung jedoch verhält sich anders in zweierlei Hinsicht:</span><span class="sxs-lookup"><span data-stu-id="32b77-117">The row for new records is contained in the <xref:System.Windows.Forms.DataGridView> control's <xref:System.Windows.Forms.DataGridView.Rows%2A> collection but behaves differently in two respects:</span></span>  
  
-   <span data-ttu-id="32b77-118">Die Zeile für neue Datensätze kann nicht entfernt werden, aus der <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung programmgesteuert.</span><span class="sxs-lookup"><span data-stu-id="32b77-118">The row for new records cannot be removed from the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection programmatically.</span></span> <span data-ttu-id="32b77-119">Ein <xref:System.InvalidOperationException> wird ausgelöst, wenn dies versucht wird.</span><span class="sxs-lookup"><span data-stu-id="32b77-119">An <xref:System.InvalidOperationException> is thrown if this is attempted.</span></span> <span data-ttu-id="32b77-120">Der Benutzer kann nicht auch die Zeile für neue Datensätze löschen.</span><span class="sxs-lookup"><span data-stu-id="32b77-120">The user also cannot delete the row for new records.</span></span> <span data-ttu-id="32b77-121">Die <xref:System.Windows.Forms.DataGridViewRowCollection.Clear%2A?displayProperty=nameWithType> Methode entfernt keine diese Zeile aus der <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung.</span><span class="sxs-lookup"><span data-stu-id="32b77-121">The <xref:System.Windows.Forms.DataGridViewRowCollection.Clear%2A?displayProperty=nameWithType> method does not remove this row from the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection.</span></span>  
  
-   <span data-ttu-id="32b77-122">Nach der Zeile für neue Datensätze kann keine Zeile hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="32b77-122">No row can be added after the row for new records.</span></span> <span data-ttu-id="32b77-123">Ein <xref:System.InvalidOperationException> wird ausgelöst, wenn dies versucht wird.</span><span class="sxs-lookup"><span data-stu-id="32b77-123">An <xref:System.InvalidOperationException> is raised if this is attempted.</span></span> <span data-ttu-id="32b77-124">Daher ist die Zeile für neue Datensätze immer die letzte Zeile in der <xref:System.Windows.Forms.DataGridView> Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="32b77-124">As a result, the row for new records is always the last row in the <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="32b77-125">Die Methoden auf <xref:System.Windows.Forms.DataGridViewRowCollection> zum Hinzufügen von Zeilen –<xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, und <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>– alle rufen Einfügungsmethoden intern, wenn die Zeile für neue Datensätze vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="32b77-125">The methods on <xref:System.Windows.Forms.DataGridViewRowCollection> that add rows—<xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, and <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>—all call insertion methods internally when the row for new records is present.</span></span>  
  
## <a name="visual-customization-of-the-row-for-new-records"></a><span data-ttu-id="32b77-126">Visuelle Anpassung der Zeile für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="32b77-126">Visual Customization of the Row for New Records</span></span>  
 <span data-ttu-id="32b77-127">Wenn die Zeile für neue Datensätze erstellt wird, basiert auf der Zeile angegeben wird, durch die <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="32b77-127">When the row for new records is created, it is based on the row specified by the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> property.</span></span> <span data-ttu-id="32b77-128">Alle Zellenstile, die für diese Zeile nicht angegeben werden, werden von anderen Eigenschaften geerbt.</span><span class="sxs-lookup"><span data-stu-id="32b77-128">Any cell styles that are not specified for this row are inherited from other properties.</span></span> <span data-ttu-id="32b77-129">Weitere Informationen zur Vererbung von Zellenstilen finden Sie unter [Zellstile im DataGridView-Steuerelement von Windows Forms](../../../../docs/framework/winforms/controls/cell-styles-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="32b77-129">For more information about cell style inheritance, see [Cell Styles in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/cell-styles-in-the-windows-forms-datagridview-control.md).</span></span>  
  
 <span data-ttu-id="32b77-130">Die ursprünglichen Werte von Zellen in der Zeile für neue Datensätze aus den einzelnen Zellen abgerufen werden <xref:System.Windows.Forms.DataGridViewCell.DefaultNewRowValue%2A> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="32b77-130">The initial values displayed by cells in the row for new records are retrieved from each cell's <xref:System.Windows.Forms.DataGridViewCell.DefaultNewRowValue%2A> property.</span></span> <span data-ttu-id="32b77-131">Für die Zellen des Typs <xref:System.Windows.Forms.DataGridViewImageCell>, gibt diese Eigenschaft ein Platzhalterbild zurück.</span><span class="sxs-lookup"><span data-stu-id="32b77-131">For cells of type <xref:System.Windows.Forms.DataGridViewImageCell>, this property returns a placeholder image.</span></span> <span data-ttu-id="32b77-132">Andernfalls gibt diese Eigenschaft `null` zurück.</span><span class="sxs-lookup"><span data-stu-id="32b77-132">Otherwise, this property returns `null`.</span></span> <span data-ttu-id="32b77-133">Überschreiben Sie diese Eigenschaft, um einen benutzerdefinierten Wert zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="32b77-133">You can override this property to return a custom value.</span></span> <span data-ttu-id="32b77-134">Allerdings können diese ursprünglichen Werte ersetzt werden, durch eine <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> Ereignishandler, wenn der Fokus die Zeile für neue Datensätze eingibt.</span><span class="sxs-lookup"><span data-stu-id="32b77-134">However, these initial values can be replaced by a <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> event handler when focus enters the row for new records.</span></span>  
  
 <span data-ttu-id="32b77-135">Standardsymbole für diese Zeile mit einer Überschrift, die ein Pfeil oder ein Sternchen sind, sind nicht öffentlich verfügbar gemacht.</span><span class="sxs-lookup"><span data-stu-id="32b77-135">The standard icons for this row's header, which are an arrow or an asterisk, are not exposed publicly.</span></span> <span data-ttu-id="32b77-136">Wenn Sie die Symbole anpassen möchten, müssen Sie zum Erstellen eines benutzerdefinierten <xref:System.Windows.Forms.DataGridViewRowHeaderCell> Klasse.</span><span class="sxs-lookup"><span data-stu-id="32b77-136">If you want to customize the icons, you will need to create a custom <xref:System.Windows.Forms.DataGridViewRowHeaderCell> class.</span></span>  
  
 <span data-ttu-id="32b77-137">Verwenden Sie die standard-Symbole der <xref:System.Windows.Forms.DataGridViewCellStyle.ForeColor%2A> Eigenschaft von der <xref:System.Windows.Forms.DataGridViewCellStyle> von die Headerzelle der Zeile verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="32b77-137">The standard icons use the <xref:System.Windows.Forms.DataGridViewCellStyle.ForeColor%2A> property of the <xref:System.Windows.Forms.DataGridViewCellStyle> in use by the row header cell.</span></span> <span data-ttu-id="32b77-138">Die standard-Symbole werden nicht gerendert, wenn es nicht genügend Speicherplatz ist für diese vollständig anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="32b77-138">The standard icons are not rendered if there is not enough space to display them completely.</span></span>  
  
 <span data-ttu-id="32b77-139">Wenn die Headerzelle der Zeile hat einen Zeichenfolgenwert festgelegt, und wenn nicht ausreichend Platz für Text und Symbol vorhanden ist, wird das Symbol "zuerst gelöscht.</span><span class="sxs-lookup"><span data-stu-id="32b77-139">If the row header cell has a string value set, and if there is not enough room for both the text and icon, the icon is dropped first.</span></span>  
  
## <a name="sorting"></a><span data-ttu-id="32b77-140">Sortieren</span><span class="sxs-lookup"><span data-stu-id="32b77-140">Sorting</span></span>  
 <span data-ttu-id="32b77-141">Im ungebundenen Modus werden neue Datensätze immer am Ende hinzugefügt werden die <xref:System.Windows.Forms.DataGridView> , selbst wenn der Benutzer den Inhalt des sortiert wurden die <xref:System.Windows.Forms.DataGridView>.</span><span class="sxs-lookup"><span data-stu-id="32b77-141">In unbound mode, new records will always be added to the end of the <xref:System.Windows.Forms.DataGridView> even if the user has sorted the content of the <xref:System.Windows.Forms.DataGridView>.</span></span> <span data-ttu-id="32b77-142">Der Benutzer muss der Sortierung erneut angewendet, um die Zeile an der richtigen Position sortieren; Dieses Verhalten ähnelt dem von der <xref:System.Windows.Forms.ListView> Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="32b77-142">The user will need to apply the sort again in order to sort the row to the correct position; this behavior is similar to that of the <xref:System.Windows.Forms.ListView> control.</span></span>  
  
 <span data-ttu-id="32b77-143">Daten werden abhängig von der Implementierung des Datenmodells gebunden ist, und virtuelle Modi, das Einfügeverhalten, wenn eine Sortierung angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="32b77-143">In data bound and virtual modes, the insertion behavior when a sort is applied will be dependent on the implementation of the data model.</span></span> <span data-ttu-id="32b77-144">Für [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)], die Zeile wird sofort in der richtigen Position sortiert.</span><span class="sxs-lookup"><span data-stu-id="32b77-144">For [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)], the row is immediately sorted into the correct position.</span></span>  
  
## <a name="other-notes-on-the-row-for-new-records"></a><span data-ttu-id="32b77-145">Andere Hinweise auf die Zeile für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="32b77-145">Other Notes on the Row for New Records</span></span>  
 <span data-ttu-id="32b77-146">Kann nicht festgelegt werden die <xref:System.Windows.Forms.DataGridViewRow.Visible%2A> Eigenschaft dieser Zeile auf `false`.</span><span class="sxs-lookup"><span data-stu-id="32b77-146">You cannot set the <xref:System.Windows.Forms.DataGridViewRow.Visible%2A> property of this row to `false`.</span></span> <span data-ttu-id="32b77-147">Ein <xref:System.InvalidOperationException> wird ausgelöst, wenn dies versucht wird.</span><span class="sxs-lookup"><span data-stu-id="32b77-147">An <xref:System.InvalidOperationException> is raised if this is attempted.</span></span>  
  
 <span data-ttu-id="32b77-148">Die Zeile für neue Datensätze wird immer im Status "deaktiviert" erstellt.</span><span class="sxs-lookup"><span data-stu-id="32b77-148">The row for new records is always created in the unselected state.</span></span>  
  
## <a name="virtual-mode"></a><span data-ttu-id="32b77-149">Virtueller Modus</span><span class="sxs-lookup"><span data-stu-id="32b77-149">Virtual Mode</span></span>  
 <span data-ttu-id="32b77-150">Wenn Sie den virtuellen Modus implementieren, müssen Sie verfolgen, wann eine Zeile für neue Datensätze in das Datenmodell und wann Sie das Hinzufügen der Zeile ein Rollback erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="32b77-150">If you are implementing virtual mode, you will need to track when a row for new records is needed in the data model and when to roll back the addition of the row.</span></span> <span data-ttu-id="32b77-151">Die genaue Implementierung dieser Funktion richtet sich nach der Implementierung des Datenmodells und seiner Transaktionssemantik z. B., ob die Commit-Bereich auf der Ebene Zelle oder Zeile befindet.</span><span class="sxs-lookup"><span data-stu-id="32b77-151">The exact implementation of this functionality depends on the implementation of the data model and its transaction semantics, for example, whether commit scope is at the cell or row level.</span></span> <span data-ttu-id="32b77-152">Weitere Informationen finden Sie unter [Virtueller Modus im DataGridView-Steuerelement von Windows Forms](../../../../docs/framework/winforms/controls/virtual-mode-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="32b77-152">For more information, see [Virtual Mode in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/virtual-mode-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="32b77-153">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="32b77-153">See Also</span></span>  
 <xref:System.Windows.Forms.DataGridView>  
 <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded?displayProperty=nameWithType>  
 [<span data-ttu-id="32b77-154">Dateneingabe im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="32b77-154">Data Entry in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/data-entry-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="32b77-155">Gewusst wie: Angeben von Standardwerten für neue Zeilen im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="32b77-155">How to: Specify Default Values for New Rows in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/specify-default-values-for-new-rows-in-the-datagrid.md)
