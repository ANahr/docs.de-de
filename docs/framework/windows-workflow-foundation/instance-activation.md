---
title: Instanzaktivierung
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 134c3f70-5d4e-46d0-9d49-469a6643edd8
caps.latest.revision: "6"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: d33e809a0db0b812cf7311d7b5686d9125e80976
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/02/2017
---
# <a name="instance-activation"></a><span data-ttu-id="9815b-102">Instanzaktivierung</span><span class="sxs-lookup"><span data-stu-id="9815b-102">Instance Activation</span></span>
<span data-ttu-id="9815b-103">Der SQL-Workflowinstanzspeicher führt eine interne Aufgabe aus, die in regelmäßigen Abständen aktiviert wird und ausführbare oder aktivierbare Workflowinstanzen in der Persistenzdatenbank ermittelt.</span><span class="sxs-lookup"><span data-stu-id="9815b-103">The SQL Workflow Instance Store runs an internal task that periodically wakes up and detects runnable or activatable workflow instances in the persistence database.</span></span> <span data-ttu-id="9815b-104">Wenn eine ausführbare Workflowinstanz gefunden wird, erfolgt die Benachrichtigung des Workflowhosts, der die Instanz aktivieren kann.</span><span class="sxs-lookup"><span data-stu-id="9815b-104">If it finds a runnable workflow instance, it notifies the workflow host that is capable of activating the instance.</span></span> <span data-ttu-id="9815b-105">Wenn der Instanzspeicher eine aktivierbare Workflowinstanz findet, wird ein generischer Host benachrichtigt, der einen Workflowhost aktiviert, der wiederum die Workflowinstanz ausführt.</span><span class="sxs-lookup"><span data-stu-id="9815b-105">If the instance store finds an activatable workflow instance, it notifies a generic host that activates a workflow host, which in turn runs the workflow instance.</span></span> <span data-ttu-id="9815b-106">In den folgenden Abschnitten dieses Themas wird der Instanzaktivierungsprozess detailliert erläutert.</span><span class="sxs-lookup"><span data-stu-id="9815b-106">The following sections in this topic explain the instance activation process in detail.</span></span>  
  
##  <span data-ttu-id="9815b-107"><a name="RunnableSection"></a>Erkennen und Aktivieren von ausführbaren Workflowinstanzen</span><span class="sxs-lookup"><span data-stu-id="9815b-107"><a name="RunnableSection"></a> Detecting and Activating Runnable Workflow Instances</span></span>  
 <span data-ttu-id="9815b-108">Der SQL-Workflowinstanzspeicher erkennt eine Workflowinstanz als *ausführbare* , wenn die Instanz befindet sich nicht im Zustand "angehalten" oder "abgeschlossen" befindet und die folgenden Bedingungen erfüllt:</span><span class="sxs-lookup"><span data-stu-id="9815b-108">The SQL Workflow Instance Store considers a workflow instance *runnable* if the instance is not in the suspended state or the completed state and satisfies the following conditions:</span></span>  
  
-   <span data-ttu-id="9815b-109">Die Instanz ist nicht gesperrt und weist einen ausstehenden Timer auf, der abgelaufen ist.</span><span class="sxs-lookup"><span data-stu-id="9815b-109">The instance is unlocked and has a pending timer that has expired.</span></span>  
  
-   <span data-ttu-id="9815b-110">Die Instanz weist eine abgelaufene Sperre auf.</span><span class="sxs-lookup"><span data-stu-id="9815b-110">The instance has an expired lock on it.</span></span>  
  
-   <span data-ttu-id="9815b-111">Die Instanz ist nicht gesperrt und sein Status **ausführen**.</span><span class="sxs-lookup"><span data-stu-id="9815b-111">The instance is unlocked and its status is **Executing**.</span></span>  
  
 <span data-ttu-id="9815b-112">Der SQL-Workflowinstanzspeicher löst das <xref:System.Activities.DurableInstancing.HasRunnableWorkflowEvent> aus, wenn eine ausführbare Instanz gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="9815b-112">The SQL Workflow Instance Store raises the <xref:System.Activities.DurableInstancing.HasRunnableWorkflowEvent> when it finds a runnable instance.</span></span> <span data-ttu-id="9815b-113">Anschließend wird die Überwachung gestoppt, bis <xref:System.Activities.DurableInstancing.TryLoadRunnableWorkflowCommand> einmal für den Speicher aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="9815b-113">After this, the SqlWorkflowInstanceStore stops monitoring until the <xref:System.Activities.DurableInstancing.TryLoadRunnableWorkflowCommand> is called once on the store.</span></span>  
  
 <span data-ttu-id="9815b-114">Ein Workflowhost, der das <xref:System.Activities.DurableInstancing.HasRunnableWorkflowEvent>-Element abonniert hat und die Instanz laden kann, führt das <xref:System.Activities.DurableInstancing.TryLoadRunnableWorkflowCommand>-Element für den Instanzspeicher aus, um die Instanz in den Arbeitsspeicher zu laden.</span><span class="sxs-lookup"><span data-stu-id="9815b-114">A workflow host that has subscribed for the <xref:System.Activities.DurableInstancing.HasRunnableWorkflowEvent> and capable of loading the instance executes the <xref:System.Activities.DurableInstancing.TryLoadRunnableWorkflowCommand> against the instance store to load the instance into memory.</span></span> <span data-ttu-id="9815b-115">Gilt ein Workflowhost kann eine Workflowinstanz zu laden, wenn der Host und die Instanz Metadateneigenschaft haben **WorkflowServiceType** auf den gleichen Wert festgelegt.</span><span class="sxs-lookup"><span data-stu-id="9815b-115">A workflow host is considered capable of loading a workflow instance if the host and the instance have metadata property **WorkflowServiceType** set to the same value.</span></span>  
  
## <a name="detecting-and-activating-activatable-workflow-instances"></a><span data-ttu-id="9815b-116">Erkennen und Aktivieren von aktivierbaren Workflowinstanzen</span><span class="sxs-lookup"><span data-stu-id="9815b-116">Detecting and Activating Activatable Workflow Instances</span></span>  
 <span data-ttu-id="9815b-117">Eine Workflowinstanz *aktivierbare* Wenn die Instanz ausführbar ist, und es ist kein Workflowhost, der die Instanz laden kann, auf dem Computer ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="9815b-117">A workflow instance is considered *activatable* if the instance is runnable and there is no workflow host that is capable of loading the instance is running on the computer.</span></span> <span data-ttu-id="9815b-118">Die Definition einer ausführbaren Workflowinstanz finden Sie weiter oben unter "Erkennen und Aktivieren von ausführbaren Workflowinstanzen".</span><span class="sxs-lookup"><span data-stu-id="9815b-118">See Detecting and Activating Runnable Workflow Instances above for the definition of a runnable workflow instance.</span></span>  
  
 <span data-ttu-id="9815b-119">Der SQL-Workflowinstanzspeicher löst das <xref:System.Activities.DurableInstancing.HasActivatableWorkflowEvent> aus, wenn eine aktivierbare Workflowinstanz in der Datenbank gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="9815b-119">The SQL Workflow Instance Store raises the <xref:System.Activities.DurableInstancing.HasActivatableWorkflowEvent> when it finds an activatable workflow instance in the database.</span></span> <span data-ttu-id="9815b-120">Anschließend wird die Überwachung gestoppt, bis <xref:System.Activities.DurableInstancing.QueryActivatableWorkflowsCommand> einmal für den Speicher aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="9815b-120">After this, the SqlWorkflowInstanceStore stops monitoring until the <xref:System.Activities.DurableInstancing.QueryActivatableWorkflowsCommand> is called once on the store.</span></span>  
  
 <span data-ttu-id="9815b-121">Wenn ein generischer Host, der das <xref:System.Activities.DurableInstancing.HasActivatableWorkflowEvent>-Element abonniert hat, das Ereignis empfängt, wird das <xref:System.Activities.DurableInstancing.QueryActivatableWorkflowsCommand>-Element für den Instanzspeicher ausgeführt, um die zur Erstellung eines Workflowhosts erforderlichen Aktivierungsparameter abzurufen.</span><span class="sxs-lookup"><span data-stu-id="9815b-121">When a generic host that has subscribed for the <xref:System.Activities.DurableInstancing.HasActivatableWorkflowEvent> receives the event, it executes the <xref:System.Activities.DurableInstancing.QueryActivatableWorkflowsCommand> against the instance store to obtain activation parameters required to create a workflow host.</span></span> <span data-ttu-id="9815b-122">Der generische Host erstellt mit diesen Aktivierungsparametern einen Workflowhost, der die ausführbare Dienstinstanz dann lädt und ausführt.</span><span class="sxs-lookup"><span data-stu-id="9815b-122">The generic host uses these activation parameters to create a workflow host, which in turn loads and runs the runnable service instance.</span></span>  
  
## <a name="generic-hosts"></a><span data-ttu-id="9815b-123">Generische Hosts</span><span class="sxs-lookup"><span data-stu-id="9815b-123">Generic Hosts</span></span>  
 <span data-ttu-id="9815b-124">Ein generischer Host ist ein Host mit dem Wert der Metadateneigenschaft **WorkflowServiceType** für generische Hosts auf festgelegt ist **WorkflowServiceType.Any** , um anzugeben, dass sie jeden Workflowtyp verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="9815b-124">A generic host is a host with the value of the metadata property **WorkflowServiceType** for generic hosts is set to **WorkflowServiceType.Any** to indicate that it can handle any workflow type.</span></span> <span data-ttu-id="9815b-125">Ein generischer Host verfügt über einen XName-Parameter mit dem Namen **ActivationType**.</span><span class="sxs-lookup"><span data-stu-id="9815b-125">A generic host has an XName parameter named **ActivationType**.</span></span>  
  
 <span data-ttu-id="9815b-126">Zurzeit unterstützt der SQL-Workflowinstanzspeicher generische Hosts mit dem Wert des ActivationType-Parameters festgelegt **WAS**.</span><span class="sxs-lookup"><span data-stu-id="9815b-126">Currently, the SQL Workflow Instance Store supports generic hosts with value of the ActivationType parameter set to **WAS**.</span></span> <span data-ttu-id="9815b-127">Wenn der ActivationType-Parameter nicht den Wert WAS aufweist, löst der SQL-Workflowinstanzspeicher einen <xref:System.Runtime.DurableInstancing.InstancePersistenceException>-Fehler aus.</span><span class="sxs-lookup"><span data-stu-id="9815b-127">If the ActivationType is not set to WAS, the SQL Workflow Instance Store throws an <xref:System.Runtime.DurableInstancing.InstancePersistenceException>.</span></span> <span data-ttu-id="9815b-128">Die Workflow-Verwaltungsdiensts, die im Lieferumfang der [!INCLUDE[dublin](../../../includes/dublin-md.md)] ist ein generischer Host, den Aktivierungstyp auf **WAS**.</span><span class="sxs-lookup"><span data-stu-id="9815b-128">The Workflow Management Service that ships with the [!INCLUDE[dublin](../../../includes/dublin-md.md)] is a generic host that has the activation type set to **WAS**.</span></span>  
  
 <span data-ttu-id="9815b-129">Zur WAS-Aktivierung erfordert ein generischer Host einen Satz von Aktivierungsparametern, um die Endpunktadresse abzuleiten, an der neue Hosts aktiviert werden können.</span><span class="sxs-lookup"><span data-stu-id="9815b-129">For WAS activation, a generic host requires a set of activation parameters to derive the endpoint address at which new hosts can be activated.</span></span> <span data-ttu-id="9815b-130">Die Aktivierungsparameter zu WAS-Aktivierung sind der Name der Site, der Anwendungspfad relativ zur Website und der Dienstpfad relativ zur Anwendung.</span><span class="sxs-lookup"><span data-stu-id="9815b-130">The activation parameters for WAS activation are name of the site, path to the application relative to the site, and path to the service relative to the application.</span></span> <span data-ttu-id="9815b-131">Der SQL-Workflowinstanzspeicher speichert diese Aktivierungsparameter während der Ausführung des <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>-Objekts.</span><span class="sxs-lookup"><span data-stu-id="9815b-131">The SQL Workflow Instance Store stores these activation parameters during the execution of the <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>.</span></span>  
  
## <a name="runnable-instances-detection-period"></a><span data-ttu-id="9815b-132">Runnable Instances Detection Period</span><span class="sxs-lookup"><span data-stu-id="9815b-132">Runnable Instances Detection Period</span></span>  
 <span data-ttu-id="9815b-133">Die **Runnable Instances Detection Period** Eigenschaft des SQL-Workflowinstanzspeichers gibt den Zeitraum, nach dem der SQL-Workflowinstanzspeicher eine erkennungsaufgabe, um alle ausführbaren oder aktivierbaren Workflow erkennen ausführt, Instanzen in der Persistenzdatenbank nach dem vorhergehenden ermittlungslauf.</span><span class="sxs-lookup"><span data-stu-id="9815b-133">The **Runnable Instances Detection Period** property of the SQL Workflow Instance Store specifies the time period after which the SQL Workflow Instance Store runs a detection task to detect any runnable or activatable workflow instances in the persistence database after the previous detection cycle.</span></span> <span data-ttu-id="9815b-134">Finden Sie unter [Runnable Instances Detection Period](../../../docs/framework/windows-workflow-foundation/runnable-instances-detection-period.md) detaillierte Informationen zu dieser Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="9815b-134">See [Runnable Instances Detection Period](../../../docs/framework/windows-workflow-foundation/runnable-instances-detection-period.md) for more details on this property.</span></span>
