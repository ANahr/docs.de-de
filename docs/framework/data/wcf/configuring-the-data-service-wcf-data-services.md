---
title: "Konfigurieren des Datendiensts (WCF Data Services) | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-oob"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "WCF Data Services, Konfigurieren"
ms.assetid: 59efd4c8-cc7a-4800-a0a4-d3f8abe6c55c
caps.latest.revision: 10
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 10
---
# Konfigurieren des Datendiensts (WCF Data Services)
Mit [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] können Sie Datendienste erstellen, die [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)]\-Feeds verfügbar machen.  Die Daten dieser Feeds können aus einer Vielzahl von Datenquellen stammen.  [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] macht diese Daten mithilfe von Datenanbietern als [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]\-Feed verfügbar.  Zu diesen Anbietern zählen ein [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]\-Anbieter, ein Reflektionsanbieter und ein Schnittstellensatz für benutzerdefinierte Datendienstanbieter.  Die Anbieterimplementierung definiert das Datenmodell für den Dienst.  Weitere Informationen finden Sie unter [Datendiensteanbieter](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md).  
  
 In [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] ist ein Datendienst eine Klasse, die von der <xref:System.Data.Services.DataService%601>\-Klasse erbt. Dabei ist der Typ des Datendiensts der Entitätscontainer des Datenmodells.  Dieser Entitätscontainer verfügt über mindestens eine Eigenschaft, die einen <xref:System.Linq.IQueryable%601> zurückgibt und die für den Zugriff auf Entitätenmengen im Datenmodell verwendet wird.  
  
 Das Verhalten des Datendiensts wird durch die Member der <xref:System.Data.Services.DataServiceConfiguration>\-Klasse definiert, und durch Member der <xref:System.Data.Services.DataServiceBehavior>\-Klasse, auf die von der <xref:System.Data.Services.DataServiceConfiguration.DataServiceBehavior%2A>\-Eigenschaft der <xref:System.Data.Services.DataServiceConfiguration>\-Klasse zugegriffen wird.  Die <xref:System.Data.Services.DataServiceConfiguration>\-Klasse wird wie in der folgenden Implementierung eines Northwind\-Datendiensts für die `InitializeService`\-Methode angegeben, die vom Datendienst implementiert wird:  
  
 [!code-csharp[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind service/cs/northwind.svc.cs#dataserviceconfigcomplete)]
 [!code-vb[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind service/vb/northwind.svc.vb#dataserviceconfigcomplete)]  
  
## Konfigurationseinstellungen des Datendiensts  
 Mit der <xref:System.Data.Services.DataServiceConfiguration>\-Klasse können Sie das folgende Datendienstverhalten angeben:  
  
|Member|Verhalten|  
|------------|---------------|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptCountRequests%2A>|Ermöglicht das Deaktivieren von Count\-Anforderungen, die mit dem `$count`\-Pfadsegment und der `$inlinecount`\-Abfrageoption an den Datendienst gesendet werden.  Weitere Informationen finden Sie unter [OData: URI\-Konventionen](http://go.microsoft.com/fwlink/?LinkId=185564).|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptProjectionRequests%2A>|Ermöglicht das Deaktivieren der Unterstützung der Datenprojektion in Anforderungen, die mit der `$select`\-Abfrageoption an den Datendienst gesendet werden.  Weitere Informationen finden Sie unter [OData: URI\-Konventionen](http://go.microsoft.com/fwlink/?LinkId=185564).|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeAccess%2A>|Ermöglicht das Verfügbarmachen eines Datentyps in den Metadaten für einen dynamischen Metadatenanbieter, der mithilfe der <xref:System.Data.Services.Providers.IDataServiceMetadataProvider>\-Schnittstelle definiert wird.|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeConversion%2A>|Ermöglicht es Ihnen anzugeben, ob die Datendienst\-Runtime den in der Nutzlast enthaltenen Typ in den in der Anforderung angegebenen tatsächlichen Eigenschaftstyp konvertieren soll.|  
|<xref:System.Data.Services.DataServiceBehavior.InvokeInterceptorsOnLinkDelete%2A>|Ermöglicht es Ihnen anzugeben, ob registrierte Change\-Interceptors für die verknüpften Entitäten aufgerufen werden, wenn ein Beziehungslink zwischen zwei Entitäten gelöscht wird.|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxBatchCount%2A>|Ermöglicht es Ihnen, die Anzahl von Changesets und Abfragevorgängen einzuschränken, die in einem einzelnen Batch zulässig sind.  Weitere Informationen finden Sie unter [OData: Batch](http://go.microsoft.com/fwlink/?LinkId=185602) und [Batchverarbeitungsvorgänge](../../../../docs/framework/data/wcf/batching-operations-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxChangesetCount%2A>|Ermöglicht es Ihnen, die in einem Changeset zulässige Anzahl von Änderungen zu beschränken.  Weitere Informationen finden Sie unter [Gewusst wie: Aktivieren von Paging für Datendienstergebnisse](../../../../docs/framework/data/wcf/how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandCount%2A>|Ermöglicht es, die Größe einer Antwort durch Beschränken der Anzahl verknüpfter Entitäten in einer einzelnen Anforderung mit dem `$expand`\-Abfrageoperator einzuschränken.  [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] finden Sie unter [OData: URI\-Konventionen](http://go.microsoft.com/fwlink/?LinkId=185564) und [Laden von verzögertem Inhalt](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandDepth%2A>|Ermöglicht es Ihnen, die Größe einer Antwort durch das Beschränken der Diagrammtiefe verknüpfter Entitäten in einer einzelnen Anforderung mit dem `$expand`\-Abfrageoperator einzuschränken.  [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] finden Sie unter [OData: URI\-Konventionen](http://go.microsoft.com/fwlink/?LinkId=185564) und [Laden von verzögertem Inhalt](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxObjectCountOnInsert%2A>|Ermöglicht es Ihnen, die Anzahl einzufügender Entitäten einzuschränken, die in einer einzelnen POST\-Anforderung enthalten sein können.|  
|<xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A>|Definiert die Version des Atom\-Protokolls, das vom Datendienst verwendet wird.  Wenn der Wert der <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> auf einen Wert kleiner als der maximale Wert der <xref:System.Data.Services.Common.DataServiceProtocolVersion> festgelegt wird, sind die neuesten Funktionen von [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] nicht für Clients verfügbar, die auf den Datendienst zugreifen.  [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] [Datendienst\-Versionskontrolle](../../../../docs/framework/data/wcf/data-service-versioning-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxResultsPerCollection%2A>|Ermöglicht es Ihnen, die Größe einer Antwort einzuschränken, indem Sie die Anzahl von Entitäten in jeder Entitätenmenge einschränken, die als Datenfeed zurückgegeben wird.|  
|<xref:System.Data.Services.DataServiceConfiguration.RegisterKnownType%2A>|Fügt der Liste der vom Datendienst erkannten Typen einen Datentyp hinzu.|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetAccessRule%2A>|Legt die Zugriffsrechte für Entitätenmengenressourcen fest, die im Datendienst verfügbar sind.  Ein Sternchenwert \(`*`\) kann für den Namensparameter angegeben werden, um den Zugriff für alle verbleibenden Entitätenmengen auf die gleiche Ebene festzulegen.  Es wird empfohlen, den Zugriff auf Entitätenmengen so festzulegen, dass der Zugriff auf die für Clientanwendungen erforderlichen Datendienstressourcen mit minimalen Rechten bereitgestellt wird.  Weitere Informationen finden Sie unter [Sichern von WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).  Beispiele für die minimalen Zugriffsrechte, die für eine bestimmte URI\- und HTTP\-Aktion erforderlich sind, finden Sie in der Tabelle im Abschnitt [Minimale Ressourcenzugriffsrechte](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md#accessRequirements).|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetPageSize%2A>|Legt die maximale Seitengröße für eine Entitätenmengenressource fest.  Weitere Informationen finden Sie unter [Gewusst wie: Aktivieren von Paging für Datendienstergebnisse](../../../../docs/framework/data/wcf/how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.SetServiceOperationAccessRule%2A>|Legt die Zugriffsrechte für Dienstvorgänge fest, die für den Datendienst definiert sind.  Weitere Informationen finden Sie unter [Dienstvorgänge](../../../../docs/framework/data/wcf/service-operations-wcf-data-services.md).  Ein Sternchenwert \(`*`\) kann für den Namensparameter angegeben werden, um den Zugriff für alle Dienstvorgänge auf die gleiche Ebene festzulegen.  Es wird empfohlen, den Zugriff auf Dienstvorgänge so festzulegen, dass der Zugriff auf die für Clientanwendungen erforderlichen Datendienstressourcen mit minimalen Rechten bereitgestellt wird.  Weitere Informationen finden Sie unter [Sichern von WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.UseVerboseErrors%2A>|Diese Konfigurationseigenschaft ermöglicht es Ihnen, die Problembehandlung in einem Datendienst zu vereinfachen, indem mehr Informationen in der Fehlerantwortnachricht zurückgegeben werden.  Diese Option ist nicht für die Verwendung in einer Produktionsumgebung vorgesehen.  Weitere Informationen finden Sie unter [Entwickeln und Bereitstellen von WCF Data Services](../../../../docs/framework/data/wcf/developing-and-deploying-wcf-data-services.md).|  
  
<a name="accessRequirements"></a>   
## Minimale Ressourcenzugriffsrechte  
 In der folgenden Tabelle sind die minimalen Rechte für Entitätenmengen aufgelistet, die gewährt werden müssen, um einen bestimmten Vorgang auszuführen.  Pfadbeispiele basieren auf dem Northwind\-Datendienst, der beim Ausführen des[Schnellstarts](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md) erstellt wird.  Da sowohl die <xref:System.Data.Services.EntitySetRights>\-Enumeration als auch die <xref:System.Data.Services.ServiceOperationRights>\-Enumeration mit dem <xref:System.FlagsAttribute> definiert werden, können Sie mithilfe eines logischen OR\-Operators mehrere Berechtigungen für eine Entitätenmenge oder einen Vorgang angeben.  Weitere Informationen finden Sie unter [Vorgehensweise: Aktivieren des Zugriffs auf den Datendienst](../../../../docs/framework/data/wcf/how-to-enable-access-to-the-data-service-wcf-data-services.md).  
  
|Pfad\/Aktion|`GET`|`DELETE`|`MERGE`|`POST`|`PUT`|  
|------------------|-----------|--------------|-------------|------------|-----------|  
|`/Customers`|<xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|  
|`/Customers('ALFKI')`|<xref:System.Data.Services.EntitySetRights>|<xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|<xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|nicht verfügbar|<xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|  
|`/Customers('ALFKI')/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights> oder <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders` `:` und <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|  
|`/Customers('ALFKI')/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|  
|`/Orders(10643)/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|`Customers`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|`Customers`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>;<br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|  
|`/Customers('ALFKI')/$links/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights> oder <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|  
|`/Customers('ALFKI')/$links/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|`Customers`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights> oder <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|  
|`/Orders(10643)/$links/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|`Orders`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights> oder <xref:System.Data.Services.EntitySetRights>|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights>;<br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|  
|`/Customers/$count`|<xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|  
|`/Customers('ALFKI')/ContactName`|<xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights>|  
|`/Customers('ALFKI')/Address/StreetAddress/$value` <sup>1</sup>|<xref:System.Data.Services.EntitySetRights>|<xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|  
|`/Customers('ALFKI')/ContactName/$value`|<xref:System.Data.Services.EntitySetRights>|<xref:System.Data.Services.EntitySetRights> und <xref:System.Data.Services.EntitySetRights>|<xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights>|  
|`/Customers('ALFKI')/$value` <sup>2</sup>|<xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|<xref:System.Data.Services.EntitySetRights>|  
|`/Customers?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|`Customers`: <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|  
|`/Customers('ALFKI')?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights><br /><br /> \- und \-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights>|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|Nicht unterstützt|  
  
 <sup>1</sup> In diesem Beispiel stellt `Address` eine komplexe Typeigenschaft der `Customers`\-Entität dar, die über eine Eigenschaft mit dem Namen `StreetAddress` verfügt.  In dem für die Northwind\-Datendienste verwendeten Modell ist dieser komplexe Typ nicht explizit definiert.  Wenn das Datenmodell mit dem [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)]\-Anbieter definiert wird, können Sie einen solchen komplexen Typ mithilfe der [!INCLUDE[adonet_edm](../../../../includes/adonet-edm-md.md)]\-Tools definieren.  Weitere Informationen finden Sie unter [How to: Create and Modify Complex Types](http://msdn.microsoft.com/de-de/afb8e206-0ffe-4597-b6d4-6ab566897e1d).  
  
 <sup>2</sup> Dieser URI wird unterstützt, wenn eine ein Binary Large Object \(BLOB\) zurückgebende Eigenschaft als Medienressource definiert wird, die zu einer Entität gehört, die ein Medienlinkeintrag ist \(in diesem Fall `Customers`\).  Weitere Informationen finden Sie unter [Streaminganbieter](../../../../docs/framework/data/wcf/streaming-provider-wcf-data-services.md).  
  
<a name="versioning"></a>   
## Versionsanforderungen  
 Für die folgenden Konfigurationsverhalten eines Datendiensts ist Version 2 des [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]\-Protokolls oder eine höhere Version erforderlich:  
  
-   Unterstützung von Count\-Anforderungen  
  
-   Unterstützung der $select\-Abfrageoption für die Projektion  
  
 Weitere Informationen finden Sie unter [Datendienst\-Versionskontrolle](../../../../docs/framework/data/wcf/data-service-versioning-wcf-data-services.md).  
  
## Siehe auch  
 [Definieren von WCF Data Services](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)   
 [Hosten des Datendiensts](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md)