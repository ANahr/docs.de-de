---
title: "Übersicht über Freezable-Objekte"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Freezable objects [WPF], description
- unfreezing Freezable objects [WPF]
- classes [WPF], Freezable
ms.assetid: 89c71692-4f43-4057-b611-67c6a8a863a2
caps.latest.revision: "30"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 49778dc9551652ee4a4d36426b4b396652b9dcd2
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/21/2017
---
# <a name="freezable-objects-overview"></a><span data-ttu-id="8075b-102">Übersicht über Freezable-Objekte</span><span class="sxs-lookup"><span data-stu-id="8075b-102">Freezable Objects Overview</span></span>
<span data-ttu-id="8075b-103">In diesem Thema wird beschrieben, wie effektiv verwenden und erstellen <xref:System.Windows.Freezable> Objekte, die spezielle Funktionen bereitstellen, die Leistung der Anwendung verbessern können.</span><span class="sxs-lookup"><span data-stu-id="8075b-103">This topic describes how to effectively use and create <xref:System.Windows.Freezable> objects, which provide special features that can help improve application performance.</span></span> <span data-ttu-id="8075b-104">Beispiele für freezable-Objekte sind Pinsel, Stifte, Transformationen, Geometrien und Animationen.</span><span class="sxs-lookup"><span data-stu-id="8075b-104">Examples of freezable objects include brushes, pens, transformations, geometries, and animations.</span></span>  
  
<a name="whatisafreezable"></a>   
## <a name="what-is-a-freezable"></a><span data-ttu-id="8075b-105">Was ist ein Freezable?</span><span class="sxs-lookup"><span data-stu-id="8075b-105">What Is a Freezable?</span></span>  
 <span data-ttu-id="8075b-106">Ein <xref:System.Windows.Freezable> ist eine besondere Art von Objekt, das zwei Zustände verfügt: nicht fixiert und fixiert.</span><span class="sxs-lookup"><span data-stu-id="8075b-106">A <xref:System.Windows.Freezable> is a special type of object that has two states: unfrozen and frozen.</span></span> <span data-ttu-id="8075b-107">Wenn nicht fixiert ist, eine <xref:System.Windows.Freezable> angezeigt wird, verhält sich wie ein anderes Objekt.</span><span class="sxs-lookup"><span data-stu-id="8075b-107">When unfrozen, a <xref:System.Windows.Freezable> appears to behave like any other object.</span></span> <span data-ttu-id="8075b-108">Wenn fixiert, eine <xref:System.Windows.Freezable> kann nicht mehr geändert werden.</span><span class="sxs-lookup"><span data-stu-id="8075b-108">When frozen, a <xref:System.Windows.Freezable> can no longer be modified.</span></span>  
  
 <span data-ttu-id="8075b-109">Ein <xref:System.Windows.Freezable> bietet eine <xref:System.Windows.Freezable.Changed> Ereignis, um den Beobachter über alle Änderungen auf das Objekt zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="8075b-109">A <xref:System.Windows.Freezable> provides a <xref:System.Windows.Freezable.Changed> event to notify observers of any modifications to the object.</span></span> <span data-ttu-id="8075b-110">Das Fixieren von einem <xref:System.Windows.Freezable> kann die Leistung verbessern, da er nicht mehr benötigt, Ressourcen für änderungsbenachrichtigungen ausgeben.</span><span class="sxs-lookup"><span data-stu-id="8075b-110">Freezing a <xref:System.Windows.Freezable> can improve its performance, because it no longer needs to spend resources on change notifications.</span></span> <span data-ttu-id="8075b-111">Ein fixiertes <xref:System.Windows.Freezable> können ebenfalls freigegeben werden, während eine nicht fixierte threadübergreifend <xref:System.Windows.Freezable> nicht möglich.</span><span class="sxs-lookup"><span data-stu-id="8075b-111">A frozen <xref:System.Windows.Freezable> can also be shared across threads, while an unfrozen <xref:System.Windows.Freezable> cannot.</span></span>  
  
 <span data-ttu-id="8075b-112">Obwohl die <xref:System.Windows.Freezable> Klasse hat zahlreiche Anwendungsmöglichkeiten, die meisten <xref:System.Windows.Freezable> Objekte im [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] beziehen sich auf das Teilsystem Grafiken.</span><span class="sxs-lookup"><span data-stu-id="8075b-112">Although the <xref:System.Windows.Freezable> class has many applications, most <xref:System.Windows.Freezable> objects in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] are related to the graphics sub-system.</span></span>  
  
 <span data-ttu-id="8075b-113">Die <xref:System.Windows.Freezable> Klasse erleichtert es, bestimmte Systemobjekte Grafiken verwenden und die Anwendungsleistung verbessern können.</span><span class="sxs-lookup"><span data-stu-id="8075b-113">The <xref:System.Windows.Freezable> class makes it easier to use certain graphics system objects and can help improve application performance.</span></span> <span data-ttu-id="8075b-114">Beispiele für Typen, die von erben <xref:System.Windows.Freezable> enthalten die <xref:System.Windows.Media.Brush>, <xref:System.Windows.Media.Transform>, und <xref:System.Windows.Media.Geometry> Klassen.</span><span class="sxs-lookup"><span data-stu-id="8075b-114">Examples of types that inherit from <xref:System.Windows.Freezable> include the <xref:System.Windows.Media.Brush>, <xref:System.Windows.Media.Transform>, and <xref:System.Windows.Media.Geometry> classes.</span></span> <span data-ttu-id="8075b-115">Da sie nicht verwaltete Ressourcen enthalten, muss das System diese Objekte für die Änderungen überwachen und aktualisieren Sie dann ihre entsprechenden nicht verwalteten Ressourcen aus, wenn eine Änderung auf das ursprüngliche Objekt.</span><span class="sxs-lookup"><span data-stu-id="8075b-115">Because they contain unmanaged resources, the system must monitor these objects for modifications, and then update their corresponding unmanaged resources when there is a change to the original object.</span></span> <span data-ttu-id="8075b-116">Auch wenn Sie ein Grafikobjekt-System tatsächlich nicht ändern können, muss das System noch einige seiner Ressourcen, die Überwachung des Objekts verbringen für den Fall, dass Sie es ändern.</span><span class="sxs-lookup"><span data-stu-id="8075b-116">Even if you don't actually modify a graphics system object, the system must still spend some of its resources monitoring the object, in case you do change it.</span></span>  
  
 <span data-ttu-id="8075b-117">Nehmen wir beispielsweise an, die Sie erstellen eine <xref:System.Windows.Media.SolidColorBrush> Pinsel und verwenden, um den Hintergrund einer Schaltfläche zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="8075b-117">For example, suppose you create a <xref:System.Windows.Media.SolidColorBrush> brush and use it to paint the background of a button.</span></span>  
  
 [!code-csharp[freezablesample_procedural#FrozenExamplePart1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#frozenexamplepart1)]
 [!code-vb[freezablesample_procedural#FrozenExamplePart1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#frozenexamplepart1)]  
  
 <span data-ttu-id="8075b-118">Wenn die Schaltfläche gerendert wird, die [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Graphics-Teilsystem verwendet die Informationen, die Sie bereitgestellt haben, um eine Gruppe von Pixel, erstellen Sie die Darstellung einer Schaltfläche zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="8075b-118">When the button is rendered, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] graphics sub-system uses the information you provided to paint a group of pixels to create the appearance of a button.</span></span> <span data-ttu-id="8075b-119">Obwohl einen Pinsel mit Volltonfarbe verwenden, die beschreiben, wie die Schaltfläche gezeichnet werden soll, nicht Ihre Pinsel mit Volltonfarbe tatsächlich gezeichnet werden soll.</span><span class="sxs-lookup"><span data-stu-id="8075b-119">Although you used a solid color brush to describe how the button should be painted, your solid color brush doesn't actually do the painting.</span></span> <span data-ttu-id="8075b-120">Grafiksystem generiert schnelle, Low-Level-Objekte für die Schaltfläche und die Pinsel und jene Objekte, die tatsächlich auf dem Bildschirm angezeigt werden kann.</span><span class="sxs-lookup"><span data-stu-id="8075b-120">The graphics system generates fast, low-level objects for the button and the brush, and it is those objects that actually appear on the screen.</span></span>  
  
 <span data-ttu-id="8075b-121">Würden Sie den Pinsel ändern möchten, müssten diese Objekte auf niedriger Ebene erneut generiert werden.</span><span class="sxs-lookup"><span data-stu-id="8075b-121">If you were to modify the brush, those low-level objects would have to be regenerated.</span></span> <span data-ttu-id="8075b-122">Die freezable-Klasse ist, was einem Pinsel bietet die Möglichkeit, ihre entsprechenden generierten, Low-Level-Objekten zu suchen und diese aktualisieren, wenn sich ändert.</span><span class="sxs-lookup"><span data-stu-id="8075b-122">The freezable class is what gives a brush the ability to find its corresponding generated, low-level objects and to update them when it changes.</span></span> <span data-ttu-id="8075b-123">Wenn diese Funktion aktiviert ist, gilt der Pinsel, der als "aufgetaut".</span><span class="sxs-lookup"><span data-stu-id="8075b-123">When this ability is enabled, the brush is said to be "unfrozen."</span></span>  
  
 <span data-ttu-id="8075b-124">Eine freezable des <xref:System.Windows.Freezable.Freeze%2A> Methode ermöglicht es Ihnen, diese selbstaktualisierung Fähigkeit zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="8075b-124">A freezable's <xref:System.Windows.Freezable.Freeze%2A> method enables you to disable this self-updating ability.</span></span> <span data-ttu-id="8075b-125">Sie können diese Methode verwenden, um den Pinsel zu "fixierte", oder als nicht änderbar fest.</span><span class="sxs-lookup"><span data-stu-id="8075b-125">You can use this method to make the brush become "frozen," or unmodifiable.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8075b-126">Nicht jedes Objekt Freezable kann fixiert werden.</span><span class="sxs-lookup"><span data-stu-id="8075b-126">Not every Freezable object can be frozen.</span></span> <span data-ttu-id="8075b-127">Zur Vermeidung Auslösen einer <xref:System.InvalidOperationException>, überprüfen Sie den Wert des Freezable-Objekts <xref:System.Windows.Freezable.CanFreeze%2A> Eigenschaft, um zu bestimmen, ob er fixiert werden kann, bevor Sie versuchen, die sie fixieren.</span><span class="sxs-lookup"><span data-stu-id="8075b-127">To avoid throwing an <xref:System.InvalidOperationException>, check the value of the Freezable object's <xref:System.Windows.Freezable.CanFreeze%2A> property to determine whether it can be frozen before attempting to freeze it.</span></span>  
  
 [!code-csharp[freezablesample_procedural#FrozenExamplePart2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#frozenexamplepart2)]
 [!code-vb[freezablesample_procedural#FrozenExamplePart2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#frozenexamplepart2)]  
  
 <span data-ttu-id="8075b-128">Wenn Sie nicht mehr eine freezable ändern müssen, bietet das Fixieren Leistungsvorteile.</span><span class="sxs-lookup"><span data-stu-id="8075b-128">When you no longer need to modify a freezable, freezing it provides performance benefits.</span></span> <span data-ttu-id="8075b-129">Würden Sie den Pinsel in diesem Beispiel zu fixieren, müssten die Grafiksystem nicht mehr für die Änderungen zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="8075b-129">If you were to freeze the brush in this example, the graphics system would no longer need to monitor it for changes.</span></span> <span data-ttu-id="8075b-130">Grafiksystem kann auch andere Optimierungen vornehmen, da er weiß, dass der Pinsel nicht ändert.</span><span class="sxs-lookup"><span data-stu-id="8075b-130">The graphics system can also make other optimizations, because it knows the brush won't change.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8075b-131">Der Einfachheit halber bleiben freezable-Objekte nicht fixierten, es sei denn, Sie explizit fixieren.</span><span class="sxs-lookup"><span data-stu-id="8075b-131">For convenience, freezable objects remain unfrozen unless you explicitly freeze them.</span></span>  
  
<a name="frozenfreezables"></a>   
## <a name="using-freezables"></a><span data-ttu-id="8075b-132">Verwenden von Freezable-Objekte</span><span class="sxs-lookup"><span data-stu-id="8075b-132">Using Freezables</span></span>  
 <span data-ttu-id="8075b-133">Verwenden eine nicht fixierte ist wie die Verwendung eines Objekts eines anderen Typs freezable.</span><span class="sxs-lookup"><span data-stu-id="8075b-133">Using an unfrozen freezable is like using any other type of object.</span></span> <span data-ttu-id="8075b-134">Im folgenden Beispiel wird die Farbe des eine <xref:System.Windows.Media.SolidColorBrush> von Gelb zu Rot geändert wird, nachdem er verwendet wird, um den Hintergrund einer Schaltfläche zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="8075b-134">In the following example, the color of a <xref:System.Windows.Media.SolidColorBrush> is changed from yellow to red after it's used to paint the background of a button.</span></span> <span data-ttu-id="8075b-135">Die Grafiksystem funktioniert im Hintergrund automatisch die Schaltfläche von Gelb zu rot das nächste Mal geändert, wenn, das der Bildschirm aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="8075b-135">The graphics system works behind the scenes to automatically change the button from yellow to red the next time the screen is refreshed.</span></span>  
  
 [!code-csharp[freezablesample_procedural#UnFrozenExampleShort](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#unfrozenexampleshort)]
 [!code-vb[freezablesample_procedural#UnFrozenExampleShort](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#unfrozenexampleshort)]  
  
### <a name="freezing-a-freezable"></a><span data-ttu-id="8075b-136">Das Fixieren von einem Freezable</span><span class="sxs-lookup"><span data-stu-id="8075b-136">Freezing a Freezable</span></span>  
 <span data-ttu-id="8075b-137">Vornehmen einer <xref:System.Windows.Freezable> nicht änderbar ist, rufen Sie die <xref:System.Windows.Freezable.Freeze%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="8075b-137">To make a <xref:System.Windows.Freezable> unmodifiable, you call its <xref:System.Windows.Freezable.Freeze%2A> method.</span></span> <span data-ttu-id="8075b-138">Fixieren Sie ein Objekt, das freezable-Objekte enthält, werden diese Objekte ebenfalls fixiert.</span><span class="sxs-lookup"><span data-stu-id="8075b-138">When you freeze an object that contains freezable objects, those objects are frozen as well.</span></span> <span data-ttu-id="8075b-139">Angenommen, Sie Einfrieren eine <xref:System.Windows.Media.PathGeometry>, die Abbildungen und Segmente, die es enthält würde zu fixiert werden.</span><span class="sxs-lookup"><span data-stu-id="8075b-139">For example, if you freeze a <xref:System.Windows.Media.PathGeometry>, the figures and segments it contains would be frozen too.</span></span>  
  
 <span data-ttu-id="8075b-140">Eine Freezable **kann nicht** fixiert werden, wenn keines der folgenden erfüllt sind:</span><span class="sxs-lookup"><span data-stu-id="8075b-140">A Freezable **can't** be frozen if any of the following are true:</span></span>  
  
-   <span data-ttu-id="8075b-141">Es verfügt über animierte oder datengebundene Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="8075b-141">It has animated or data bound properties.</span></span>  
  
-   <span data-ttu-id="8075b-142">Sie verfügt über Eigenschaften, die von einer dynamischen Ressource festgelegt.</span><span class="sxs-lookup"><span data-stu-id="8075b-142">It has properties set by a dynamic resource.</span></span> <span data-ttu-id="8075b-143">(Finden Sie unter der [XAML-Ressourcen](../../../../docs/framework/wpf/advanced/xaml-resources.md) für Weitere Informationen zu dynamischen Ressourcen.)</span><span class="sxs-lookup"><span data-stu-id="8075b-143">(See the [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md) for more information about dynamic resources.)</span></span>  
  
-   <span data-ttu-id="8075b-144">Er enthält <xref:System.Windows.Freezable> untergeordnete Objekte, die nicht fixiert werden können.</span><span class="sxs-lookup"><span data-stu-id="8075b-144">It contains <xref:System.Windows.Freezable> sub-objects that can't be frozen.</span></span>  
  
 <span data-ttu-id="8075b-145">Wenn diese Bedingungen "false sind", und Sie nicht beabsichtigen, ändern Sie die <xref:System.Windows.Freezable>, und Sie darauf, um die Leistungsvorteile, die zuvor beschriebenen erhalten fixieren sollten.</span><span class="sxs-lookup"><span data-stu-id="8075b-145">If these conditions are false, and you don't intend to modify the <xref:System.Windows.Freezable>, then you should freeze it to gain the performance benefits described earlier.</span></span>  
  
 <span data-ttu-id="8075b-146">Nachdem Sie eine Freezable Objekts aufrufen <xref:System.Windows.Freezable.Freeze%2A> -Methode kann nicht mehr geändert werden.</span><span class="sxs-lookup"><span data-stu-id="8075b-146">Once you call a freezable's <xref:System.Windows.Freezable.Freeze%2A> method, it can no longer be modified.</span></span> <span data-ttu-id="8075b-147">Bei dem Versuch, ein fixierter ändern-Objekt Ursachen eine <xref:System.InvalidOperationException> ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="8075b-147">Attempting to modify a frozen object causes an <xref:System.InvalidOperationException> to be thrown.</span></span> <span data-ttu-id="8075b-148">Der folgende Code eine Ausnahme auslöst, weil wir versuchen, den Pinsel zu ändern, nachdem es eingefroren ist.</span><span class="sxs-lookup"><span data-stu-id="8075b-148">The following code throws an exception, because we attempt to modify the brush after it's been frozen.</span></span>  
  
 [!code-csharp[freezablesample_procedural#ExceptionExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#exceptionexample)]
 [!code-vb[freezablesample_procedural#ExceptionExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#exceptionexample)]  
  
 <span data-ttu-id="8075b-149">Um zu vermeiden, diese Ausnahme auslösen, können Sie die <xref:System.Windows.Freezable.IsFrozen%2A> Methode, um zu bestimmen, ob eine <xref:System.Windows.Freezable> eingefroren ist.</span><span class="sxs-lookup"><span data-stu-id="8075b-149">To avoid throwing this exception, you can use the <xref:System.Windows.Freezable.IsFrozen%2A> method to determine whether a <xref:System.Windows.Freezable> is frozen.</span></span>  
  
 [!code-csharp[freezablesample_procedural#CheckIsFrozenExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#checkisfrozenexample)]
 [!code-vb[freezablesample_procedural#CheckIsFrozenExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#checkisfrozenexample)]  
  
 <span data-ttu-id="8075b-150">Im vorherigen Codebeispiel wurde versucht eine änderbare Kopie einer fixierten Objekt mit der <xref:System.Windows.Freezable.Clone%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="8075b-150">In the preceding code example, a modifiable copy was made of a frozen object using the <xref:System.Windows.Freezable.Clone%2A> method.</span></span> <span data-ttu-id="8075b-151">Im nächste Abschnitt erläutert ausführlich das Klonen.</span><span class="sxs-lookup"><span data-stu-id="8075b-151">The next section discusses cloning in more detail.</span></span>  
  
 <span data-ttu-id="8075b-152">**Hinweis** da ein fixiertes freezable nicht animiert werden kann, erstellt das Animationssystem automatisch änderbare Klone von fixierten <xref:System.Windows.Freezable> Objekte, wenn Sie versuchen, die sie mit dem animiert werden soll eine <xref:System.Windows.Media.Animation.Storyboard>.</span><span class="sxs-lookup"><span data-stu-id="8075b-152">**Note** Because a frozen freezable cannot be animated, the animation system will automatically create modifiable clones of frozen <xref:System.Windows.Freezable> objects when you try to animate them with a <xref:System.Windows.Media.Animation.Storyboard>.</span></span> <span data-ttu-id="8075b-153">Um die Leistung durch das Klonen Mehraufwand verursacht zu vermeiden, lassen Sie ein Objekt, das nicht fixiert ist, wenn Sie beabsichtigen, die es dem animiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="8075b-153">To eliminate the performance overhead caused by cloning, leave an object unfrozen if you intend to animate it.</span></span> <span data-ttu-id="8075b-154">Weitere Informationen über Animationen mit Storyboards finden Sie unter der [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8075b-154">For more information about animating with storyboards, see the [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>  
  
### <a name="freezing-from-markup"></a><span data-ttu-id="8075b-155">Einfrieren von Markup</span><span class="sxs-lookup"><span data-stu-id="8075b-155">Freezing from Markup</span></span>  
 <span data-ttu-id="8075b-156">So fixieren Sie einen <xref:System.Windows.Freezable> Objekt im Markup deklariert wurde, verwenden Sie die `PresentationOptions:Freeze` Attribut.</span><span class="sxs-lookup"><span data-stu-id="8075b-156">To freeze a <xref:System.Windows.Freezable> object declared in markup, you use the `PresentationOptions:Freeze` attribute.</span></span> <span data-ttu-id="8075b-157">Im folgenden Beispiel eine <xref:System.Windows.Media.SolidColorBrush> als Seitenressource deklariert und fixiert.</span><span class="sxs-lookup"><span data-stu-id="8075b-157">In the following example, a <xref:System.Windows.Media.SolidColorBrush> is declared as a page resource and frozen.</span></span> <span data-ttu-id="8075b-158">Es wird dann verwendet, um den Hintergrund einer Schaltfläche festzulegen.</span><span class="sxs-lookup"><span data-stu-id="8075b-158">It is then used to set the background of a button.</span></span>  
  
 [!code-xaml[FreezableSample#FreezeFromMarkupWholePage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FreezableSample/CS/FreezeFromMarkupExample.xaml#freezefrommarkupwholepage)]  
  
 <span data-ttu-id="8075b-159">Verwenden der `Freeze` -Attribut, müssen Sie auf den Namespace der Präsentation Optionen zuordnen: `http://schemas.microsoft.com/winfx/2006/xaml/presentation/options`.</span><span class="sxs-lookup"><span data-stu-id="8075b-159">To use the `Freeze` attribute, you must map to the presentation options namespace: `http://schemas.microsoft.com/winfx/2006/xaml/presentation/options`.</span></span> <span data-ttu-id="8075b-160">`PresentationOptions`ist die empfohlene Präfix für die Zuordnung dieses Namespaces.</span><span class="sxs-lookup"><span data-stu-id="8075b-160">`PresentationOptions` is the recommended prefix for mapping this namespace:</span></span>  
  
```  
xmlns:PresentationOptions="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"   
```  
  
 <span data-ttu-id="8075b-161">Da nicht alle XAML-Readern dieses Attribut nicht erkennen, wird empfohlen, die Sie verwenden die [Mc: Ignorierbares Attribut](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) zum Kennzeichnen der `Presentation:Freeze` ignorierbares Attribut:</span><span class="sxs-lookup"><span data-stu-id="8075b-161">Because not all XAML readers recognize this attribute, it's recommended that you use the [mc:Ignorable Attribute](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) to mark the `Presentation:Freeze` attribute as ignorable:</span></span>  
  
```  
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
mc:Ignorable="PresentationOptions"  
```  
  
 <span data-ttu-id="8075b-162">Weitere Informationen finden Sie unter der [Mc: Ignorierbares Attribut](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) Seite.</span><span class="sxs-lookup"><span data-stu-id="8075b-162">For more information, see the [mc:Ignorable Attribute](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) page.</span></span>  
  
### <a name="unfreezing-a-freezable"></a><span data-ttu-id="8075b-163">"Fixierung" eine Freezable</span><span class="sxs-lookup"><span data-stu-id="8075b-163">"Unfreezing" a Freezable</span></span>  
 <span data-ttu-id="8075b-164">Einmal fixiert, eine <xref:System.Windows.Freezable> nie geändert oder aufgetaut; Sie können jedoch mit einen nicht fixierten Klon erstellen die <xref:System.Windows.Freezable.Clone%2A> oder <xref:System.Windows.Freezable.CloneCurrentValue%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="8075b-164">Once frozen, a <xref:System.Windows.Freezable> can never be modified or unfrozen; however, you can create an unfrozen clone using the <xref:System.Windows.Freezable.Clone%2A> or <xref:System.Windows.Freezable.CloneCurrentValue%2A> method.</span></span>  
  
 <span data-ttu-id="8075b-165">Im folgenden Beispiel Hintergrund der Schaltfläche mit einem Pinsel festgelegt ist, und klicken Sie dann den Pinsel eingefroren ist.</span><span class="sxs-lookup"><span data-stu-id="8075b-165">In the following example, the button's background is set with a brush and that brush is then frozen.</span></span> <span data-ttu-id="8075b-166">Eine nicht fixierte Kopie des Pinsels mithilfe der <xref:System.Windows.Freezable.Clone%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="8075b-166">An unfrozen copy is made of the brush using the <xref:System.Windows.Freezable.Clone%2A> method.</span></span> <span data-ttu-id="8075b-167">Der Klon wird geändert und verwendet, um den Hintergrund der Schaltfläche von Gelb zu Rot zu ändern.</span><span class="sxs-lookup"><span data-stu-id="8075b-167">The clone is modified and used to change the button's background from yellow to red.</span></span>  
  
 [!code-csharp[freezablesample_procedural#CloneExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#cloneexample)]
 [!code-vb[freezablesample_procedural#CloneExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#cloneexample)]  
  
> [!NOTE]
>  <span data-ttu-id="8075b-168">Unabhängig davon, welche Clone-Methode, die Sie verwenden, Animationen nie in die neue kopiert werden <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="8075b-168">Regardless of which clone method you use, animations are never copied to the new <xref:System.Windows.Freezable>.</span></span>  
  
 <span data-ttu-id="8075b-169">Die <xref:System.Windows.Freezable.Clone%2A> und <xref:System.Windows.Freezable.CloneCurrentValue%2A> Methoden erzeugen tiefe Kopien des Freezable-Objekts.</span><span class="sxs-lookup"><span data-stu-id="8075b-169">The <xref:System.Windows.Freezable.Clone%2A> and <xref:System.Windows.Freezable.CloneCurrentValue%2A> methods produce deep copies of the freezable.</span></span> <span data-ttu-id="8075b-170">Wenn die freezable Weitere fixierte freezable-Objekte enthält, sind sie auch geklont und änderbaren vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="8075b-170">If the freezable contains other frozen freezable objects, they are also cloned and made modifiable.</span></span> <span data-ttu-id="8075b-171">Wenn Sie ein fixierter Klonen z. B. <xref:System.Windows.Media.PathGeometry> zum verändern zu können, die Abbildungen und Segmente, die es enthält auch kopiert und änderbare vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="8075b-171">For example, if you clone a frozen <xref:System.Windows.Media.PathGeometry> to make it modifiable, the figures and segments it contains are also copied and made modifiable.</span></span>  
  
<a name="createyourownfreezableclass"></a>   
## <a name="creating-your-own-freezable-class"></a><span data-ttu-id="8075b-172">Erstellen eine eigene Freezable-Klasse</span><span class="sxs-lookup"><span data-stu-id="8075b-172">Creating Your Own Freezable Class</span></span>  
 <span data-ttu-id="8075b-173">Eine Klasse, die abgeleitet <xref:System.Windows.Freezable> erhält die folgenden Features.</span><span class="sxs-lookup"><span data-stu-id="8075b-173">A class that derives from <xref:System.Windows.Freezable> gains the following features.</span></span>  
  
-   <span data-ttu-id="8075b-174">Besondere Zustände: ein schreibgeschützter (fixiert) und einen beschreibbaren Status.</span><span class="sxs-lookup"><span data-stu-id="8075b-174">Special states: a read-only (frozen) and a writable state.</span></span>  
  
-   <span data-ttu-id="8075b-175">Threadsicherheit: ein fixierter <xref:System.Windows.Freezable> über Threads freigegeben werden können.</span><span class="sxs-lookup"><span data-stu-id="8075b-175">Thread safety: a frozen <xref:System.Windows.Freezable> can be shared across threads.</span></span>  
  
-   <span data-ttu-id="8075b-176">Detaillierte änderungsbenachrichtigung: im Gegensatz zu anderen <xref:System.Windows.DependencyObject>s, bieten Freezable-Objekte änderungsbenachrichtigungen an, wenn untergeordnete Eigenschaftswerte zu verändern.</span><span class="sxs-lookup"><span data-stu-id="8075b-176">Detailed change notification: Unlike other <xref:System.Windows.DependencyObject>s, Freezable objects provide change notifications when sub-property values change.</span></span>  
  
-   <span data-ttu-id="8075b-177">Einfache Klonen: Freezable-Klasse verfügt über mehrere Methoden, die tiefe Klone erstellen bereits implementiert.</span><span class="sxs-lookup"><span data-stu-id="8075b-177">Easy cloning: the Freezable class has already implemented several methods that produce deep clones.</span></span>  
  
 <span data-ttu-id="8075b-178">Ein <xref:System.Windows.Freezable> ist eine Art von <xref:System.Windows.DependencyObject>, und verwendet daher Abhängigkeitseigenschaftensystem.</span><span class="sxs-lookup"><span data-stu-id="8075b-178">A <xref:System.Windows.Freezable> is a type of <xref:System.Windows.DependencyObject>, and therefore uses the dependency property system.</span></span> <span data-ttu-id="8075b-179">Die Klasseneigenschaften müssen keine Abhängigkeitseigenschaften sein, aber mithilfe von Abhängigkeitseigenschaften reduziert die Menge an Code, die Sie schreiben, da müssen die <xref:System.Windows.Freezable> Klasse mit Abhängigkeitseigenschaften Bedenken entwickelt wurde.</span><span class="sxs-lookup"><span data-stu-id="8075b-179">Your class properties don't have to be dependency properties, but using dependency properties will reduce the amount of code you have to write, because the <xref:System.Windows.Freezable> class was designed with dependency properties in mind.</span></span> <span data-ttu-id="8075b-180">Weitere Informationen zu Abhängigkeitseigenschaftensystem, finden Sie unter der [Übersicht über Abhängigkeitseigenschaften](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8075b-180">For more information about the dependency property system, see the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span>  
  
 <span data-ttu-id="8075b-181">Jede <xref:System.Windows.Freezable> Unterklasse überschreiben, muss die <xref:System.Windows.Freezable.CreateInstanceCore%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="8075b-181">Every <xref:System.Windows.Freezable> subclass must override the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method.</span></span> <span data-ttu-id="8075b-182">Wenn Ihre Klasse Abhängigkeitseigenschaften für alle ihre Daten verwendet werden, sind Sie nicht mehr benötigen.</span><span class="sxs-lookup"><span data-stu-id="8075b-182">If your class uses dependency properties for all its data, you're finished.</span></span>  
  
 <span data-ttu-id="8075b-183">Wenn Ihre Klasse nicht Abhängigkeitseigenschaft-Datenmember enthält, müssen Sie auch die folgenden Methoden überschreiben:</span><span class="sxs-lookup"><span data-stu-id="8075b-183">If your class contains non-dependency property data members, you must also override the following methods:</span></span>  
  
-   <xref:System.Windows.Freezable.CloneCore%2A>  
  
-   <xref:System.Windows.Freezable.CloneCurrentValueCore%2A>  
  
-   <xref:System.Windows.Freezable.GetAsFrozenCore%2A>  
  
-   <xref:System.Windows.Freezable.GetCurrentValueAsFrozenCore%2A>  
  
-   <xref:System.Windows.Freezable.FreezeCore%2A>  
  
 <span data-ttu-id="8075b-184">Sie müssen auch beachten, dass für den Zugriff auf und Schreiben in Datenmember, die nicht Abhängigkeitseigenschaften sind die folgenden Regeln:</span><span class="sxs-lookup"><span data-stu-id="8075b-184">You must also observe the following rules for accessing and writing to data members that are not dependency properties:</span></span>  
  
-   <span data-ttu-id="8075b-185">Am Anfang eines beliebigen [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] , ohne Abhängigkeiten Eigenschaftenmember Daten liest, rufen Sie die <xref:System.Windows.Freezable.ReadPreamble%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="8075b-185">At the beginning of any [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] that reads non-dependency property data members, call the <xref:System.Windows.Freezable.ReadPreamble%2A> method.</span></span>  
  
-   <span data-ttu-id="8075b-186">Rufen Sie am Anfang jeder API, die nicht Abhängigkeitseigenschaft Datenmember schreibt die <xref:System.Windows.Freezable.WritePreamble%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="8075b-186">At the beginning of any API that writes non-dependency property data members, call the <xref:System.Windows.Freezable.WritePreamble%2A> method.</span></span> <span data-ttu-id="8075b-187">(Sobald Sie aufgerufen haben <xref:System.Windows.Freezable.WritePreamble%2A> in einer [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], Sie müssen einen zusätzlichen Aufruf stellen <xref:System.Windows.Freezable.ReadPreamble%2A> , wenn Sie auch ohne Abhängigkeiten eigenschaftsdatenmember lesen.)</span><span class="sxs-lookup"><span data-stu-id="8075b-187">(Once you've called <xref:System.Windows.Freezable.WritePreamble%2A> in an [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], you don't need to make an additional call to <xref:System.Windows.Freezable.ReadPreamble%2A> if you also read non-dependency property data members.)</span></span>  
  
-   <span data-ttu-id="8075b-188">Rufen Sie die <xref:System.Windows.Freezable.WritePostscript%2A> -Methode vor dem Beenden von Methoden, die in nicht Abhängigkeitseigenschaft Datenmember schreiben.</span><span class="sxs-lookup"><span data-stu-id="8075b-188">Call the <xref:System.Windows.Freezable.WritePostscript%2A> method before exiting methods that write to non-dependency property data members.</span></span>  
  
 <span data-ttu-id="8075b-189">Wenn Ihre Klasse nicht Abhängigkeitseigenschaft Datenmember enthält, sind <xref:System.Windows.DependencyObject> Objekte aufweist, müssen Sie auch Aufrufen der <xref:System.Windows.Freezable.OnFreezablePropertyChanged%2A> Methode bei jeder Änderung auf Verhältnis der Werte, auch wenn Sie auf das Element festlegen `null`.</span><span class="sxs-lookup"><span data-stu-id="8075b-189">If your class contains non-dependency-property data members that are <xref:System.Windows.DependencyObject> objects, you must also call the <xref:System.Windows.Freezable.OnFreezablePropertyChanged%2A> method each time you change on of their values, even if you're setting the member to `null`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8075b-190">Es ist sehr wichtig, dass Sie jede beginnen <xref:System.Windows.Freezable> Methode, die Sie außer Kraft, durch die basisimplementierung aufrufen setzen.</span><span class="sxs-lookup"><span data-stu-id="8075b-190">It's very important that you begin each <xref:System.Windows.Freezable> method you override with a call to the base implementation.</span></span>  
  
 <span data-ttu-id="8075b-191">Ein Beispiel eines benutzerdefinierten <xref:System.Windows.Freezable> Klasse, finden Sie unter der [benutzerdefinierten Animation Sample](http://go.microsoft.com/fwlink/?LinkID=159981).</span><span class="sxs-lookup"><span data-stu-id="8075b-191">For an example of a custom <xref:System.Windows.Freezable> class, see the [Custom Animation Sample](http://go.microsoft.com/fwlink/?LinkID=159981).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8075b-192">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="8075b-192">See Also</span></span>  
 <xref:System.Windows.Freezable>  
 [<span data-ttu-id="8075b-193">Benutzerdefiniertes Animationsbeispiel</span><span class="sxs-lookup"><span data-stu-id="8075b-193">Custom Animation Sample</span></span>](http://go.microsoft.com/fwlink/?LinkID=159981)  
 [<span data-ttu-id="8075b-194">Übersicht über Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="8075b-194">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="8075b-195">Benutzerdefinierte Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="8075b-195">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)
