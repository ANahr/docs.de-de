---
title: Formularbereitstellung
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: fa6f84f9-2e07-4e3c-92d0-a245308b7dff
caps.latest.revision: "9"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: e0fe1f8641de2b4ee504deeae8f97b312dfe9b99
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/02/2017
---
# <a name="form-post"></a><span data-ttu-id="5986b-102">Formularbereitstellung</span><span class="sxs-lookup"><span data-stu-id="5986b-102">Form Post</span></span>
<span data-ttu-id="5986b-103">In diesem Beispiel wird veranschaulicht, wie das WCF-REST-Programmiermodell zur Unterstützung neuer Formate für eingehende Antworten erweitert wird.</span><span class="sxs-lookup"><span data-stu-id="5986b-103">This sample demonstrates how to extend the WCF REST programming model to support new incoming request formats.</span></span> <span data-ttu-id="5986b-104">Das Beispiel umfasst auch die Implementierung eines Formatierungsprogramms, mit dem eine Anforderung von einer HTML-Formularbereitstellung in einen [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-Typ deserialisiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="5986b-104">The sample also includes an implementation of a formatter that can deserialize a request from an HTML form post into a [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] type.</span></span> <span data-ttu-id="5986b-105">Im Beispiel wird außerdem eine T4-Vorlage verwendet, um eine HTML-Seite zurückzugeben. Sie stellt das HTML-Formular bereit, das die Benutzer an den WCF REST-Dienst zurücksenden können.</span><span class="sxs-lookup"><span data-stu-id="5986b-105">In addition, the sample uses a T4 Template to return an HTML page, which provides the HTML form that users can post back to the WCF REST service.</span></span>  
  
## <a name="demonstrates"></a><span data-ttu-id="5986b-106">Veranschaulicht</span><span class="sxs-lookup"><span data-stu-id="5986b-106">Demonstrates</span></span>  
  
-   <span data-ttu-id="5986b-107">Erweitern der Unterstützung des Formats von eingehenden Anforderungen</span><span class="sxs-lookup"><span data-stu-id="5986b-107">Extending support for incoming request formats.</span></span>  
  
-   <span data-ttu-id="5986b-108">Integrieren von T4-Vorlagen</span><span class="sxs-lookup"><span data-stu-id="5986b-108">Integrating T4 templates.</span></span>  
  
## <a name="discussion"></a><span data-ttu-id="5986b-109">Diskussion</span><span class="sxs-lookup"><span data-stu-id="5986b-109">Discussion</span></span>  
 <span data-ttu-id="5986b-110">Dieses Beispiel besteht aus zwei Projekten.</span><span class="sxs-lookup"><span data-stu-id="5986b-110">This sample consists of two projects.</span></span> <span data-ttu-id="5986b-111">Ein Projekt ist die HtmlFormProcessing-Bibliothek. Sie enthält ein benutzerdefiniertes Formatierungsprogramm für Anforderungen, mit dem HTML-Formularbereitstellungen zu [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-Typen deserialisiert werden können.</span><span class="sxs-lookup"><span data-stu-id="5986b-111">One project is the HtmlFormProcessing library that includes a custom request formatter that can deserialize HTML form posts into [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types.</span></span> <span data-ttu-id="5986b-112">Das zweite Projekt ist eine Konsolenanwendung, mit der das Beispiel eines grundlegenden Ressourcendiensts dahingehend erweitert wird, dass ein benutzerdefiniertes Formatierungsprogramm für Anforderungen aus der HtmlFormProcessing-Bibliothek verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="5986b-112">The second project is a console application that extends the Basic Resource Service sample to use the custom request formatter of the HtmlFormProcessing library.</span></span>  
  
 <span data-ttu-id="5986b-113">Das benutzerdefinierte Formatierungsprogramm kann HTML-Formularbereitstellungen (HtmlFormRequestDispatchFormatter) deserialisieren und akzeptiert beide [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]-Typen, die mithilfe des <xref:System.ServiceModel.Dispatcher.QueryStringConverter> und mit <xref:System.Runtime.Serialization.DataContractAttribute> markierten Typen von einer Zeichenfolge konvertiert werden können. Dieses Attribut verfügt nur über Member, die mit dem QueryStringConverter von einer Zeichenfolge konvertiert werden können.</span><span class="sxs-lookup"><span data-stu-id="5986b-113">The custom formatter that can deserialize HTML form posts (HtmlFormRequestDispatchFormatter) accepts both [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] types that can be converted from a string using the <xref:System.ServiceModel.Dispatcher.QueryStringConverter> and types marked with <xref:System.Runtime.Serialization.DataContractAttribute> that only have members that can be converted from a string using the QueryStringConverter.</span></span>  
  
 <span data-ttu-id="5986b-114">Das HtmlFormProcessing-Bibliotheksprojekt enthält außerdem eine abstrakte Basisklasse, `RequestBodyDispatchFormatter`, mit der andere benutzerdefinierte Anforderungsformatierungsprogramme erstellt werden können.</span><span class="sxs-lookup"><span data-stu-id="5986b-114">The HtmlFormProcessing library project also includes an abstract base class, `RequestBodyDispatchFormatter`, which can be used to create other custom request formatters.</span></span> <span data-ttu-id="5986b-115">Die Ableitung vom `RequestBodyDispatchFormatter` ermöglicht es Entwicklern, sich auf die Deserialisierungslogik des Anforderungstexts zu konzentrieren. Auf diese Weise können die URI-Vorlagenparameter von der Basisklasse den Methodenparametern des Vorgangs zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="5986b-115">Deriving from the `RequestBodyDispatchFormatter` allows a developer to focus on the request body deserialization logic, which allows the base class to map the URI template parameters to the operation’s method parameters.</span></span> <span data-ttu-id="5986b-116">Im HtmlFormProcessing-Bibliothekprojekt befindet sich weiterhin die `HtmlFormProcessingBehavior`-Klasse, die veranschaulicht, wie vom <xref:System.ServiceModel.Description.WebHttpBehavior> abgeleitet wird, um das Standardformatierungsprogramm für Anforderungen durch ein benutzerdefiniertes Formatierungsprogramm für Anforderungen zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="5986b-116">Also in the HtmlFormProcessing library project is the `HtmlFormProcessingBehavior` class, which demonstrates how to derive from the <xref:System.ServiceModel.Description.WebHttpBehavior> to replace the default request formatter with a custom request formatter.</span></span>  
  
 <span data-ttu-id="5986b-117">Diese Konsolenanwendungsprojekt erweitert die [grundlegenden Ressourcendiensts](../../../../docs/framework/wcf/samples/basic-resource-service.md) Beispiel.</span><span class="sxs-lookup"><span data-stu-id="5986b-117">This console application project extends the [Basic Resource Service](../../../../docs/framework/wcf/samples/basic-resource-service.md) sample.</span></span> <span data-ttu-id="5986b-118">Im Beispiel eines grundlegenden Ressourcendiensts wird veranschaulicht, wie eine Ressource in einer Weise verfügbar gemacht wird, die das WCF REST-Programmiermodell verwendet.</span><span class="sxs-lookup"><span data-stu-id="5986b-118">The Basic Resource Service sample demonstrates how to expose a resource in a manner that uses the WCF REST programming model.</span></span> <span data-ttu-id="5986b-119">Im Beispiel eines grundlegenden Ressourcendiensts wird eine Kundenauflistungsressource so verfügbar gemacht, dass Kunden in der Auflistung erstellt, abgerufen, aktualisiert und gelöscht werden können.</span><span class="sxs-lookup"><span data-stu-id="5986b-119">In the Basic Resource Service sample, a customer collection resource is exposed such that customers in the collection can be created, retrieved, updated and deleted.</span></span> <span data-ttu-id="5986b-120">Im Beispiel eines grundlegenden Ressourcendiensts werden nur die zwei systemintern unterstützten, eingehenden Anforderungsformate XML und JSON verwendet.</span><span class="sxs-lookup"><span data-stu-id="5986b-120">The Basic Resource Service sample only uses the two natively supported incoming request formats, XML and JSON.</span></span>  
  
 <span data-ttu-id="5986b-121">Die Konsolenanwendung in diesem Beispiel zur Formularbereitstellung verwendet das benutzerdefinierte Formatierungsprogramm in der HtmlFormProcessing-Bibliothek, mit dem Benutzer Kunden erstellen können, indem sie über einen Browser eine Anfrage von einer HTML-Formularbereitstellung senden.</span><span class="sxs-lookup"><span data-stu-id="5986b-121">The console application in this Form Post sample utilizes the custom formatter in the HtmlFormProcessing library, which allows users to create customers by sending a request from an HTML form post using a browser.</span></span> <span data-ttu-id="5986b-122">Damit wird auch ein Vorgang hinzugefügt, mit dem eine HTML-Seite zurückgegeben wird. Dazu gehört u. a., dass das Formular an den Dienst zurückgesendet wird.</span><span class="sxs-lookup"><span data-stu-id="5986b-122">It also adds an operation that returns an HTML page, which includes the form to be posted back to the service.</span></span> <span data-ttu-id="5986b-123">Diese HTML-Seite wird mit einer vorverarbeiteten T4-Vorlage generiert, die aus einer TT-Datei und einer automatisch generierten CS-Datei besteht.</span><span class="sxs-lookup"><span data-stu-id="5986b-123">This HTML page is generated using a preprocessed T4 template, which consists of a .tt file and an auto-generated .cs file.</span></span> <span data-ttu-id="5986b-124">Die TT-Datei ermöglicht es Entwicklern, eine Antwort in ein Vorlagenformular zu schreiben, das Variablen und Steuerelementstrukturen enthält.</span><span class="sxs-lookup"><span data-stu-id="5986b-124">The .tt file allows a developer to write a response in a template form that contains variables and control structures.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="5986b-125">T4 finden Sie unter [Generieren von Artefakten mithilfe von Textvorlagen](http://go.microsoft.com/fwlink/?LinkId=178139).</span><span class="sxs-lookup"><span data-stu-id="5986b-125"> T4, see [Generating Artifacts By Using Text Templates](http://go.microsoft.com/fwlink/?LinkId=178139).</span></span>  
  
#### <a name="to-run-the-sample"></a><span data-ttu-id="5986b-126">So führen Sie das Beispiel aus</span><span class="sxs-lookup"><span data-stu-id="5986b-126">To run the sample</span></span>  
  
1.  <span data-ttu-id="5986b-127">Öffnen Sie die Projektmappe für das Beispiel zur Formularbereitstellung.</span><span class="sxs-lookup"><span data-stu-id="5986b-127">Open the solution for the Form Post Sample.</span></span> <span data-ttu-id="5986b-128">Sie müssen [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] als Administrator ausführen, damit das Beispiel erfolgreich ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="5986b-128">When launching [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], you must run as an administrator to execute the sample successfully.</span></span> <span data-ttu-id="5986b-129">Zu diesem Zweck mit der rechten Maustaste die [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Symbol "und"Als Administrator ausführen"aus dem Kontextmenü auswählen.</span><span class="sxs-lookup"><span data-stu-id="5986b-129">Do this by right-clicking the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] icon and choosing "Run as Administrator" from the context menu.</span></span>  
  
2.  <span data-ttu-id="5986b-130">Drücken Sie STRG+UMSCHALT+B, um die Projektmappe zu erstellen, und dann STRG+F5, um das FormPost-Konsolenanwendungsprojekt auszuführen.</span><span class="sxs-lookup"><span data-stu-id="5986b-130">Press CTRL+SHIFT+B to build the solution and then press CTRL+F5 to run the console application FormPost project.</span></span>  
  
3.  <span data-ttu-id="5986b-131">Im eingeblendeten Konsolenfenster werden der URI des ausgeführten Diensts und der URI der HTML-Hilfeseite für den ausgeführten Dienst angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5986b-131">The console window appears and provides the URI of the running service and the URI of the HTML help page for the running service.</span></span>  
  
4.  <span data-ttu-id="5986b-132">Während das Beispiel ausgeführt wird, schreibt der Client den Status der aktuellen Aktivität in das Konsolenfenster, unabhängig davon, ob es sich dabei um das Hinzufügen, Aktualisieren oder Löschen eines Kunden oder das Abrufen einer Liste der aktuellen Kunden aus dem Dienst handelt.</span><span class="sxs-lookup"><span data-stu-id="5986b-132">As the sample runs, the client writes the status of the current activity, whether it be adding a customer, updating a customer, deleting a customer or getting a list of current customers from the service to the console window.</span></span>  
  
5.  <span data-ttu-id="5986b-133">Sie werden aufgefordert, zum URI des Kundenformulars zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="5986b-133">You are then prompted to browse to the URI of the customer form.</span></span> <span data-ttu-id="5986b-134">Öffnen Sie einen Browser, und wechseln Sie zum angegebenen URI.</span><span class="sxs-lookup"><span data-stu-id="5986b-134">Open a browser and browse to the given URI.</span></span> <span data-ttu-id="5986b-135">Geben Sie einen Namen und eine Adresse für den Kunden und klicken Sie auf die **Absenden** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="5986b-135">Type in a name and address for the customer and click the **Submit** button.</span></span>  
  
6.  <span data-ttu-id="5986b-136">Drücken Sie eine beliebige Taste, damit das Konsolenfenster das Beispiel weiterhin ausführt.</span><span class="sxs-lookup"><span data-stu-id="5986b-136">Press any key for the console window to continue running the sample.</span></span>  
  
7.  <span data-ttu-id="5986b-137">Beachten Sie, dass nach Abschluss des Beispiels der von Ihnen über den Browser erstellte Kunde in der finalen Kundenliste enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="5986b-137">As the sample completes, notice that the customer you created using the browser is included in the final list of customers.</span></span>  
  
8.  <span data-ttu-id="5986b-138">Drücken Sie eine beliebige Taste, um das Beispiel zu beenden.</span><span class="sxs-lookup"><span data-stu-id="5986b-138">Press any key to terminate the sample.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5986b-139">Die Beispiele sind möglicherweise bereits auf dem Computer installiert.</span><span class="sxs-lookup"><span data-stu-id="5986b-139">The samples may already be installed on your machine.</span></span> <span data-ttu-id="5986b-140">Suchen Sie nach dem folgenden Verzeichnis (Standardverzeichnis), bevor Sie fortfahren.</span><span class="sxs-lookup"><span data-stu-id="5986b-140">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="5986b-141">Wenn dieses Verzeichnis nicht vorhanden ist, rufen Sie [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) auf, um alle [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] - und [!INCLUDE[wf1](../../../../includes/wf1-md.md)] -Beispiele herunterzuladen.</span><span class="sxs-lookup"><span data-stu-id="5986b-141">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="5986b-142">Dieses Beispiel befindet sich im folgenden Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="5986b-142">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WCF\Extensibility\Web\FormPost`
