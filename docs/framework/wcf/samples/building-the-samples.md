---
title: Erstellen der Windows Communication Foundation-Beispiele
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2899e7a5-9cb2-4e8d-b8d2-f31391549198
caps.latest.revision: "33"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: efb45a09fd74d397ceb95fc7e1bad7a0a5f80309
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/21/2017
---
# <a name="building-the-windows-communication-foundation-samples"></a><span data-ttu-id="9edee-102">Erstellen der Windows Communication Foundation-Beispiele</span><span class="sxs-lookup"><span data-stu-id="9edee-102">Building the Windows Communication Foundation Samples</span></span>
<span data-ttu-id="9edee-103">Die [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] Beispiele erstellt werden können, mithilfe von Visual Studio 2010 oder mit der **Msbuild** Befehl über die Befehlszeile.</span><span class="sxs-lookup"><span data-stu-id="9edee-103">The [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] samples can be built using Visual Studio 2010 or using the **msbuild** command from the command line.</span></span> <span data-ttu-id="9edee-104">In diesem Thema werden beide Vorgehensweisen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="9edee-104">Both procedures are described in this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9edee-105">Vor dem Erstellen oder Ausführen eines der [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Beispiele, stellen Sie sicher, die von Ihnen ausgeführte der [Setupprozedur für die Windows Communication Foundation-Beispiele zum einmaligen](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="9edee-105">Before building or running any of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] samples, ensure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span></span>  
  
### <a name="to-build-the-sample-using-a-command-prompt"></a><span data-ttu-id="9edee-106">So erstellen Sie das Beispiel mithilfe einer Eingabeaufforderung</span><span class="sxs-lookup"><span data-stu-id="9edee-106">To build the sample using a command prompt</span></span>  
  
1.  <span data-ttu-id="9edee-107">Öffnen Sie die [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]-Eingabeaufforderung mit Administratorrechten, und navigieren Sie zum sprachspezifischen Unterverzeichnis unterhalb des Verzeichnisses, in dem Sie das Beispiel installiert haben.</span><span class="sxs-lookup"><span data-stu-id="9edee-107">Open the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] command prompt with administrator privileges and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>  
  
2.  <span data-ttu-id="9edee-108">Typ `msbuild` in der Befehlszeile.</span><span class="sxs-lookup"><span data-stu-id="9edee-108">Type `msbuild` at the command line.</span></span> <span data-ttu-id="9edee-109">Die Clientprogrammdateien werden im Verzeichnis client\bin erstellt, und die Dienstprogrammdateien werden im Verzeichnis service\bin erstellt.</span><span class="sxs-lookup"><span data-stu-id="9edee-109">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="9edee-110">Wenn der Dienst von Internetinformationsdienste (IIS) gehostet wird, werden die Dienstprogrammdateien auch in das Verzeichnis servicemodelsamples und dessen Unterverzeichnis \bin kopiert.</span><span class="sxs-lookup"><span data-stu-id="9edee-110">If the service is hosted by Internet Information Services (IIS), the service program files are also copied to the servicemodelsamples directory and its \bin subdirectory.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9edee-111">Sie müssen die Zugriffssteuerungslisten (Access Control List, ACL) für %systemdrive%\inetpub\wwwroot festlegen, um dem Konto, unter dem das Programm ausgeführt wird, Berechtigungen zum Ändern zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="9edee-111">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="9edee-112">Andernfalls führen einige Postbuildereignisse zu Fehlern.</span><span class="sxs-lookup"><span data-stu-id="9edee-112">Otherwise some post build events fail.</span></span> <span data-ttu-id="9edee-113">Sie können aber auch die ACLs unverändert lassen und die SDK-Eingabeaufforderung als Administrator ausführen.</span><span class="sxs-lookup"><span data-stu-id="9edee-113">Alternatively, you can leave the ACLs as they are and run the SDK command prompt as administrator.</span></span>  
  
### <a name="to-build-the-sample-using-visual-studio"></a><span data-ttu-id="9edee-114">So erstellen Sie das Beispiel mithilfe von Visual Studio</span><span class="sxs-lookup"><span data-stu-id="9edee-114">To build the sample using Visual Studio</span></span>  
  
1.  <span data-ttu-id="9edee-115">Wenn Sie [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)], Windows 7 oder Windows Server 2008 R2 verwenden und [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] ausführen, müssen Sie [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] mit erweiterten Berechtigungen ausführen.</span><span class="sxs-lookup"><span data-stu-id="9edee-115">If you are using [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)], Windows 7, or Windows Server 2008 R2, and running [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], you must run [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] with elevated permission.</span></span> <span data-ttu-id="9edee-116">Klicken Sie hierzu mit der rechten Maustaste auf das Startmenü auf des Symbol, und klicken Sie dann auf **als Administrator ausführen**.</span><span class="sxs-lookup"><span data-stu-id="9edee-116">To do so, right-click the icon on the Start menu and then click **Run as administrator**.</span></span>  
  
2.  <span data-ttu-id="9edee-117">Aus der **Datei** im Menü [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], klicken Sie auf **öffnen**, klicken Sie dann auf **Projekt/Projektmappe**.</span><span class="sxs-lookup"><span data-stu-id="9edee-117">From the **File** menu in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], click **Open**, then click **Project/Solution**.</span></span> <span data-ttu-id="9edee-118">Wechseln Sie zu dem sprachspezifischen Unterverzeichnis in dem Verzeichnis, in dem Sie das Beispiel installiert haben, und klicken Sie auf das Symbol der SLN-Datei, um die Projektmappe in [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="9edee-118">Navigate to the language-specific subdirectory under the directory in which you installed the sample, and double-click the .sln file icon to open the solution in [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)].</span></span>  
  
3.  <span data-ttu-id="9edee-119">In der **erstellen** klicken Sie im Menü **Projektmappe neu erstellen**.</span><span class="sxs-lookup"><span data-stu-id="9edee-119">In the **Build** menu, select **Rebuild Solution**.</span></span> <span data-ttu-id="9edee-120">Die Clientprogrammdateien werden im Verzeichnis client\bin erstellt, und die Dienstprogrammdateien werden im Verzeichnis service\bin erstellt.</span><span class="sxs-lookup"><span data-stu-id="9edee-120">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="9edee-121">Wenn der Dienst in IIS gehostet wird, werden die Dienstprogrammdateien auch in das Verzeichnis \servicemodelsamples und dessen Unterverzeichnis \bin kopiert.</span><span class="sxs-lookup"><span data-stu-id="9edee-121">If the service is hosted in IIS, the service program files are also copied to the servicemodelsamples directory and its \bin subdirectory.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9edee-122">Sie müssen die Zugriffssteuerungslisten (Access Control List, ACL) für %systemdrive%\inetpub\wwwroot festlegen, um dem Konto, unter dem das Programm ausgeführt wird, Berechtigungen zum Ändern zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="9edee-122">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="9edee-123">Andernfalls führen einige Postbuildereignisse zu Fehlern.</span><span class="sxs-lookup"><span data-stu-id="9edee-123">Otherwise some post build events fail.</span></span> <span data-ttu-id="9edee-124">Sie können die ACLs aber auch unverändert lassen und die SDK-Eingabeaufforderung oder Visual Studio als Administrator ausführen.</span><span class="sxs-lookup"><span data-stu-id="9edee-124">Alternatively, you can leave the ACLs as they are and run the SDK command prompt or Visual Studio as administrator.</span></span> <span data-ttu-id="9edee-125">Für einige Visual Studio-Aktionen (wie das Anfügen eines Debuggers an den ASP.NET-Arbeitsprozess) sind ebenfalls Administratorrechte erforderlich.</span><span class="sxs-lookup"><span data-stu-id="9edee-125">Some Visual Studio actions (such as attaching a debugger to the ASP.Net worker process) also require administrative privileges.</span></span>  
  
## <a name="setup-batch-files-and-scripts"></a><span data-ttu-id="9edee-126">Setupbatchdateien und Skripts</span><span class="sxs-lookup"><span data-stu-id="9edee-126">Setup Batch Files and Scripts</span></span>  
 <span data-ttu-id="9edee-127">Die Batchdateien und Skripts Setup.exe und Cleanup.exe müssen an einer Visual Studio-Eingabeaufforderung ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="9edee-127">Setup.exe and Cleanup.exe batch files and scripts should be run from a Visual Studio command prompt.</span></span> <span data-ttu-id="9edee-128">Einige Setup- und Cleanup-Dateien führen Aufgaben aus, für die Administratorrechte erforderlich sind. Sie müssen daher mit entsprechenden Rechten gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="9edee-128">Several set up and clean up files perform tasks that require administrative privileges and should be launched with administrator privileges.</span></span>  
  
## <a name="important-security-information-about-metadata-endpoints"></a><span data-ttu-id="9edee-129">Wichtige Sicherheitsinformationen über Metadatenendpunkte</span><span class="sxs-lookup"><span data-stu-id="9edee-129">Important Security Information about Metadata Endpoints</span></span>  
 <span data-ttu-id="9edee-130">Um ein unbeabsichtigtes Veröffentlichen von möglicherweise vertraulichen Dienstmetadaten zu vermeiden, wird mit der Standardkonfiguration für [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]-Dienste die Metadatenveröffentlichung deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="9edee-130">To prevent unintentional disclosure of potentially sensitive service metadata, the default configuration for [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services disables metadata publishing.</span></span> <span data-ttu-id="9edee-131">Dieses Verhalten ist in der Standardeinstellung sicher, bedeutet aber auch, dass man den zum Aufrufen des Diensts erforderlichen Clientcode nicht mithilfe eines Tools zum Importieren von Metadaten (wie Svcutil.exe) generieren kann. Dies ist nur dann möglich, wenn das Verhalten des Diensts zum Veröffentlichen von Metadaten in der Konfiguration explizit aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="9edee-131">This behavior is secure by default, but also means that you cannot use a metadata import tool (such as Svcutil.exe) to generate the client code required to call the service unless the service’s metadata publishing behavior is explicitly enabled in configuration.</span></span> <span data-ttu-id="9edee-132">Um Ihnen das Experimentieren mit den Beispielen zu vereinfachen, wird in fast allen Beispielen ein ungesicherter Endpunkt zum Veröffentlichen von Metadaten verfügbar gemacht.</span><span class="sxs-lookup"><span data-stu-id="9edee-132">To make experimenting with the samples easier, almost all samples expose an unsecured metadata publishing endpoint.</span></span> <span data-ttu-id="9edee-133">Solche Endpunkte können für anonyme, nicht authentifizierte Benutzer möglicherweise verfügbar sein. Daher muss beim Bereitstellen solcher Endpunkte sorgfältig darauf geachtet werden, dass das Öffentlichmachen von Metadaten eines Diensts sachgerecht erfolgt.</span><span class="sxs-lookup"><span data-stu-id="9edee-133">Such endpoints are potentially available to anonymous unauthenticated consumers and care must be taken before deploying such endpoints to ensure that publicly disclosing a service’s metadata is appropriate.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="9edee-134">Veröffentlichen von Dienstmetadaten, finden Sie unter der [Metadatenveröffentlichungsverhalten](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) Beispiel.</span><span class="sxs-lookup"><span data-stu-id="9edee-134"> publishing service metadata, see the [Metadata Publishing Behavior](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) sample.</span></span> <span data-ttu-id="9edee-135">Finden Sie unter der [benutzerdefinierter sicherer Metadatenendpunkt](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) Sample ist ein Beispiel ein metadatenendpunkts zu sichern.</span><span class="sxs-lookup"><span data-stu-id="9edee-135">See the [Custom Secure Metadata Endpoint](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) sample for a sample securing a metadata endpoint.</span></span>  
  
## <a name="exception-handling"></a><span data-ttu-id="9edee-136">Ausnahmebehandlung</span><span class="sxs-lookup"><span data-stu-id="9edee-136">Exception Handling</span></span>  
 <span data-ttu-id="9edee-137">Im Allgemeinen enthalten diese Beispiele keine Ausnahmebehandlung, damit der Code auf das Thema des jeweiligen Beispiels beschränkt werden kann.</span><span class="sxs-lookup"><span data-stu-id="9edee-137">Generally speaking these samples do not include exception handling to keep the code focused on the subject of the sample.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="9edee-138">Ausnahmebehandlung, finden Sie unter der [Ausnahmen erwartet](../../../../docs/framework/wcf/samples/expected-exceptions.md) Beispiel.</span><span class="sxs-lookup"><span data-stu-id="9edee-138"> exception handling, see the [Expected Exceptions](../../../../docs/framework/wcf/samples/expected-exceptions.md) sample.</span></span>  
  
## <a name="regenerating-clients-and-configuration-with-svcutil"></a><span data-ttu-id="9edee-139">Neugenerieren von Clients und Konfiguration mit "Svcutil"</span><span class="sxs-lookup"><span data-stu-id="9edee-139">Regenerating Clients and Configuration with Svcutil</span></span>  
 <span data-ttu-id="9edee-140">Sie können die [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) zum Generieren von Clientcode und-Konfiguration für die meisten der Beispiele.</span><span class="sxs-lookup"><span data-stu-id="9edee-140">You can use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to regenerate client code and configuration for most of the samples.</span></span> <span data-ttu-id="9edee-141">Bei einigen Beispielen ist es erforderlich, die Konfiguration manuell zu bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="9edee-141">Some samples require manually edited configuration.</span></span> <span data-ttu-id="9edee-142">Wenn Sie beispielsweise mit Svcutil.exe die Konfiguration für ein Beispiel neu generieren, in dem Clientzertifikat-Anmeldeinformationen verwendet werden, müssen Sie die vorher konfigurierten Anmeldeinformationen manuell angeben.</span><span class="sxs-lookup"><span data-stu-id="9edee-142">For example, if you use Svcutil.exe to regenerate the configuration for a sample that uses client certificate credentials, you must manually specify the credentials previously configured.</span></span> <span data-ttu-id="9edee-143">Einige Beispiele beeinflussen den generierten Code mithilfe bestimmter Optionen für Svcutil.exe. Diese Optionen sind dann in den jeweiligen Beispielthemen angegeben.</span><span class="sxs-lookup"><span data-stu-id="9edee-143">Some samples use specific Svcutil.exe options to affect the generated code, these options are specified in the specific sample topics.</span></span>  
  
#### <a name="to-regenerate-the-client-and-configuration-files"></a><span data-ttu-id="9edee-144">So generieren Sie den Client und die Konfigurationsdateien neu</span><span class="sxs-lookup"><span data-stu-id="9edee-144">To regenerate the client and configuration files</span></span>  
  
1.  <span data-ttu-id="9edee-145">Öffnen Sie eine SDK-Eingabeaufforderung, und navigieren Sie zu dem sprachspezifischen Unterverzeichnis unterhalb des Verzeichnisses, in dem Sie das Beispiel installiert haben.</span><span class="sxs-lookup"><span data-stu-id="9edee-145">Open an SDK command prompt and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>  
  
2.  <span data-ttu-id="9edee-146">Wenn der Dienst im Internet gehostet wird, verwenden Sie den folgenden Befehl.</span><span class="sxs-lookup"><span data-stu-id="9edee-146">If the service is a Web-hosted type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /out:generatedClient.cs  
    ```  
  
     <span data-ttu-id="9edee-147">Wenn der Dienst selbst gehostet ist, verwenden Sie den folgenden Befehl.</span><span class="sxs-lookup"><span data-stu-id="9edee-147">If the service is a self-hosted type the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /out:generatedClient.cs  
    ```  
  
     <span data-ttu-id="9edee-148">Ersetzen Sie http://localhost:8000/ServiceModelSamples/service.svc/mex durch die Adresse des mex-Endpunkts des selbst gehosteten Diensts.</span><span class="sxs-lookup"><span data-stu-id="9edee-148">Replace http://localhost:8000/ServiceModelSamples/service.svc/mex with the address of the self-hosted service's mex endpoint.</span></span>  
  
     <span data-ttu-id="9edee-149">Verwenden Sie zum Generieren des Clients in Visual Basic den folgenden Befehl.</span><span class="sxs-lookup"><span data-stu-id="9edee-149">To generate the client in a Visual Basic type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb  
    ```  
  
     <span data-ttu-id="9edee-150">Wenn der Dienst selbst gehostet ist, verwenden Sie den folgenden Befehl.</span><span class="sxs-lookup"><span data-stu-id="9edee-150">If the service is a self-hosted type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb  
    ```  
  
    > [!NOTE]
    >  <span data-ttu-id="9edee-151">Hinzufügen der Generierung der Clientkonfiguration Überspringen der **/noconfig** Option.</span><span class="sxs-lookup"><span data-stu-id="9edee-151">To skip the generation of client configuration add the **/noConfig** option.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9edee-152">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="9edee-152">See Also</span></span>  
 [<span data-ttu-id="9edee-153">Ausführen der Windows Communication Foundation-Beispiele</span><span class="sxs-lookup"><span data-stu-id="9edee-153">Running the Windows Communication Foundation Samples</span></span>](../../../../docs/framework/wcf/samples/running-the-samples.md)  
 [<span data-ttu-id="9edee-154">ServiceModel Metadata Utility-Tool (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="9edee-154">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
