---
title: Erstellen benutzerdefinierter Bindungen
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: user-defined bindings [WCF]
ms.assetid: c4960675-d701-4bc9-b400-36a752fdd08b
caps.latest.revision: "19"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: fe9be6ed74569875fd26f9a4913756e0366d757a
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/22/2017
---
# <a name="creating-user-defined-bindings"></a><span data-ttu-id="4c6fd-102">Erstellen benutzerdefinierter Bindungen</span><span class="sxs-lookup"><span data-stu-id="4c6fd-102">Creating User-Defined Bindings</span></span>
<span data-ttu-id="4c6fd-103">Es gibt mehrere Möglichkeiten, Bindungen zu erstellen, die nicht vom System bereitgestellt werden:</span><span class="sxs-lookup"><span data-stu-id="4c6fd-103">There are several ways to create bindings not provided by the system:</span></span>  
  
-   <span data-ttu-id="4c6fd-104">Erstellen Sie eine benutzerdefinierte Bindung auf Grundlage der <xref:System.ServiceModel.Channels.CustomBinding>-Klasse, die einen Container darstellt, den Sie mit Bindungselementen füllen.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-104">Create a custom binding, based on the <xref:System.ServiceModel.Channels.CustomBinding> class, which is a container that you fill with binding elements.</span></span> <span data-ttu-id="4c6fd-105">Die benutzerdefinierte Bindung wird dann einem Dienstendpunkt hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-105">The custom binding is then added to a service endpoint.</span></span> <span data-ttu-id="4c6fd-106">Sie können die benutzerdefinierte Bindung entweder programmgesteuert oder in der Konfigurationsdatei einer Anwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-106">You can create the custom binding either programmatically or in an application configuration file.</span></span> <span data-ttu-id="4c6fd-107">Um das Bindungselement aus einer Anwendungskonfigurationsdatei verwenden zu können, muss es <xref:System.ServiceModel.Configuration.BindingElementExtensionElement> erweitern.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-107">To use a binding element from an application configuration file, the binding element must extend <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="4c6fd-108">Benutzerdefinierte Bindungen finden Sie unter [benutzerdefinierte Bindungen](../../../../docs/framework/wcf/extending/custom-bindings.md) und <xref:System.ServiceModel.Channels.CustomBinding>.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-108"> custom bindings, see [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md) and <xref:System.ServiceModel.Channels.CustomBinding>.</span></span>  
  
-   <span data-ttu-id="4c6fd-109">Sie können eine Klasse erstellen, die von einer Standardbindung abgeleitet ist.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-109">You can create a class that derives from a standard binding.</span></span> <span data-ttu-id="4c6fd-110">Sie können beispielsweise eine Klasse von <xref:System.ServiceModel.WSHttpBinding> ableiten und die <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A>-Methode überschreiben, um Bindungselemente abzurufen und ein benutzerdefiniertes Bindungselement einzufügen oder einen bestimmten Wert für die Sicherheit festzulegen.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-110">For example, you can derive a class from <xref:System.ServiceModel.WSHttpBinding> and override <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> method to obtain the binding elements and insert a custom binding element or establish a particular value for security.</span></span>  
  
-   <span data-ttu-id="4c6fd-111">Sie können einen neuen <xref:System.ServiceModel.Channels.Binding>-Typ erstellen, um die Bindungsimplementierung vollständig zu steuern.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-111">You can create a new <xref:System.ServiceModel.Channels.Binding> type to completely control the entire binding implementation.</span></span>  
  
## <a name="the-order-of-binding-elements"></a><span data-ttu-id="4c6fd-112">Die Reihenfolge der Bindungselemente</span><span class="sxs-lookup"><span data-stu-id="4c6fd-112">The Order of Binding Elements</span></span>  
 <span data-ttu-id="4c6fd-113">Jedes Bindungselement stellt einen Verarbeitungsschritt beim Senden und Empfangen von Nachrichten dar.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-113">Each binding element represents a processing step when sending or receiving messages.</span></span> <span data-ttu-id="4c6fd-114">Zur Laufzeit erstellen Bindungselemente die Kanäle und die Listener, die notwendig sind, um ausgehende und eingehende Kanalstapel zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-114">At runtime, binding elements create the channels and listeners necessary to build outgoing and incoming channel stacks.</span></span>  
  
 <span data-ttu-id="4c6fd-115">Es gibt drei Haupttypen von Bindungselementen: Protokollbindungselemente, Codierungsbindungselemente und Transportbindungselemente.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-115">There are three main types of binding elements: Protocol Binding Elements, Encoding Binding Elements and Transport Binding Elements.</span></span>  
  
 <span data-ttu-id="4c6fd-116">Protokollbindungselemente &#8211; Diese Elemente stellen für Nachrichten ausgeführte Verarbeitungsschritte auf höherer Ebene dar.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-116">Protocol Binding Elements – These elements represent higher-level processing steps that act on messages.</span></span> <span data-ttu-id="4c6fd-117">Die von diesen Bindungselementen erstellten Kanäle und Listener können den Nachrichteninhalt hinzufügen, entfernen oder ändern.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-117">Channels and listeners created by these binding elements can add, remove, or modify the message content.</span></span> <span data-ttu-id="4c6fd-118">Eine gegebene Bindung verfügt möglicherweise über eine beliebige Anzahl von Protokollbindungselementen, die alle von <xref:System.ServiceModel.Channels.BindingElement> erben.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-118">A given binding may have an arbitrary number of protocol binding elements, each inheriting from <xref:System.ServiceModel.Channels.BindingElement>.</span></span> [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]<span data-ttu-id="4c6fd-119"> bietet mehrere Protokollbindungselemente, einschließlich dem <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> und dem <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-119"> includes several protocol binding elements, including the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
 <span data-ttu-id="4c6fd-120">Codierungsbindungselemente &#8211; Diese Elemente stellen eine Transformation zwischen einer Nachricht und einer Codierung dar, die für die Weiterleitung im Netz bereit ist.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-120">Encoding Binding Element – These elements represent transformations between a message and an encoding ready for transmission on the wire.</span></span> <span data-ttu-id="4c6fd-121">Typische [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]-Bindungen umfassen genau ein Codierungsbindungselement.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-121">Typical [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] bindings include exactly one encoding binding element.</span></span> <span data-ttu-id="4c6fd-122">Beispiele für Codierungsbindungselemente sind <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement> und <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-122">Examples of encoding binding elements include the <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, and the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>.</span></span> <span data-ttu-id="4c6fd-123">Wird für eine Bindung kein Codierungsbindungselement angegeben, wird eine Standardcodierung verwendet.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-123">If an encoding binding element is not specified for a binding, a default encoding is used.</span></span> <span data-ttu-id="4c6fd-124">Wenn als Transport HTTP verwendet wird, ist dieser Standard Text, andernfalls binär.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-124">The default is text when the transport is HTTP and binary otherwise.</span></span>  
  
 <span data-ttu-id="4c6fd-125">Transportbindungselemente &#8211; Diese Elemente stellen die Übertragung einer codierten Nachricht über ein Transportprotokoll dar.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-125">Transport Binding Element – These elements represent the transmission of an encoding message on a transport protocol.</span></span> <span data-ttu-id="4c6fd-126">Typische [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]-Bindungen schließen genau ein Transportbindungselement ein, das von <xref:System.ServiceModel.Channels.TransportBindingElement> erbt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-126">Typical [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] bindings include exactly one transport binding element, which inherits from <xref:System.ServiceModel.Channels.TransportBindingElement>.</span></span> <span data-ttu-id="4c6fd-127">Beispiele für Transportbindungselemente sind <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, <xref:System.ServiceModel.Channels.HttpTransportBindingElement> und <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-127">Examples of transport binding elements include the <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, the <xref:System.ServiceModel.Channels.HttpTransportBindingElement>, and the <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>.</span></span>  
  
 <span data-ttu-id="4c6fd-128">Bei der Erstellung neuer Bindungen ist die Reihenfolge der hinzugefügten Bindungselemente wichtig.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-128">When creating new bindings, the order of the added binding elements is important.</span></span> <span data-ttu-id="4c6fd-129">Fügen Sie Bindungselemente immer in der folgenden Reihenfolge hinzu:</span><span class="sxs-lookup"><span data-stu-id="4c6fd-129">Always add binding elements in the following order:</span></span>  
  
|<span data-ttu-id="4c6fd-130">Ebene</span><span class="sxs-lookup"><span data-stu-id="4c6fd-130">Layer</span></span>|<span data-ttu-id="4c6fd-131">Optionen</span><span class="sxs-lookup"><span data-stu-id="4c6fd-131">Options</span></span>|<span data-ttu-id="4c6fd-132">Erforderlich</span><span class="sxs-lookup"><span data-stu-id="4c6fd-132">Required</span></span>|  
|-----------|-------------|--------------|  
|<span data-ttu-id="4c6fd-133">Transaktionsfluss</span><span class="sxs-lookup"><span data-stu-id="4c6fd-133">Transaction Flow</span></span>|<xref:System.ServiceModel.Channels.TransactionFlowBindingElement?displayProperty=nameWithType>|<span data-ttu-id="4c6fd-134">Nein</span><span class="sxs-lookup"><span data-stu-id="4c6fd-134">No</span></span>|  
|<span data-ttu-id="4c6fd-135">Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="4c6fd-135">Reliability</span></span>|<xref:System.ServiceModel.Channels.ReliableSessionBindingElement?displayProperty=nameWithType>|<span data-ttu-id="4c6fd-136">Nein</span><span class="sxs-lookup"><span data-stu-id="4c6fd-136">No</span></span>|  
|<span data-ttu-id="4c6fd-137">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="4c6fd-137">Security</span></span>|<xref:System.ServiceModel.Channels.SecurityBindingElement?displayProperty=nameWithType>|<span data-ttu-id="4c6fd-138">Nein</span><span class="sxs-lookup"><span data-stu-id="4c6fd-138">No</span></span>|  
|<span data-ttu-id="4c6fd-139">Composite Duplex</span><span class="sxs-lookup"><span data-stu-id="4c6fd-139">Composite Duplex</span></span>|<xref:System.ServiceModel.Channels.CompositeDuplexBindingElement?displayProperty=nameWithType>|<span data-ttu-id="4c6fd-140">Nein</span><span class="sxs-lookup"><span data-stu-id="4c6fd-140">No</span></span>|  
|<span data-ttu-id="4c6fd-141">Codierung</span><span class="sxs-lookup"><span data-stu-id="4c6fd-141">Encoding</span></span>|<span data-ttu-id="4c6fd-142">Text, Binärdatei, MTOM, benutzerdefiniert</span><span class="sxs-lookup"><span data-stu-id="4c6fd-142">Text, Binary, MTOM, Custom</span></span>|<span data-ttu-id="4c6fd-143">Ja*</span><span class="sxs-lookup"><span data-stu-id="4c6fd-143">Yes*</span></span>|  
|<span data-ttu-id="4c6fd-144">Transport</span><span class="sxs-lookup"><span data-stu-id="4c6fd-144">Transport</span></span>|<span data-ttu-id="4c6fd-145">TCP, Named Pipes, HTTP, HTTPS, MSMQ, benutzerdefiniert</span><span class="sxs-lookup"><span data-stu-id="4c6fd-145">TCP, Named Pipes, HTTP, HTTPS, MSMQ, Custom</span></span>|<span data-ttu-id="4c6fd-146">Ja</span><span class="sxs-lookup"><span data-stu-id="4c6fd-146">Yes</span></span>|  
  
 <span data-ttu-id="4c6fd-147">*Da für jede Bindung eine Codierung notwendig ist, fügt [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] eine Standardcodierung für Sie hinzu, wenn keine Codierung festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-147">*Because an encoding is required for each binding, if an encoding is not specified, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] adds a default encoding for you.</span></span> <span data-ttu-id="4c6fd-148">Der Standard ist Text/XML für die HTTP- und HTTPS-Transporte, andernfalls binär.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-148">The default is Text/XML for the HTTP and HTTPS transports, and Binary otherwise.</span></span>  
  
## <a name="creating-a-new-binding-element"></a><span data-ttu-id="4c6fd-149">Erstellen eines neuen Bindungselements</span><span class="sxs-lookup"><span data-stu-id="4c6fd-149">Creating a new Binding Element</span></span>  
 <span data-ttu-id="4c6fd-150">Zusätzlich zu den von <xref:System.ServiceModel.Channels.BindingElement> abgeleiteten Typen, die von [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] geboten werden, können Sie Ihre eigenen Bindungselemente erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-150">In addition to the types derived from <xref:System.ServiceModel.Channels.BindingElement> that are provided by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], you can create your own binding elements.</span></span> <span data-ttu-id="4c6fd-151">Dadurch können Sie bestimmen, wie der Bindungsstapel und die Komponenten erstellt werden, die in die Erstellung Ihres eigenen <xref:System.ServiceModel.Channels.BindingElement> eingehen, das sich mit den anderen vom System bereitgestellten Typen auf dem Stapel kombinieren lässt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-151">This lets you customize the way the stack of bindings is created and the components that go in it by creating your own <xref:System.ServiceModel.Channels.BindingElement> that can be composed with the other system-provided types in the stack.</span></span>  
  
 <span data-ttu-id="4c6fd-152">Wenn Sie beispielsweise ein `LoggingBindingElement` implementieren, das Nachrichten in einer Datenbank protokollieren kann, müssen Sie es im Kanalstapel oberhalb eines Transportkanals platzieren.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-152">For example, if you implement a `LoggingBindingElement` that provides the ability to log the message to a database, you must place it above a transport channel in the channel stack.</span></span> <span data-ttu-id="4c6fd-153">In diesem Fall erstellt die Anwendung eine benutzerdefinierte Bindung, die, wie im folgenden Beispiel, das `LoggingBindingElement` mit dem `TcpTransportBindingElement` kombiniert.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-153">In this case, the application creates a custom binding that composed the `LoggingBindingElement` with `TcpTransportBindingElement`, as in the following example.</span></span>  
  
```csharp  
Binding customBinding = new CustomBinding(  
  new LoggingBindingElement(),   
  new TcpTransportBindingElement()  
);  
```  
  
 <span data-ttu-id="4c6fd-154">Wie Sie Ihr neues Bindungselement schreiben, hängt von seiner genauen Funktionalität ab.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-154">How you write your new binding element depends on its exact functionality.</span></span> <span data-ttu-id="4c6fd-155">Eines der Beispiele, [Transport: UDP](../../../../docs/framework/wcf/samples/transport-udp.md), enthält eine ausführliche Beschreibung dazu, wie eine Art von Bindungselement implementieren.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-155">One of the samples, [Transport: UDP](../../../../docs/framework/wcf/samples/transport-udp.md), provides a detailed description of how to implement one kind of binding element.</span></span>  
  
## <a name="creating-a-new-binding"></a><span data-ttu-id="4c6fd-156">Erstellen einer neuen Bindung</span><span class="sxs-lookup"><span data-stu-id="4c6fd-156">Creating a New Binding</span></span>  
 <span data-ttu-id="4c6fd-157">Ein benutzerdefiniertes Bindungselement kann auf zwei Weisen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-157">A user-created binding element can be used in two ways.</span></span> <span data-ttu-id="4c6fd-158">Im vorherigen Abschnitt wurde die erste beschrieben: durch eine benutzerdefinierte Bindung.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-158">The previous section illustrates the first way: through a custom binding.</span></span> <span data-ttu-id="4c6fd-159">Benutzerdefinierte Bindungen erlauben Benutzern, basierend auf einer beliebigen Gruppe von Bindungselementen einschließlich solcher, die von Benutzern erstellt wurden, eigene Bindungen zu definieren.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-159">A custom binding allows the user to create their own binding based on an arbitrary set of binding elements, including user-created ones.</span></span>  
  
 <span data-ttu-id="4c6fd-160">Wenn Sie die Bindung in mehr als einer Anwendung einsetzen, dann erstellen Sie die eigene Bindung und erweitern die <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-160">If you use the binding in more than one application, create your own binding and extend the <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="4c6fd-161">Dadurch ist es nicht mehr notwendig, jedes Mal, wenn Sie sie verwenden möchten, manuell eine benutzerdefinierte Bindung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-161">This avoids manually creating a custom binding every time you want to use it.</span></span> <span data-ttu-id="4c6fd-162">Eine benutzerdefinierte Bindung ermöglicht es Ihnen, das Verhalten der Bindung einschließlich benutzerdefinierter Bindungselemente zu definieren.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-162">A user-defined binding allows you to define the binding’s behavior and include user-defined binding elements.</span></span> <span data-ttu-id="4c6fd-163">Und es ist *vorab verpackt*: Sie müssen nicht die Bindung neu erstellen, jedes Mal, wenn Sie ihn verwenden.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-163">And it is *pre-packaged*: you do not have to rebuild the binding every time you use it.</span></span>  
  
 <span data-ttu-id="4c6fd-164">Eine benutzerdefinierte Bindung muss zumindest die <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>-Methode und die <xref:System.ServiceModel.Channels.Binding.Scheme%2A>-Eigenschaft implementieren.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-164">At a minimum, a user-defined binding must implement the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
 <span data-ttu-id="4c6fd-165">Die <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>-Methode gibt eine neue <xref:System.ServiceModel.Channels.BindingElementCollection> zurück, die die Bindungselemente für die Bindung enthält.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-165">The <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method returns a new <xref:System.ServiceModel.Channels.BindingElementCollection> that contains the binding elements for the binding.</span></span> <span data-ttu-id="4c6fd-166">Die Auflistung ist sortiert, wobei die Protokollbindungselemente an erster Stelle stehen sollten, gefolgt von dem Codierungsbindungselement und dem Transportbindungselement.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-166">The collection is ordered, and should contain the protocol binding elements first, followed by the encoding binding element, followed by the transport binding element.</span></span> <span data-ttu-id="4c6fd-167">Bei Verwendung der [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Elemente vom System bereitgestellte Bindung, führen Sie das Bindungselement, das Sortierregeln, die im angegebenen [benutzerdefinierte Bindungen](../../../../docs/framework/wcf/extending/custom-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="4c6fd-167">When using the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] system-provided binding elements, you must follow the binding element ordering rules specified in [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md).</span></span> <span data-ttu-id="4c6fd-168">Diese Auflistung sollte niemals auf Objekte verweisen, auf die innerhalb der benutzerdefinierten Bindungsklasse verwiesen wird. Daraus folgt, dass Autoren von Bindungen einen `Clone()` der <xref:System.ServiceModel.Channels.BindingElementCollection> bei jedem Aufruf von <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> zurückgeben müssen.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-168">This collection should never reference objects referenced within the user-defined binding class; consequently, binding authors must return a `Clone()` of the <xref:System.ServiceModel.Channels.BindingElementCollection> on each call to <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>.</span></span>  
  
 <span data-ttu-id="4c6fd-169">Die <xref:System.ServiceModel.Channels.Binding.Scheme%2A>-Eigenschaft stellt das URI-Schema für das in der Bindung verwendete Transportprotokoll dar.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-169">The <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property represents the URI scheme for the transport protocol in use on the binding.</span></span> <span data-ttu-id="4c6fd-170">Z. B. die *WSHttpBinding* und *NetTcpBinding* Zurückgeben von "http" und "net.tcp" von ihren jeweiligen <xref:System.ServiceModel.Channels.Binding.Scheme%2A> Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-170">For example, the *WSHttpBinding* and the *NetTcpBinding* return "http" and "net.tcp" from their respective <xref:System.ServiceModel.Channels.Binding.Scheme%2A> properties.</span></span>  
  
 <span data-ttu-id="4c6fd-171">Eine vollständige Liste optionaler Methoden und Eigenschaften für benutzerdefinierte Bindungselemente finden Sie unter <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-171">For a complete list of optional methods and properties for user-defined bindings, see <xref:System.ServiceModel.Channels.Binding>.</span></span>  
  
### <a name="example"></a><span data-ttu-id="4c6fd-172">Beispiel</span><span class="sxs-lookup"><span data-stu-id="4c6fd-172">Example</span></span>  
 <span data-ttu-id="4c6fd-173">In diesem Beispiel wird Profilbindung in `SampleProfileUdpBinding` implementiert, das von <xref:System.ServiceModel.Channels.Binding> abgeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-173">This example implements profile binding in `SampleProfileUdpBinding`, which derives from <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="4c6fd-174">Die `SampleProfileUdpBinding` enthält bis zu vier Bindungselemente: ein benutzerdefiniertes `UdpTransportBindingElement`; und drei vom System bereitgestellte: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, und `ReliableSessionBindingElement`.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-174">The `SampleProfileUdpBinding` contains up to four binding elements within it: one user-created `UdpTransportBindingElement`; and three system-provided: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, and `ReliableSessionBindingElement`.</span></span>  
  
```  
public override BindingElementCollection CreateBindingElements()  
{     
    BindingElementCollection bindingElements = new BindingElementCollection();  
    if (ReliableSessionEnabled)  
    {  
        bindingElements.Add(session);  
        bindingElements.Add(compositeDuplex);  
    }  
    bindingElements.Add(encoding);  
    bindingElements.Add(transport);  
    return bindingElements.Clone();  
}  
```  
  
## <a name="security-restrictions-with-duplex-contracts"></a><span data-ttu-id="4c6fd-175">Sicherheitseinschränkungen bei Duplexverträgen</span><span class="sxs-lookup"><span data-stu-id="4c6fd-175">Security Restrictions with Duplex Contracts</span></span>  
 <span data-ttu-id="4c6fd-176">Nicht alle Bindungselemente sind miteinander kompatibel.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-176">Not all binding elements are compatible with each other.</span></span> <span data-ttu-id="4c6fd-177">Es gibt insbesondere einige Einschränkungen für Sicherheitsbindungselemente, wenn sie mit Duplexverträgen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-177">In particular, there are some restrictions on security binding elements when used with duplex contracts.</span></span>  
  
### <a name="one-shot-security"></a><span data-ttu-id="4c6fd-178">One-Shot-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="4c6fd-178">One-Shot Security</span></span>  
 <span data-ttu-id="4c6fd-179">Implementiertem "One-Shot"-Sicherheit, in dem alle notwendigen Sicherheitsanmeldeinformationen durch Festlegen von in einer einzelnen Nachricht gesendet werden die `negotiateServiceCredential` Attribut des der \<Nachricht >-Konfigurationselements auf `false`.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-179">You can implement "one-shot" security, where all the necessary security credentials are sent in a single message, by setting the `negotiateServiceCredential` attribute of the \<message> configuration element to `false`.</span></span>  
  
 <span data-ttu-id="4c6fd-180">Die "One-Shot"-Authentifizierung funktioniert nicht mit Duplexverträgen.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-180">One-shot authentication does not work with duplex contracts.</span></span>  
  
 <span data-ttu-id="4c6fd-181">Bei Anforderung-Antwort-Verträgen funktioniert die "One-Shot"-Authentifizierung nur, wenn der Bindungsstapel unter dem Sicherheitsbindungselement die Erstellung von <xref:System.ServiceModel.Channels.IRequestChannel>- oder <xref:System.ServiceModel.Channels.IRequestSessionChannel>-Instanzen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-181">For Request-Reply contracts, one-shot authentication works only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="4c6fd-182">Bei unidirektionalen Verträgen funktioniert die "One-Shot"-Authentifizierung, wenn der Bindungsstapel unter dem Sicherheitsbindungselement die Erstellung von <xref:System.ServiceModel.Channels.IRequestChannel>-, <xref:System.ServiceModel.Channels.IRequestSessionChannel>-, <xref:System.ServiceModel.Channels.IOutputChannel>- oder <xref:System.ServiceModel.Channels.IOutputSessionChannel>-Instanzen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-182">For one-way contracts, one-shot authentication works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel>, <xref:System.ServiceModel.Channels.IRequestSessionChannel>, <xref:System.ServiceModel.Channels.IOutputChannel> or <xref:System.ServiceModel.Channels.IOutputSessionChannel> instances.</span></span>  
  
### <a name="cookie-mode-security-context-tokens"></a><span data-ttu-id="4c6fd-183">Cookie-Modus-Sicherheitskontexttoken</span><span class="sxs-lookup"><span data-stu-id="4c6fd-183">Cookie-mode Security Context Tokens</span></span>  
 <span data-ttu-id="4c6fd-184">Cookie-Modus-Sicherheitskontexttoken können nicht mit Duplexverträgen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-184">Cookie mode security context tokens cannot be used with duplex contracts.</span></span>  
  
 <span data-ttu-id="4c6fd-185">Bei Anforderung-Antwort-Verträgen funktionieren Cookie-Modus-Sicherheitskontexttoken nur, wenn der Bindungsstapel unter dem Sicherheitsbindungselement die Erstellung von <xref:System.ServiceModel.Channels.IRequestChannel>- oder <xref:System.ServiceModel.Channels.IRequestSessionChannel>-Instanzen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-185">For Request-Reply contracts, cookie-mode security context tokens work only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="4c6fd-186">Bei unidirektionalen Verträgen funktionieren Cookie-Modus-Sicherheitskontexttoken, wenn der Bindungsstapel unter dem Sicherheitsbindungselement die Erstellung von <xref:System.ServiceModel.Channels.IRequestChannel>- oder <xref:System.ServiceModel.Channels.IRequestSessionChannel>-Instanzen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-186">For one-way contracts, cookie-mode security context tokens works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
### <a name="session-mode-security-context-tokens"></a><span data-ttu-id="4c6fd-187">Sitzungsmodus-Sicherheitskontexttoken</span><span class="sxs-lookup"><span data-stu-id="4c6fd-187">Session-mode Security Context Tokens</span></span>  
 <span data-ttu-id="4c6fd-188">Ein Sitzungsmodus-SCT funktioniert für Duplexverträge, wenn der Bindungsstapel unter dem Sicherheitsbindungselement die Erstellung von <xref:System.ServiceModel.Channels.IDuplexChannel>- oder <xref:System.ServiceModel.Channels.IDuplexSessionChannel>-Instanzen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-188">Session mode SCT works for duplex contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel> or <xref:System.ServiceModel.Channels.IDuplexSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="4c6fd-189">Ein Sitzungsmodus-SCT funktioniert für Anforderung-Antwort-Verträge, wenn der Bindungsstapel unter dem Sicherheitsbindungselement die Erstellung von <xref:System.ServiceModel.Channels.IDuplexChannel>-, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>-, <xref:System.ServiceModel.Channels.IRequestChannel>- oder <xref:System.ServiceModel.Channels.IRequestSessionChannel>-Instanzen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-189">Session mode SCT works for Request-Reply contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel>, instances.</span></span>  
  
 <span data-ttu-id="4c6fd-190">Ein Sitzungsmodus-SCT funktioniert für unidirektionale Verträge, wenn der Bindungsstapel unter dem Sicherheitsbindungselement die Erstellung von <xref:System.ServiceModel.Channels.IDuplexChannel>-, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>-, <xref:System.ServiceModel.Channels.IRequestChannel>- oder <xref:System.ServiceModel.Channels.IRequestSessionChannel>-Instanzen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-190">Session mode SCT works for 1-way contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
## <a name="deriving-from-a-standard-binding"></a><span data-ttu-id="4c6fd-191">Ableiten von einer Standardbindung</span><span class="sxs-lookup"><span data-stu-id="4c6fd-191">Deriving from a Standard Binding</span></span>  
 <span data-ttu-id="4c6fd-192">Statt eine völlig neue Bindungsklasse zu erstellen, ist es möglich, eine vorhandene, vom System bereitgestellte Bindung zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-192">Instead of creating an entirely new binding class, it may be possible for you to extend one of the existing system-provided bindings.</span></span> <span data-ttu-id="4c6fd-193">Ähnlich wie im vorangegangenen Fall müssen Sie die <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>-Methode und die <xref:System.ServiceModel.Channels.Binding.Scheme%2A>-Eigenschaft überschreiben.</span><span class="sxs-lookup"><span data-stu-id="4c6fd-193">Much like the preceding case, you must override the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4c6fd-194">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="4c6fd-194">See Also</span></span>  
 <xref:System.ServiceModel.Channels.Binding>  
 [<span data-ttu-id="4c6fd-195">Benutzerdefinierte Bindungen</span><span class="sxs-lookup"><span data-stu-id="4c6fd-195">Custom Bindings</span></span>](../../../../docs/framework/wcf/extending/custom-bindings.md)
