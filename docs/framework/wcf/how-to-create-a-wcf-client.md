---
title: 'Gewusst wie: Erstellen eines Windows Communication Foundation-Clients'
ms.date: 03/30/2017
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: d2932293536f875d8986d8d49842cddc196ced0f
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/07/2018
ms.locfileid: "33806272"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="854c1-102">Gewusst wie: Erstellen eines Windows Communication Foundation-Clients</span><span class="sxs-lookup"><span data-stu-id="854c1-102">How to: Create a Windows Communication Foundation Client</span></span>
<span data-ttu-id="854c1-103">Dies ist die vierte von sechs Aufgaben, die erforderlich sind, um einen Windows Communication Foundation (WCF)-Anwendung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="854c1-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="854c1-104">Einen Überblick über alle sechs Aufgaben finden Sie unter der [Lernprogramm für erste Schritte](../../../docs/framework/wcf/getting-started-tutorial.md) Thema.</span><span class="sxs-lookup"><span data-stu-id="854c1-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>  
  
 <span data-ttu-id="854c1-105">In diesem Thema wird beschrieben, wie Metadaten von einem WCF-Dienst abrufen und verwenden, um einen WCF-Clientproxy zu erstellen, der den Dienst zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="854c1-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="854c1-106">Für diese Aufgabe wird die Funktion Dienstverweis hinzufügen verwendet, die von Visual Studio bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="854c1-106">This task is completed by using the Add Service Reference functionality provided by Visual Studio .</span></span> <span data-ttu-id="854c1-107">Dieses Tool ruft die Metadaten vom MEX-Endpunkt des Diensts ab und generiert eine verwaltete Quellcodedatei für einen Clientproxy in der von Ihnen ausgewählten Sprache (standardmäßig C#).</span><span class="sxs-lookup"><span data-stu-id="854c1-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="854c1-108">Zusätzlich zu dem Clientproxy erstellt oder aktualisiert das Tool die Clientkonfigurationsdatei, die es der Clientanwendung ermöglicht, über einen ihrer Endpunkte eine Verbindung mit dem Dienst herzustellen.</span><span class="sxs-lookup"><span data-stu-id="854c1-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="854c1-109">Sie können auch die [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) Tool, um die Proxyklasse und die Konfiguration anstelle von Hinzufügen eines Dienstverweises in Visual Studio generieren.</span><span class="sxs-lookup"><span data-stu-id="854c1-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using Add Service Reference inside of Visual Studio.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="854c1-110">Beim Aufrufen eines WCF-Diensts aus einem Klassenbibliotheksprojekt in [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] können Sie das Hinzufügen eines Dienstverweises-Feature um automatisch einen Proxy und eine zugeordnete Konfigurationsdatei zu generieren.</span><span class="sxs-lookup"><span data-stu-id="854c1-110">When calling a WCF service from a class library project in [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] you can use the Add Service Reference feature to automatically generate a proxy and associated configuration file.</span></span>  <span data-ttu-id="854c1-111">Die Konfigurationsdatei wird nicht vom Klassenbibliotheksprojekt verwendet.</span><span class="sxs-lookup"><span data-stu-id="854c1-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="854c1-112">Sie müssen der Datei app.config für die ausführbare Datei, die die Klassenbibliothek aufruft, die Einstellungen in der generierten Konfigurationsdatei hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="854c1-112">You will need to add the settings in the generated configuration file to the app.config file for the executable that will call the class library.</span></span>  
  
 <span data-ttu-id="854c1-113">Die Clientanwendung verwendet die generierte Proxyklasse, um mit dem Dienst zu kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="854c1-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="854c1-114">Hierin wird beschrieben, [Vorgehensweise: Verwenden Sie einen Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="854c1-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>  
  
### <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="854c1-115">So erstellen Sie einen Windows Communication Foundation-Client</span><span class="sxs-lookup"><span data-stu-id="854c1-115">To create a Windows Communication Foundation client</span></span>  
  
1.  <span data-ttu-id="854c1-116">Erstellen Sie ein neues Konsolenanwendungsprojekt mit der rechten Maustaste auf die erste Schritte-Projektmappe, wenn Sie auswählen, **hinzufügen**, **neues Projekt**.</span><span class="sxs-lookup"><span data-stu-id="854c1-116">Create a new console application project by right-clicking on the Getting Started solution, selecting, **Add**, **New Project**.</span></span> <span data-ttu-id="854c1-117">In der **neues Projekt hinzufügen** -Dialogfeld auf der linken Seite der Dialogfeld Select **Windows** unter **c#** oder **VB**.</span><span class="sxs-lookup"><span data-stu-id="854c1-117">In the **Add New Project** dialog on the left hand side of the dialog select **Windows** under **C#** or **VB**.</span></span> <span data-ttu-id="854c1-118">Wählen Sie im mittleren Abschnitt des Dialogfelds **Konsolenanwendung**.</span><span class="sxs-lookup"><span data-stu-id="854c1-118">In the center section of the dialog select **Console Application**.</span></span> <span data-ttu-id="854c1-119">Benennen Sie das Projekt mit `GettingStartedClient`.</span><span class="sxs-lookup"><span data-stu-id="854c1-119">Name the project `GettingStartedClient`.</span></span>  
  
2.  <span data-ttu-id="854c1-120">Legen Sie das Zielframework des GettingStartedClient-Projekts auf .NET Framework 4.5 per Rechtsklick auf **"gettingstartedclient"** im Projektmappen-Explorer auswählen und **Eigenschaften**.</span><span class="sxs-lookup"><span data-stu-id="854c1-120">Set the target framework of the GettingStartedClient project to .NET Framework 4.5 by right clicking on **GettingStartedClient** in the Solution Explorer and selecting **Properties**.</span></span> <span data-ttu-id="854c1-121">Im Dropdownfeld mit der Bezeichnung **Zielframework** wählen **.NET Framework 4.5**.</span><span class="sxs-lookup"><span data-stu-id="854c1-121">In the dropdown box labeled **Target Framework** select **.NET Framework 4.5**.</span></span> <span data-ttu-id="854c1-122">Festlegen des Zielframeworks für ein VB-Projekt weicht etwas im Eigenschaftendialogfeld GettingStartedClient-Projekts klicken Sie auf die **Kompilieren** Registerkarte auf der linken Seite des Bildschirms, und klicken Sie dann auf die **erweitert Kompilieren Sie die Optionen** Schaltfläche auf der unteren linken Ecke des Dialogfelds.</span><span class="sxs-lookup"><span data-stu-id="854c1-122">Setting the target framework for a VB project is a little different, in the GettingStartedClient project properties dialog, click the **Compile** tab on the left-hand side of the screen, and then click the **Advanced Compile Options** button at the lower left-hand corner of the dialog.</span></span> <span data-ttu-id="854c1-123">Wählen Sie dann **.NET Framework 4.5** im Dropdownfeld mit der Bezeichnung **Zielframework**.</span><span class="sxs-lookup"><span data-stu-id="854c1-123">Then select **.NET Framework 4.5** in the dropdown box labeled **Target Framework**.</span></span>  
  
     <span data-ttu-id="854c1-124">Festlegen des Zielframeworks führt dazu, dass Visual Studio 2011, laden Sie die Projektmappe erneut drücken **OK** Aufforderung.</span><span class="sxs-lookup"><span data-stu-id="854c1-124">Setting the target framework will cause Visual Studio 2011 to reload the solution, press **OK** when prompted.</span></span>  
  
3.  <span data-ttu-id="854c1-125">Fügen Sie einen Verweis auf System.ServiceModel auf das Projekt "gettingstartedclient", indem Sie mit der rechten Maustaste die **Verweis** Ordner unter dem Projekt "gettingstartedclient" im Projektmappen-Explorer und wählen **hinzufügen** Verweis.</span><span class="sxs-lookup"><span data-stu-id="854c1-125">Add a reference to System.ServiceModel to the GettingStartedClient project by right-clicking the **Reference** folder under the GettingStartedClient project in Solution Explorer and select **Add** Reference.</span></span> <span data-ttu-id="854c1-126">In der **Verweis hinzufügen** Dialogfeld wählen **Framework** auf der linken Seite des Dialogfelds.</span><span class="sxs-lookup"><span data-stu-id="854c1-126">In the **Add Reference** dialog select **Framework** on the left-hand side of the dialog.</span></span> <span data-ttu-id="854c1-127">Geben Sie im Textfeld Assemblys suchen`System.ServiceModel` ein.</span><span class="sxs-lookup"><span data-stu-id="854c1-127">In the Search Assemblies textbox, type in `System.ServiceModel`.</span></span> <span data-ttu-id="854c1-128">Wählen Sie im mittleren Abschnitt des Dialogfelds **System.ServiceModel**, klicken Sie auf die **hinzufügen** aus, und klicken Sie auf die **schließen** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="854c1-128">In the center section of the dialog select **System.ServiceModel**, click the **Add** button, and click the **Close** button.</span></span> <span data-ttu-id="854c1-129">Speichern Sie die Projektmappe, indem Sie auf die **alle speichern** Schaltfläche unterhalb des Hauptmenüs.</span><span class="sxs-lookup"><span data-stu-id="854c1-129">Save the solution by clicking the **Save All** button below the main menu.</span></span>  
  
4.  <span data-ttu-id="854c1-130">Als Nächstes fügen Sie einen Dienstverweis auf den Rechnerdienst hinzu.</span><span class="sxs-lookup"><span data-stu-id="854c1-130">Next you wlll add a service reference to the Calculator Service.</span></span> <span data-ttu-id="854c1-131">Zuvor müssen Sie die GettingStartedHost-Konsolenanwendung starten.</span><span class="sxs-lookup"><span data-stu-id="854c1-131">Before you can do that, you must start up the GettingStartedHost console application.</span></span> <span data-ttu-id="854c1-132">Nachdem der Host ausgeführt wird können den Ordner "Verweise" unter dem Projekt "gettingstartedclient" im Projektmappen-Explorer mit der rechten Maustaste und wählen Sie Dienstverweis hinzufügen, und geben in der folgenden URL in das Adressfeld ein, der das Dialogfeld "Dienstverweis hinzufügen": HYPERLINK "http://localhost:8000/ServiceModelSamples/Service" http://localhost:8000/ServiceModelSamples/Service , und klicken Sie auf die **Go** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="854c1-132">Once the host is running you can right click the References folder under the GettingStartedClient project in the Solution Explorer and select Add Service Reference and type in the following URL in the address box of the Add Service Reference dialog:  HYPERLINK "http://localhost:8000/ServiceModelSamples/Service" http://localhost:8000/ServiceModelSamples/Service and   click the **Go** button.</span></span> <span data-ttu-id="854c1-133">Anschließend wird im Listenfeld Dienste der CalculatorService angezeigt. Doppelklicken Sie auf CalculatorService, um den Dienst zu erweitern und die vom Dienst implementierten Dienstverträge anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="854c1-133">The CalculatorService should then be displayed in the Services list box, Double click CalculatorService and it will expand and show the service contracts implemented by the service.</span></span> <span data-ttu-id="854c1-134">Lassen Sie den Standardnamespace unverändert ist, und klicken Sie auf die **OK** Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="854c1-134">Leave the default namespace as is and click the **OK** button.</span></span>  
  
     <span data-ttu-id="854c1-135">Wenn Sie mit Visual Studio einen Verweis auf einen Dienst hinzufügen, wird im Projektmappen-Explorer unter dem GettingStartedClient-Projekt unter dem Ordner Dienstverweise ein neuer Eintrag angezeigt.</span><span class="sxs-lookup"><span data-stu-id="854c1-135">When you add a reference to a service using Visual Studio a new item will appear in the Solution Explorer under the Service References folder under the GettingStartedClient project.</span></span>  <span data-ttu-id="854c1-136">Bei Verwendung der [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) Tool eine Quellcodedatei und die Datei "App.config" generiert werden.</span><span class="sxs-lookup"><span data-stu-id="854c1-136">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool a source code file and app.config file will be generated.</span></span>  
  
     <span data-ttu-id="854c1-137">Sie können auch das Befehlszeilentool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) mit der entsprechenden Switches, um den Clientcode zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="854c1-137">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="854c1-138">Im folgenden Beispiel werden eine Code- und eine Konfigurationsdatei für den Dienst erstellt:</span><span class="sxs-lookup"><span data-stu-id="854c1-138">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="854c1-139">Im ersten Beispiel wird gezeigt, wie Sie den Proxy in VB generieren, und im zweiten Beispiel wird gezeigt, wie Sie den Proxy in C# generieren:</span><span class="sxs-lookup"><span data-stu-id="854c1-139">The first example shows how to generate the proxy in VB and the second shows how to generated the proxy in C#:</span></span>  
  
    ```  
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/ServiceModelSamples/service  
    ```  
  
    ```csharp  
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/ServiceModelSamples/service  
    ```  
  
 <span data-ttu-id="854c1-140">Sie haben jetzt den Proxy erstellt, über den die Clientanwendung den Rechnerdienst aufruft.</span><span class="sxs-lookup"><span data-stu-id="854c1-140">You have now created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="854c1-141">Fahren Sie mit dem nächsten Thema in der Reihe: [Vorgehensweise: Konfigurieren eines Clients](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span><span class="sxs-lookup"><span data-stu-id="854c1-141">Proceed to the next topic in the series: [How to: Configure a Client](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="854c1-142">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="854c1-142">See Also</span></span>  
 [<span data-ttu-id="854c1-143">ServiceModel Metadata Utility-Tool (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="854c1-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)  
 [<span data-ttu-id="854c1-144">Erste Schritte</span><span class="sxs-lookup"><span data-stu-id="854c1-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)  
 [<span data-ttu-id="854c1-145">Selbst gehostete Dienste</span><span class="sxs-lookup"><span data-stu-id="854c1-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)  
 [<span data-ttu-id="854c1-146">Vorgehensweise: Veröffentlichen von Metadaten für einen Dienst mithilfe einer Konfigurationsdatei</span><span class="sxs-lookup"><span data-stu-id="854c1-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)  
 [<span data-ttu-id="854c1-147">Vorgehensweise: Verwenden von „Svcutil.exe“ zum Herunterladen von Metadatendokumenten</span><span class="sxs-lookup"><span data-stu-id="854c1-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
