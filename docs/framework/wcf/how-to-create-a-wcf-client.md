---
title: 'Gewusst wie: Erstellen eines Windows Communication Foundation-Clients'
ms.date: 09/14/2018
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: 1eadb5008575a1a53d685db14d68e42d0dce1360
ms.sourcegitcommit: fb78d8abbdb87144a3872cf154930157090dd933
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/26/2018
ms.locfileid: "47197525"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="c129c-102">Gewusst wie: Erstellen eines Windows Communication Foundation-Clients</span><span class="sxs-lookup"><span data-stu-id="c129c-102">How to: Create a Windows Communication Foundation Client</span></span>

<span data-ttu-id="c129c-103">Dies ist die vierte von sechs Aufgaben, die zum Erstellen einer Windows Communication Foundation (WCF)-Anwendung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="c129c-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="c129c-104">Eine Übersicht über alle sechs Aufgaben finden Sie im Artikel [Getting Started Tutorial (Tutorial: Erste Schritte)](../../../docs/framework/wcf/getting-started-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="c129c-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>

<span data-ttu-id="c129c-105">Dieses Thema beschreibt das Abrufen von Metadaten von einem WCF-Dienst aus, und verwenden, um einen WCF-Proxy zu erstellen, der den Dienst zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="c129c-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="c129c-106">Diese Aufgabe wird mithilfe der **Hinzufügen eines Dienstverweises** Funktionalität von Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c129c-106">This task is completed by using the **Add Service Reference** functionality provided by Visual Studio.</span></span> <span data-ttu-id="c129c-107">Dieses Tool ruft die Metadaten vom MEX-Endpunkt des Diensts ab und generiert eine verwaltete Quellcodedatei für einen Clientproxy in der von Ihnen ausgewählten Sprache (standardmäßig C#).</span><span class="sxs-lookup"><span data-stu-id="c129c-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="c129c-108">Zusätzlich zu dem Clientproxy erstellt oder aktualisiert das Tool die Clientkonfigurationsdatei, die es der Clientanwendung ermöglicht, über einen ihrer Endpunkte eine Verbindung mit dem Dienst herzustellen.</span><span class="sxs-lookup"><span data-stu-id="c129c-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="c129c-109">Sie können auch die [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) Tool zum Generieren der Proxyklasse und Konfiguration anstelle von **Hinzufügen eines Dienstverweises** in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c129c-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using **Add Service Reference** in Visual Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="c129c-110">Beim Aufrufen eines WCF-Diensts aus einem Klassenbibliotheksprojekt in Visual Studio können Sie die **Hinzufügen eines Dienstverweises** Funktion, um automatisch einen Proxy und eine zugeordnete Konfigurationsdatei zu generieren.</span><span class="sxs-lookup"><span data-stu-id="c129c-110">When calling a WCF service from a class library project in Visual Studio, you can use the **Add Service Reference** feature to automatically generate a proxy and associated configuration file.</span></span> <span data-ttu-id="c129c-111">Die Konfigurationsdatei wird nicht vom Klassenbibliotheksprojekt verwendet.</span><span class="sxs-lookup"><span data-stu-id="c129c-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="c129c-112">Sie müssen die Einstellungen in der generierten Konfigurationsdatei an der Datei "App.config" für die ausführbare Datei hinzufügen, die die Klassenbibliothek aufruft.</span><span class="sxs-lookup"><span data-stu-id="c129c-112">You need to add the settings in the generated configuration file to the app.config file for the executable that calls the class library.</span></span>

<span data-ttu-id="c129c-113">Die Clientanwendung verwendet die generierte Proxyklasse, um mit dem Dienst zu kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="c129c-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="c129c-114">Dieses Verfahren wird beschrieben, [Vorgehensweise: Verwenden Sie einen Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="c129c-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>

## <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="c129c-115">So erstellen Sie einen Windows Communication Foundation-Client</span><span class="sxs-lookup"><span data-stu-id="c129c-115">To create a Windows Communication Foundation client</span></span>

1. <span data-ttu-id="c129c-116">Erstellen Sie ein neues Konsolenanwendungsprojekt in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c129c-116">Create a new console application project in Visual Studio.</span></span> <span data-ttu-id="c129c-117">Mit der rechten Maustaste auf die erste Schritte-Lösung im **Projektmappen-Explorer** , und wählen Sie **hinzufügen** > **neues Projekt**.</span><span class="sxs-lookup"><span data-stu-id="c129c-117">Right-click on the Getting Started solution in **Solution Explorer** and select **Add** > **New Project**.</span></span> <span data-ttu-id="c129c-118">In der **neues Projekt hinzufügen** im Dialogfeld auf der linken Seite, und wählen die **Windows Desktop** unter Kategorie **Visual C#-** oder **Visual Basic**.</span><span class="sxs-lookup"><span data-stu-id="c129c-118">In the **Add New Project** dialog, on the left-hand side, select the **Windows Desktop** category under **Visual C#** or **Visual Basic**.</span></span> <span data-ttu-id="c129c-119">Wählen Sie die **Konsolen-App ((.NET Framework)** Vorlage, und nennen Sie das Projekt **"gettingstartedclient"**.</span><span class="sxs-lookup"><span data-stu-id="c129c-119">Select the **Console App (.NET Framework)** template, and then name the project **GettingStartedClient**.</span></span>

2. <span data-ttu-id="c129c-120">Fügen Sie dem GettingStartedClient-Projekt einen Verweis auf den System.ServiceModel hinzu.</span><span class="sxs-lookup"><span data-stu-id="c129c-120">Add a reference to System.ServiceModel to the GettingStartedClient project.</span></span> <span data-ttu-id="c129c-121">Mit der rechten Maustaste auf die **Verweise** Ordner unter dem GettingStartedClient-Projekt in **Projektmappen-Explorer**, und wählen Sie dann **Verweis hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="c129c-121">Right-click on the **References** folder under the GettingStartedClient project in **Solution Explorer**, and then select **Add Reference**.</span></span> <span data-ttu-id="c129c-122">In der **Verweis hinzufügen** wählen Sie im Dialogfeld **Framework** auf der linken Seite des Dialogfelds unter **Assemblys**.</span><span class="sxs-lookup"><span data-stu-id="c129c-122">In the **Add Reference** dialog, select **Framework** on the left-hand side of the dialog under **Assemblies**.</span></span> <span data-ttu-id="c129c-123">Suchen und auswählen **System.ServiceModel**, und wählen Sie dann **OK**.</span><span class="sxs-lookup"><span data-stu-id="c129c-123">Find and select **System.ServiceModel**, and then choose **OK**.</span></span> <span data-ttu-id="c129c-124">Speichern Sie die Projektmappe durch Auswahl **Datei** > **Alles speichern**.</span><span class="sxs-lookup"><span data-stu-id="c129c-124">Save the solution by selecting **File** > **Save All**.</span></span>

3. <span data-ttu-id="c129c-125">Fügen Sie einen Dienstverweis auf den Rechnerdienst hinzu.</span><span class="sxs-lookup"><span data-stu-id="c129c-125">Add a service reference to the Calculator Service.</span></span>

   1. <span data-ttu-id="c129c-126">Starten Sie die GettingStartedHost-Konsolenanwendung.</span><span class="sxs-lookup"><span data-stu-id="c129c-126">First, start up the GettingStartedHost console application.</span></span>

   2. <span data-ttu-id="c129c-127">Sobald der Host ausgeführt wird, mit der rechten Maustaste die **Verweise** Ordner unter dem GettingStartedClient-Projekt in **Projektmappen-Explorer** , und wählen Sie **hinzufügen**  >   **Dienstverweis**.</span><span class="sxs-lookup"><span data-stu-id="c129c-127">Once the host is running, right-click the **References** folder under the GettingStartedClient project in **Solution Explorer** and select **Add** > **Service Reference**.</span></span>

   3. <span data-ttu-id="c129c-128">Geben Sie die folgende URL in das Adressfeld ein, der die **Hinzufügen eines Dienstverweises** Dialogfeld: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span><span class="sxs-lookup"><span data-stu-id="c129c-128">Enter the following URL in the address box of the **Add Service Reference** dialog: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span></span>

   4. <span data-ttu-id="c129c-129">Wählen Sie **wechseln**.</span><span class="sxs-lookup"><span data-stu-id="c129c-129">Choose **Go**.</span></span>

   <span data-ttu-id="c129c-130">Der CalculatorService wird angezeigt, der **Services** Listenfeld.</span><span class="sxs-lookup"><span data-stu-id="c129c-130">The CalculatorService is displayed in the **Services** list box.</span></span> <span data-ttu-id="c129c-131">Doppelklicken Sie auf der CalculatorService zum Erweitern und die vom Dienst implementierten Dienstverträge anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="c129c-131">Double-click CalculatorService to expand it and show the service contracts implemented by the service.</span></span> <span data-ttu-id="c129c-132">Lassen Sie den Standardnamespace als-ist, und wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="c129c-132">Leave the default namespace as-is and choose **OK**.</span></span>

    <span data-ttu-id="c129c-133">Wenn Sie einen Verweis auf einen Dienst mithilfe von Visual Studio hinzufügen, ein neues Element erscheint **Projektmappen-Explorer** unter der **Dienstverweise** Ordner unter dem GettingStartedClient-Projekt.</span><span class="sxs-lookup"><span data-stu-id="c129c-133">When you add a reference to a service using Visual Studio, a new item appears in **Solution Explorer** under the **Service References** folder under the GettingStartedClient project.</span></span> <span data-ttu-id="c129c-134">Bei Verwendung der [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) Tool, eine Quellcodedatei und die Datei "App.config" generiert werden.</span><span class="sxs-lookup"><span data-stu-id="c129c-134">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool, a source code file and app.config file are generated.</span></span>

    <span data-ttu-id="c129c-135">Sie können auch das Befehlszeilentool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) mit den entsprechenden Schaltern, um den Clientcode zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="c129c-135">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="c129c-136">Im folgenden Beispiel werden eine Code- und eine Konfigurationsdatei für den Dienst erstellt:</span><span class="sxs-lookup"><span data-stu-id="c129c-136">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="c129c-137">Das erste Beispiel zeigt, wie Sie den Proxy in VB generieren, und die zweite zeigt, wie in c# den Proxy zu generieren:</span><span class="sxs-lookup"><span data-stu-id="c129c-137">The first example shows how to generate the proxy in VB, and the second shows how to generate the proxy in C#:</span></span>

    ```shell
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

    ```shell
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

## <a name="next-steps"></a><span data-ttu-id="c129c-138">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="c129c-138">Next steps</span></span>

<span data-ttu-id="c129c-139">Sie haben den Proxy erstellt, mit denen die Clientanwendung den rechnerdienst aufruft.</span><span class="sxs-lookup"><span data-stu-id="c129c-139">You've created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="c129c-140">Fahren Sie mit dem nächsten Thema in der Reihe.</span><span class="sxs-lookup"><span data-stu-id="c129c-140">Proceed to the next topic in the series.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="c129c-141">Vorgehensweise: Konfigurieren eines Clients</span><span class="sxs-lookup"><span data-stu-id="c129c-141">How to: Configure a Client</span></span>](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)

## <a name="see-also"></a><span data-ttu-id="c129c-142">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="c129c-142">See also</span></span>

- [<span data-ttu-id="c129c-143">ServiceModel Metadata Utility-Tool (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="c129c-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="c129c-144">Erste Schritte</span><span class="sxs-lookup"><span data-stu-id="c129c-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)
- [<span data-ttu-id="c129c-145">Selbst gehostete Dienste</span><span class="sxs-lookup"><span data-stu-id="c129c-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)
- [<span data-ttu-id="c129c-146">Vorgehensweise: Veröffentlichen von Metadaten für einen Dienst mithilfe einer Konfigurationsdatei</span><span class="sxs-lookup"><span data-stu-id="c129c-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)
- [<span data-ttu-id="c129c-147">Vorgehensweise: Verwenden von „Svcutil.exe“ zum Herunterladen von Metadatendokumenten</span><span class="sxs-lookup"><span data-stu-id="c129c-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
