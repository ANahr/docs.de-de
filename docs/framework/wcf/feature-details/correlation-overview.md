---
title: Übersicht über die Korrelation
ms.date: 03/30/2017
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
ms.openlocfilehash: 8ac5d39866b23bc134f009fdb0df6ebf56c6d234
ms.sourcegitcommit: a885cc8c3e444ca6471348893d5373c6e9e49a47
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/06/2018
ms.locfileid: "44035917"
---
# <a name="correlation-overview"></a><span data-ttu-id="55e44-102">Übersicht über die Korrelation</span><span class="sxs-lookup"><span data-stu-id="55e44-102">Correlation Overview</span></span>
<span data-ttu-id="55e44-103">Die Korrelation ist der Mechanismus zum Verknüpfen von Workflowdienstnachrichten miteinander oder mit dem Anwendungsinstanzzustand. Dies kann z. B. eine Antwort auf eine ursprüngliche Anforderung oder eine bestimmte Bestell-ID mit dem beibehaltenen Zustand eines Workflows zur Bestellverarbeitung sein.</span><span class="sxs-lookup"><span data-stu-id="55e44-103">Correlation is the mechanism for relating workflow service messages to each other or to the application instance state, such as a reply to an initial request, or a particular order ID to the persisted state of an order-processing workflow.</span></span> <span data-ttu-id="55e44-104">Dieses Thema enthält eine Übersicht über die Korrelation:</span><span class="sxs-lookup"><span data-stu-id="55e44-104">This topic provides an overview of correlation.</span></span> <span data-ttu-id="55e44-105">Die anderen Themen in diesem Abschnitt enthalten weitere Informationen zu den einzelnen Korrelationstypen.</span><span class="sxs-lookup"><span data-stu-id="55e44-105">The other topics in this section provide additional information for each type of correlation.</span></span>  
  
## <a name="types-of-correlation"></a><span data-ttu-id="55e44-106">Korrelationstypen</span><span class="sxs-lookup"><span data-stu-id="55e44-106">Types of Correlation</span></span>  
 <span data-ttu-id="55e44-107">Die Korrelation kann protokollbasiert oder inhaltsbasiert sein.</span><span class="sxs-lookup"><span data-stu-id="55e44-107">Correlation can be protocol-based or content-based.</span></span> <span data-ttu-id="55e44-108">Protokollbasierte Korrelationen verwenden von der Nachrichtenübermittlungsinfrastruktur bereitgestellte Daten für die Zuordnung zwischen Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="55e44-108">Protocol-based correlations use data provided by the message delivery infrastructure to provide the mapping between messages.</span></span> <span data-ttu-id="55e44-109">Nachrichten, die mithilfe der protokollbasierten Korrelation korreliert werden, werden unter Verwendung eines Objekts im Arbeitsspeicher, z. B. <xref:System.ServiceModel.Channels.RequestContext>, oder mit einem vom Transportprotokoll bereitgestellten Token miteinander verknüpft.</span><span class="sxs-lookup"><span data-stu-id="55e44-109">Messages that are correlated using protocol-based correlation are related to each other using an object in memory, such as a <xref:System.ServiceModel.Channels.RequestContext>, or by a token provided by the transport protocol.</span></span> <span data-ttu-id="55e44-110">Bei inhaltsbasierten Korrelationen werden Nachrichten miteinander verknüpft, indem von Anwendungen angegebene Daten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="55e44-110">Content-based correlations relate messages to each other using application-specified data.</span></span> <span data-ttu-id="55e44-111">Nachrichten, die mithilfe der inhaltsbasierten Korrelation korreliert werden, werden miteinander verknüpft, indem von der Anwendung definierte Daten in der Nachricht verwendet werden, z. B. eine Kundennummer.</span><span class="sxs-lookup"><span data-stu-id="55e44-111">Messages that are correlated using content-based correlation are related to each other by some application-defined data in the message, such as a customer number.</span></span>  
  
 <span data-ttu-id="55e44-112">Aktivitäten, die Teil einer Korrelation sind, verwenden <xref:System.ServiceModel.Activities.CorrelationHandle> zum Verknüpfen der Messagingaktivitäten.</span><span class="sxs-lookup"><span data-stu-id="55e44-112">Activities that participate in correlation use a <xref:System.ServiceModel.Activities.CorrelationHandle> to tie the messaging activities together.</span></span> <span data-ttu-id="55e44-113">Das <xref:System.ServiceModel.Activities.Send>-Objekt, das zum Aufrufen eines Diensts verwendet wird, und das darauffolgende <xref:System.ServiceModel.Activities.Receive>-Objekt, mit dem ein Rückruf vom Dienst empfangen wird, verwenden beispielsweise gemeinsam das <xref:System.ServiceModel.Activities.CorrelationHandle>-Objekt.</span><span class="sxs-lookup"><span data-stu-id="55e44-113">For example, a <xref:System.ServiceModel.Activities.Send> that is used to call a service and a subsequent <xref:System.ServiceModel.Activities.Receive> that is used to receive a callback from the service, share the same <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span> <span data-ttu-id="55e44-114">Dieses grundlegende Muster wird unabhängig davon verwendet, ob die Korrelation inhaltsbasiert oder protokollbasiert erfolgt.</span><span class="sxs-lookup"><span data-stu-id="55e44-114">This basic pattern is used whether the correlation is content based or protocol based.</span></span> <span data-ttu-id="55e44-115">Das Korrelationshandle kann für jede Aktivität explizit festgelegt werden, oder die Aktivitäten können in einer <xref:System.ServiceModel.Activities.CorrelationScope>-Aktivität enthalten sein.</span><span class="sxs-lookup"><span data-stu-id="55e44-115">The correlation handle can be explicitly set on each activity or the activities can be contained in a <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="55e44-116">Die Korrelationshandles von in <xref:System.ServiceModel.Activities.CorrelationScope> enthaltenen Aktivitäten werden mithilfe von <xref:System.ServiceModel.Activities.CorrelationScope> verwaltet und erfordern keine explizite Festlegung von <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="55e44-116">Activities contained in a <xref:System.ServiceModel.Activities.CorrelationScope> have their correlation handles managed by the <xref:System.ServiceModel.Activities.CorrelationScope> and do not require the <xref:System.ServiceModel.Activities.CorrelationHandle> to be explicitly set.</span></span> <span data-ttu-id="55e44-117">Ein <xref:System.ServiceModel.Activities.CorrelationScope>-Bereich stellt die <xref:System.ServiceModel.Activities.CorrelationHandle>-Verwaltung für eine Anforderung-Antwort-Korrelation und einen zusätzlichen Korrelationstyp bereit.</span><span class="sxs-lookup"><span data-stu-id="55e44-117">A <xref:System.ServiceModel.Activities.CorrelationScope> scope provides <xref:System.ServiceModel.Activities.CorrelationHandle> management for a request-reply correlation and one additional correlation type.</span></span> <span data-ttu-id="55e44-118">Mit <xref:System.ServiceModel.Activities.WorkflowServiceHost> gehostete Workflowdienste nutzen die gleiche standardmäßige Korrelationsverwaltung wie die <xref:System.ServiceModel.Activities.CorrelationScope>-Aktivität.</span><span class="sxs-lookup"><span data-stu-id="55e44-118">Workflow services hosted using <xref:System.ServiceModel.Activities.WorkflowServiceHost> have the same default correlation management as the <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="55e44-119">Diese standardmäßige Korrelationsverwaltung bedeutet im Allgemeinen, dass Messagingaktivitäten in vielen Szenarios in einem <xref:System.ServiceModel.Activities.CorrelationScope> oder einem Workflowdienst es nicht erfordern, dass <xref:System.ServiceModel.Activities.CorrelationHandle> festgelegt ist. Dies ist nur erforderlich, wenn mehrere Messagingaktivitäten parallel ausgeführt werden oder sich überschneiden, z. B. zwei parallele <xref:System.ServiceModel.Activities.Receive>-Aktivitäten oder zwei <xref:System.ServiceModel.Activities.Send>-Aktivitäten gefolgt von zwei <xref:System.ServiceModel.Activities.Receive>-Aktivitäten.</span><span class="sxs-lookup"><span data-stu-id="55e44-119">This default correlation management generally means that in many scenarios, messaging activities in a <xref:System.ServiceModel.Activities.CorrelationScope> or a workflow service do not require their <xref:System.ServiceModel.Activities.CorrelationHandle> set unless multiple messaging activities are in parallel or overlap, such as two <xref:System.ServiceModel.Activities.Receive> activities in parallel, or two <xref:System.ServiceModel.Activities.Send> activities followed by two <xref:System.ServiceModel.Activities.Receive> activities.</span></span> <span data-ttu-id="55e44-120">Weitere Informationen zur Standardkorrelation finden Sie in den Themen zu den einzelnen Korrelationstypen in diesem Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="55e44-120">More information about default correlation is provided in the topics in this section that cover each specific type of correlation.</span></span> <span data-ttu-id="55e44-121">Weitere Informationen zu messagingaktivitäten finden Sie unter [Messagingaktivitäten](../../../../docs/framework/wcf/feature-details/messaging-activities.md) und [Vorgehensweise: Erstellen eines Workflowdiensts mit Messagingaktivitäten](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="55e44-121">For more information about messaging activities see [Messaging Activities](../../../../docs/framework/wcf/feature-details/messaging-activities.md) and [How to: Create a Workflow Service with Messaging Activities](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).</span></span>  
  
## <a name="protocol-based-correlation"></a><span data-ttu-id="55e44-122">Protokollbasierte Korrelation</span><span class="sxs-lookup"><span data-stu-id="55e44-122">Protocol-Based Correlation</span></span>  
 <span data-ttu-id="55e44-123">Die protokollbasierte Korrelation verwendet den Transportmechanismus, um Nachrichten miteinander und mit der entsprechenden Instanz zu verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="55e44-123">Protocol-based correlation uses the transport mechanism to relate messages to each other and the appropriate instance.</span></span> <span data-ttu-id="55e44-124">Einige vom System bereitgestellte Protokollkorrelationen enthalten die Anforderung-Antwort-Korrelation und die kontextbasierte Korrelation.</span><span class="sxs-lookup"><span data-stu-id="55e44-124">Some system-provided protocol correlations include request-reply correlation and context-based correlation.</span></span> <span data-ttu-id="55e44-125">Eine Anforderung-Antwort-Korrelation zum Korrelieren eines einzelnen Paars von Messagingaktivitäten verwendet, um einen bidirektionalen Vorgang zu erstellen. Beispiele hierfür sind <xref:System.ServiceModel.Activities.Send> gepaart mit <xref:System.ServiceModel.Activities.ReceiveReply> oder <xref:System.ServiceModel.Activities.Receive> gepaart mit <xref:System.ServiceModel.Activities.SendReply>.</span><span class="sxs-lookup"><span data-stu-id="55e44-125">A request-reply correlation is used to correlate a single pair of messaging activities to form a two-way operation, such as a <xref:System.ServiceModel.Activities.Send> paired with a <xref:System.ServiceModel.Activities.ReceiveReply>, or a <xref:System.ServiceModel.Activities.Receive> paired with a <xref:System.ServiceModel.Activities.SendReply>.</span></span> <span data-ttu-id="55e44-126">Der [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]-Workflow-Designer stellt auch einen Satz von Aktivitätsvorlagen bereit, mit denen dieses Muster schnell implementiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="55e44-126">The [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Workflow Designer also provides a set of activity templates to quickly implement this pattern.</span></span> <span data-ttu-id="55e44-127">Eine kontextbasierte Korrelation basiert auf dem kontextaustauschmechanismus, der in beschrieben die [.NET Context Exchange Protocol Specification](https://go.microsoft.com/fwlink/?LinkID=166059).</span><span class="sxs-lookup"><span data-stu-id="55e44-127">A context-based correlation is based on the context exchange mechanism described in the [.NET Context Exchange Protocol Specification](https://go.microsoft.com/fwlink/?LinkID=166059).</span></span> <span data-ttu-id="55e44-128">Zum Verwenden der kontextbasierten Korrelation muss auf dem Endpunkt eine kontextbasierte Bindung wie <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> oder <xref:System.ServiceModel.NetTcpContextBinding> verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="55e44-128">To use context-based correlation, a context-based binding such as <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> or <xref:System.ServiceModel.NetTcpContextBinding> must be used on the endpoint.</span></span>  
  
 <span data-ttu-id="55e44-129">Weitere Informationen zu Protokoll Korrelation, finden Sie unter [Kontextaustausch](../../../../docs/framework/wcf/feature-details/context-exchange-correlation.md), [permanenter Duplex](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md), und [Anforderung-Antwort](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="55e44-129">For more information about protocol correlation, see [Context Exchange](../../../../docs/framework/wcf/feature-details/context-exchange-correlation.md), [Durable Duplex](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md), and [Request-Reply](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md).</span></span> <span data-ttu-id="55e44-130">Weitere Informationen zur Verwendung der [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Aktivitätsvorlagen Workflow-Designer finden Sie unter [Messagingaktivitäten](../../../../docs/framework/wcf/feature-details/messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="55e44-130">For more information about using the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Workflow Designer activity templates, see [Messaging Activities](../../../../docs/framework/wcf/feature-details/messaging-activities.md).</span></span> <span data-ttu-id="55e44-131">Beispielcode, finden Sie unter den [permanenter Duplex &#91;WF-Beispiele&#93; ](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md) und [NetContextExchangeCorrelation](https://msdn.microsoft.com/library/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf) Beispiele.</span><span class="sxs-lookup"><span data-stu-id="55e44-131">For sample code, see the [Durable Duplex &#91;WF Samples&#93;](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md) and [NetContextExchangeCorrelation](https://msdn.microsoft.com/library/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf) samples.</span></span>  
  
## <a name="content-based-correlation"></a><span data-ttu-id="55e44-132">Inhaltsbasierte Korrelation</span><span class="sxs-lookup"><span data-stu-id="55e44-132">Content-Based Correlation</span></span>  
 <span data-ttu-id="55e44-133">Bei der inhaltsbasierten Korrelation wird ein bestimmtes Informationselement in der Nachricht verwendet, um diese einer bestimmten Instanz zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="55e44-133">Content-based correlation uses some piece of information in the message to associate it to a particular instance.</span></span> <span data-ttu-id="55e44-134">Im Gegensatz zur protokollbasierten Korrelation erfordert die inhaltsbasierte Korrelation es, dass der Anwendungsautor explizit angibt, wo sich diese Daten in den einzelnen verknüpften Nachrichten befinden.</span><span class="sxs-lookup"><span data-stu-id="55e44-134">Unlike protocol-based correlation, content-based correlation requires the application author to explicitly state where this data can be found in each related message.</span></span> <span data-ttu-id="55e44-135">Aktivitäten, die die inhaltsbasierte Korrelation verwenden, geben diese Nachrichtendaten mit einem <xref:System.ServiceModel.MessageQuerySet>-Objekt an.</span><span class="sxs-lookup"><span data-stu-id="55e44-135">Activities that use content-based correlation specify this message data by using a <xref:System.ServiceModel.MessageQuerySet>.</span></span> <span data-ttu-id="55e44-136">Die inhaltsbasierte Korrelation ist bei der Kommunikation mit Diensten nützlich, die keine Kontextbindung verwenden, z. B. <xref:System.ServiceModel.BasicHttpContextBinding>.</span><span class="sxs-lookup"><span data-stu-id="55e44-136">Content-based correlation is useful when communicating with services that do not use one of the context bindings such as <xref:System.ServiceModel.BasicHttpContextBinding>.</span></span> <span data-ttu-id="55e44-137">Weitere Informationen zu einer Inhaltsbasierter Korrelation, finden Sie unter [inhaltsbasierte](../../../../docs/framework/wcf/feature-details/content-based-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="55e44-137">For more information about content-based correlation, see [Content Based](../../../../docs/framework/wcf/feature-details/content-based-correlation.md).</span></span> <span data-ttu-id="55e44-138">Beispielcode, finden Sie unter den [inhaltsbasierte Korrelation](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md) und [korrelierter Rechner](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md) Beispiele.</span><span class="sxs-lookup"><span data-stu-id="55e44-138">For sample code, see the [Content-Based Correlation](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md) and [Correlated Calculator](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md) samples.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="55e44-139">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="55e44-139">See Also</span></span>  
 [<span data-ttu-id="55e44-140">Inhaltsbasierte Korrelation</span><span class="sxs-lookup"><span data-stu-id="55e44-140">Content-Based Correlation</span></span>](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md)  
 [<span data-ttu-id="55e44-141">Korrelierter Rechner</span><span class="sxs-lookup"><span data-stu-id="55e44-141">Correlated Calculator</span></span>](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md)  
 [<span data-ttu-id="55e44-142">Permanenter Duplex &#91;WF-Beispiele&#93;</span><span class="sxs-lookup"><span data-stu-id="55e44-142">Durable Duplex &#91;WF Samples&#93;</span></span>](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md)  
 [<span data-ttu-id="55e44-143">NetContextExchangeCorrelation</span><span class="sxs-lookup"><span data-stu-id="55e44-143">NetContextExchangeCorrelation</span></span>](https://msdn.microsoft.com/library/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf)
