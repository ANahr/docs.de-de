---
title: "&#220;bersicht &#252;ber die Korrelation | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
caps.latest.revision: 12
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 12
---
# &#220;bersicht &#252;ber die Korrelation
Die Korrelation ist der Mechanismus zum Verknüpfen von Workflowdienstnachrichten miteinander oder mit dem Anwendungsinstanzzustand. Dies kann z. B. eine Antwort auf eine ursprüngliche Anforderung oder eine bestimmte Bestell\-ID mit dem beibehaltenen Zustand eines Workflows zur Bestellverarbeitung sein.  Dieses Thema enthält eine Übersicht über die Korrelation:  Die anderen Themen in diesem Abschnitt enthalten weitere Informationen zu den einzelnen Korrelationstypen.  
  
## Korrelationstypen  
 Die Korrelation kann protokollbasiert oder inhaltsbasiert sein.  Protokollbasierte Korrelationen verwenden von der Nachrichtenübermittlungsinfrastruktur bereitgestellte Daten für die Zuordnung zwischen Nachrichten.  Nachrichten, die mithilfe der protokollbasierten Korrelation korreliert werden, werden unter Verwendung eines Objekts im Arbeitsspeicher, z. B. <xref:System.ServiceModel.Channels.RequestContext>, oder mit einem vom Transportprotokoll bereitgestellten Token miteinander verknüpft.  Bei inhaltsbasierten Korrelationen werden Nachrichten miteinander verknüpft, indem von Anwendungen angegebene Daten verwendet werden.  Nachrichten, die mithilfe der inhaltsbasierten Korrelation korreliert werden, werden miteinander verknüpft, indem von der Anwendung definierte Daten in der Nachricht verwendet werden, z. B. eine Kundennummer.  
  
 Aktivitäten, die Teil einer Korrelation sind, verwenden <xref:System.ServiceModel.Activities.CorrelationHandle> zum Verknüpfen der Messagingaktivitäten.  Das <xref:System.ServiceModel.Activities.Send>\-Objekt, das zum Aufrufen eines Diensts verwendet wird, und das darauffolgende <xref:System.ServiceModel.Activities.Receive>\-Objekt, mit dem ein Rückruf vom Dienst empfangen wird, verwenden beispielsweise gemeinsam das <xref:System.ServiceModel.Activities.CorrelationHandle>\-Objekt.  Dieses grundlegende Muster wird unabhängig davon verwendet, ob die Korrelation inhaltsbasiert oder protokollbasiert erfolgt.  Das Korrelationshandle kann für jede Aktivität explizit festgelegt werden, oder die Aktivitäten können in einer <xref:System.ServiceModel.Activities.CorrelationScope>\-Aktivität enthalten sein.  Die Korrelationshandles von in <xref:System.ServiceModel.Activities.CorrelationScope> enthaltenen Aktivitäten werden mithilfe von <xref:System.ServiceModel.Activities.CorrelationScope> verwaltet und erfordern keine explizite Festlegung von <xref:System.ServiceModel.Activities.CorrelationHandle>.  Ein <xref:System.ServiceModel.Activities.CorrelationScope>\-Bereich stellt die <xref:System.ServiceModel.Activities.CorrelationHandle>\-Verwaltung für eine Anforderung\-Antwort\-Korrelation und einen zusätzlichen Korrelationstyp bereit.  Mit <xref:System.ServiceModel.Activities.WorkflowServiceHost> gehostete Workflowdienste nutzen die gleiche standardmäßige Korrelationsverwaltung wie die <xref:System.ServiceModel.Activities.CorrelationScope>\-Aktivität.  Diese standardmäßige Korrelationsverwaltung bedeutet im Allgemeinen, dass Messagingaktivitäten in vielen Szenarios in einem <xref:System.ServiceModel.Activities.CorrelationScope> oder einem Workflowdienst es nicht erfordern, dass <xref:System.ServiceModel.Activities.CorrelationHandle> festgelegt ist. Dies ist nur erforderlich, wenn mehrere Messagingaktivitäten parallel ausgeführt werden oder sich überschneiden, z. B. zwei parallele <xref:System.ServiceModel.Activities.Receive>\-Aktivitäten oder zwei <xref:System.ServiceModel.Activities.Receive>\-Aktivitäten gefolgt von zwei <xref:System.ServiceModel.Activities.Send>\-Aktivitäten.  Weitere Informationen zur Standardkorrelation finden Sie in den Themen zu den einzelnen Korrelationstypen in diesem Abschnitt.  [!INCLUDE[crabout](../../../../includes/crabout-md.md)] zu Messagingaktivitäten finden Sie unter [Messagingaktivitäten](../../../../docs/framework/wcf/feature-details/messaging-activities.md) und [Vorgehensweise: Erstellen eines Workflowdiensts mit Messagingaktivitäten](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).  
  
## Protokollbasierte Korrelation  
 Die protokollbasierte Korrelation verwendet den Transportmechanismus, um Nachrichten miteinander und mit der entsprechenden Instanz zu verknüpfen.  Einige vom System bereitgestellte Protokollkorrelationen enthalten die Anforderung\-Antwort\-Korrelation und die kontextbasierte Korrelation.  Eine Anforderung\-Antwort\-Korrelation zum Korrelieren eines einzelnen Paars von Messagingaktivitäten verwendet, um einen bidirektionalen Vorgang zu erstellen. Beispiele hierfür sind <xref:System.ServiceModel.Activities.Send> gepaart mit <xref:System.ServiceModel.Activities.ReceiveReply> oder <xref:System.ServiceModel.Activities.Receive> gepaart mit <xref:System.ServiceModel.Activities.SendReply>.  Der [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)]\-Workflow\-Designer stellt auch einen Satz von Aktivitätsvorlagen bereit, mit denen dieses Muster schnell implementiert werden kann.  Eine kontextbasierte Korrelation basiert auf dem Kontextaustauschmechanismus, der unter [.NET Context Exchange Protocol Specification](http://go.microsoft.com/fwlink/?LinkID=166059) beschrieben wird  Zum Verwenden der kontextbasierten Korrelation muss auf dem Endpunkt eine kontextbasierte Bindung wie <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> oder <xref:System.ServiceModel.NetTcpContextBinding> verwendet werden.  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)] zur Protokollkorrelation finden Sie unter [Kontextaustausch](../../../../docs/framework/wcf/feature-details/context-exchange-correlation.md), [Permanenter Duplex](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md) und [Anforderung\-Antwort](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md).  [!INCLUDE[crabout](../../../../includes/crabout-md.md)] zur Verwendung der Aktivitätsvorlagen des [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] Workflow\-Designers finden Sie unter [Messagingaktivitäten](../../../../docs/framework/wcf/feature-details/messaging-activities.md).  Beispielcode finden Sie im [Permanenter Duplex &#91;WF\-Beispiele&#93;](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md)\-Beispiel und im [NetContextExchangeCorrelation](http://msdn.microsoft.com/de-de/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf)\-Beispiel.  
  
## Inhaltsbasierte Korrelation  
 Bei der inhaltsbasierten Korrelation wird ein bestimmtes Informationselement in der Nachricht verwendet, um diese einer bestimmten Instanz zuzuordnen.  Im Gegensatz zur protokollbasierten Korrelation erfordert die inhaltsbasierte Korrelation es, dass der Anwendungsautor explizit angibt, wo sich diese Daten in den einzelnen verknüpften Nachrichten befinden.  Aktivitäten, die die inhaltsbasierte Korrelation verwenden, geben diese Nachrichtendaten mit einem <xref:System.ServiceModel.MessageQuerySet>\-Objekt an.  Die inhaltsbasierte Korrelation ist bei der Kommunikation mit Diensten nützlich, die keine Kontextbindung verwenden, z. B. <xref:System.ServiceModel.BasicHttpContextBinding>.  [!INCLUDE[crabout](../../../../includes/crabout-md.md)] die inhaltsbasierte Korrelation finden Sie unter [Inhaltsbasiert](../../../../docs/framework/wcf/feature-details/content-based-correlation.md).  Beispielcode finden Sie im [Inhaltsbasierte Korrelation](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md)\-Beispiel und im [Korrelierter Rechner](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md)\-Beispiel.  
  
## Siehe auch  
 [Inhaltsbasierte Korrelation](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md)   
 [Korrelierter Rechner](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md)   
 [Permanenter Duplex &#91;WF\-Beispiele&#93;](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md)   
 [NetContextExchangeCorrelation](http://msdn.microsoft.com/de-de/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf)