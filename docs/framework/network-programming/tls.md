---
title: "Transport Layer Security (TLS) bewährte Methoden für .NET Framework"
description: "Beschreibt bewährte Methoden, die mithilfe von Transport Layer Security (TLS) mit .NET Framework"
ms.date: 03/15/2018
ms.prod: .net-framework
ms.topic: article
helpviewer_keywords:
- sending data, Internet security
- protocols, Internet security
- Network security
- network resources, Internet security
- receiving data, Internet security
- authentication [.NET Framework], Internet security
- Internet, security
- security [.NET Framework], Internet
- permissions [.NET Framework], Internet
author: blowdart
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 64829eee5b21a44acb18cbec9b901d77d49cab90
ms.sourcegitcommit: 3eea47bff3201ae5d3395b0c7947806c2faca255
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/16/2018
---
# <a name="transport-layer-security-tls-best-practices-with-the-net-framework"></a><span data-ttu-id="74a61-103">Transport Layer Security (TLS) bewährte Methoden für .NET Framework</span><span class="sxs-lookup"><span data-stu-id="74a61-103">Transport Layer Security (TLS) best practices with the .NET Framework</span></span>

<span data-ttu-id="74a61-104">Das Transport Layer Security (TLS)-Protokoll ist ein dem Branchenstandard soll dabei helfen, den Schutz von Informationen über das Internet kommuniziert.</span><span class="sxs-lookup"><span data-stu-id="74a61-104">The Transport Layer Security (TLS) protocol is an industry standard designed to help protect the privacy of information communicated over the Internet.</span></span> <span data-ttu-id="74a61-105">[TLS 1.2](https://tools.ietf.org/html/rfc5246) ist die neueste veröffentlichte Standard und bietet sicherheitsverbesserungen gegenüber vorherigen Versionen.</span><span class="sxs-lookup"><span data-stu-id="74a61-105">[TLS 1.2](https://tools.ietf.org/html/rfc5246) is the newest released standard and provides security improvements over previous versions.</span></span> <span data-ttu-id="74a61-106">TLS 1.2 schließlich ersetzt werden durch [TLS 1.3](https://tools.ietf.org/html/draft-ietf-tls-tls13-22).</span><span class="sxs-lookup"><span data-stu-id="74a61-106">TLS 1.2 will eventually be replaced by [TLS 1.3](https://tools.ietf.org/html/draft-ietf-tls-tls13-22).</span></span> <span data-ttu-id="74a61-107">Dieser Artikel stellt Empfehlungen zum Sichern von .NET Framework-Anwendungen, die TLS-Protokoll verwenden.</span><span class="sxs-lookup"><span data-stu-id="74a61-107">This article presents recommendations to secure .NET Framework applications that use the TLS protocol.</span></span>

<span data-ttu-id="74a61-108">Um sicherzustellen, dass .NET Framework-Anwendungen sicher bleiben, sollten die TLS-Protokollversion **nicht** hartcodiert werden.</span><span class="sxs-lookup"><span data-stu-id="74a61-108">To ensure .NET Framework applications remain secure, the TLS version should **not** be hardcoded.</span></span> <span data-ttu-id="74a61-109">.NET Framework-Anwendungen sollten die TLS-Version verwenden, die das Betriebssystem (BS) unterstützt.</span><span class="sxs-lookup"><span data-stu-id="74a61-109">.NET Framework applications should use the TLS version the operating system (OS) supports.</span></span>

<span data-ttu-id="74a61-110">Dieses Dokument wendet sich an Entwickler, sind:</span><span class="sxs-lookup"><span data-stu-id="74a61-110">This document targets developers who are:</span></span>

- <span data-ttu-id="74a61-111">Direkt mit der <xref:System.Net> APIs (z. B. <xref:System.Net.Http.HttpClient?displayProperty=nameWithType> und <xref:System.Net.Security.SslStream?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="74a61-111">Directly using the <xref:System.Net> APIs (for example, <xref:System.Net.Http.HttpClient?displayProperty=nameWithType> and <xref:System.Net.Security.SslStream?displayProperty=nameWithType>).</span></span>
- <span data-ttu-id="74a61-112">Direkt mit WCF-Clients und Dienste mithilfe der <xref:System.ServiceModel?displayProperty=nameWithType> Namespace.</span><span class="sxs-lookup"><span data-stu-id="74a61-112">Directly using WCF clients and services using the <xref:System.ServiceModel?displayProperty=nameWithType> namespace.</span></span>
- <span data-ttu-id="74a61-113">Mit [Azure Cloud Services](https://azure.microsoft.com/services/cloud-services/) Web- und Workerrollen Rollen zu hosten und Ausführen der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="74a61-113">Using [Azure Cloud Services](https://azure.microsoft.com/services/cloud-services/) Web and Worker roles to host and run your application.</span></span> <span data-ttu-id="74a61-114">Finden Sie unter der [Azure Cloud Services](#azure-cloud-services) Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="74a61-114">See the [Azure Cloud Services](#azure-cloud-services) section.</span></span>

<span data-ttu-id="74a61-115">Es wird empfohlen, die Sie:</span><span class="sxs-lookup"><span data-stu-id="74a61-115">We recommend that you:</span></span>

- <span data-ttu-id="74a61-116">.NET Framework 4.7 oder höher bei Ihren apps als Ziel.</span><span class="sxs-lookup"><span data-stu-id="74a61-116">Target .NET Framework 4.7 or later versions on your apps.</span></span> <span data-ttu-id="74a61-117">.NET Framework-Zielversion 4.7.1 oder höher für die WCF-apps.</span><span class="sxs-lookup"><span data-stu-id="74a61-117">Target .NET Framework 4.7.1 or later versions on your WCF apps.</span></span>
- <span data-ttu-id="74a61-118">Geben Sie die TLS-Version nicht.</span><span class="sxs-lookup"><span data-stu-id="74a61-118">Do not specify the TLS version.</span></span> <span data-ttu-id="74a61-119">Konfigurieren Sie den Code, um das Betriebssystem auf dem TLS-Protokollversion entscheiden zu können.</span><span class="sxs-lookup"><span data-stu-id="74a61-119">Configure your code to let the OS decide on the TLS version.</span></span>
- <span data-ttu-id="74a61-120">Führen Sie eine Überwachung gründliche Code, um sicherzustellen, dass Sie eine TLS / SSL-Version nicht angegeben haben.</span><span class="sxs-lookup"><span data-stu-id="74a61-120">Perform a thorough code audit to verify you're not specifying a TLS or SSL version.</span></span>

<span data-ttu-id="74a61-121">Wenn Ihre app das Betriebssystem die TLS-Version auswählen kann:</span><span class="sxs-lookup"><span data-stu-id="74a61-121">When your app lets the OS choose the TLS version:</span></span>

- <span data-ttu-id="74a61-122">Er nutzt automatisch neue Protokolle in Zukunft, z. B. TLS 1.3 hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="74a61-122">It automatically takes advantage of new protocols added in the future, such as TLS 1.3.</span></span>
- <span data-ttu-id="74a61-123">Das Betriebssystem blockiert Protokolle, die nicht für Sicherheit ermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="74a61-123">The OS blocks protocols that are discovered not to be secure.</span></span>

<span data-ttu-id="74a61-124">Der Abschnitt [überwachen Sie den Code, und codeänderungen vornehmen](#audit-your-code-and-make-code-changes) Überwachung und Aktualisierung des Codes behandelt.</span><span class="sxs-lookup"><span data-stu-id="74a61-124">The section [Audit your code and make code changes](#audit-your-code-and-make-code-changes) covers auditing and updating your code.</span></span>

<span data-ttu-id="74a61-125">In diesem Artikel wird erläutert, wie ermöglichen, die Ihre app ausgerichtet ist und ausgeführt wird, auf die höchste Sicherheit für die Version von .NET Framework verfügbar wird.</span><span class="sxs-lookup"><span data-stu-id="74a61-125">This article explains how to enable the strongest security available for the version of the .NET Framework that your app targets and runs on.</span></span> <span data-ttu-id="74a61-126">Wenn eine app explizit einen Security-Protokoll und Version festlegt, "OPTS" Out andere Alternative, und "OPTS" außerhalb des .NET Framework und OS-Standardverhalten.</span><span class="sxs-lookup"><span data-stu-id="74a61-126">When an app explicitly sets a security protocol and version, it opts out of any other alternative, and opts out of .NET Framework and OS default behavior.</span></span> <span data-ttu-id="74a61-127">Wenn Sie Ihre app, damit eine TLS 1.2-Verbindung ausgehandelt werden soll, wird verhindert, dass explizit festlegen, auf eine niedrigere Version von TLS eine TLS 1.2-Verbindung.</span><span class="sxs-lookup"><span data-stu-id="74a61-127">If you want your app to be able to negotiate a TLS 1.2 connection, explicitly setting to a lower TLS version prevents a TLS 1.2 connection.</span></span>

<span data-ttu-id="74a61-128">Wenn Sie hartcodierten eine Protokollversion nicht vermeiden lassen, wird dringend empfohlen, dass Sie TLS 1.2 angeben.</span><span class="sxs-lookup"><span data-stu-id="74a61-128">If you can't avoid hardcoding a protocol version, we strongly recommend that you specify TLS 1.2.</span></span> <span data-ttu-id="74a61-129">Anleitungen zum Identifizieren und Entfernen von TLS 1.0 Abhängigkeiten Herunterladen der [zur Lösung des Problems der TLS 1.0](https://www.microsoft.com/download/details.aspx?id=55266) Whitepaper.</span><span class="sxs-lookup"><span data-stu-id="74a61-129">For guidance on identifying and removing TLS 1.0 dependencies, download the [Solving the TLS 1.0 Problem](https://www.microsoft.com/download/details.aspx?id=55266) whitepaper.</span></span>

<span data-ttu-id="74a61-130">WCF unterstützt TLS 1.0, 1.1 und 1.2 im .NET Framework 4.7 als Standard.</span><span class="sxs-lookup"><span data-stu-id="74a61-130">WCF Supports TLS1.0, 1.1 and 1.2 as the default in .NET Framework 4.7.</span></span> <span data-ttu-id="74a61-131">Beginnen mit .NET Framework 4.7.1, konfiguriert die WCF-Standardwerte für das Betriebssystem Version.</span><span class="sxs-lookup"><span data-stu-id="74a61-131">Starting with .NET Framework 4.7.1, WCF defaults to the operating system configured version.</span></span> <span data-ttu-id="74a61-132">Wenn eine Anwendung mit explizit konfiguriert ist `SslProtocols.None`, WCF verwendet die Betriebssystem-Standardeinstellung, wenn der NetTcp-Transport verwendet.</span><span class="sxs-lookup"><span data-stu-id="74a61-132">If an application is explicitly configured with `SslProtocols.None`, WCF uses the operating system default setting when using the NetTcp transport.</span></span>

<span data-ttu-id="74a61-133">Stellen Sie Fragen zu diesem Dokument in der GitHub-Problem [Transport Layer Security (TLS) bewährte Methoden mit .NET Framework](https://github.com/dotnet/docs/issues/4675).</span><span class="sxs-lookup"><span data-stu-id="74a61-133">You can ask questions about this document in the GitHub issue [Transport Layer Security (TLS) best practices with the .NET Framework](https://github.com/dotnet/docs/issues/4675).</span></span>

## <a name="audit-your-code-and-make-code-changes"></a><span data-ttu-id="74a61-134">Überwachen Sie den Code, und nehmen codeänderungen vor</span><span class="sxs-lookup"><span data-stu-id="74a61-134">Audit your code and make code changes</span></span>

<span data-ttu-id="74a61-135">Überprüfen Sie für ASP.NET-Anwendungen den `<system.web><httpRuntime targetFramework>` Element des _"Web.config"_ , überprüfen Sie die vorgesehene Version von .NET Framework verwenden.</span><span class="sxs-lookup"><span data-stu-id="74a61-135">For ASP.NET applications, inspect the `<system.web><httpRuntime targetFramework>` element of _web.config_ to verify you're using the intended version of the .NET Framework.</span></span>

<span data-ttu-id="74a61-136">Windows Forms und andere Anwendungen finden Sie unter [wie: eine Version von .NET Framework als Ziel](/visualstudio/ide/how-to-target-a-version-of-the-dotnet-framework).</span><span class="sxs-lookup"><span data-stu-id="74a61-136">For Windows Forms and other applications, see [How to: Target a Version of the .NET Framework](/visualstudio/ide/how-to-target-a-version-of-the-dotnet-framework).</span></span>

<span data-ttu-id="74a61-137">Verwenden Sie in den folgenden Abschnitten, um sicherzustellen, dass Sie nicht über eine bestimmte TLS / SSL-Version verwenden.</span><span class="sxs-lookup"><span data-stu-id="74a61-137">Use the following sections to verify you're not using a specific TLS or SSL version.</span></span>

## <a name="if-your-app-targets-net-framework-47-or-later-versions"></a><span data-ttu-id="74a61-138">Wenn die app auf .NET Framework 4.7 oder höher abzielt</span><span class="sxs-lookup"><span data-stu-id="74a61-138">If your app targets .NET Framework 4.7 or later versions</span></span>

<span data-ttu-id="74a61-139">Die folgenden Abschnitte zeigen die überprüfen, ob Sie eine bestimmte TLS / SSL-Version nicht verwenden.</span><span class="sxs-lookup"><span data-stu-id="74a61-139">The following sections show how to verify you're not using a specific TLS or SSL version.</span></span>

### <a name="for-http-networking"></a><span data-ttu-id="74a61-140">Für HTTP-Netzwerke</span><span class="sxs-lookup"><span data-stu-id="74a61-140">For HTTP networking</span></span>

<span data-ttu-id="74a61-141"><xref:System.Net.ServicePointManager>, mit .NET Framework 4.7 und höheren Versionen wird standardmäßig auf das Betriebssystem auswählen der besten Security-Protokoll und Version.</span><span class="sxs-lookup"><span data-stu-id="74a61-141"><xref:System.Net.ServicePointManager>, using .NET Framework 4.7 and later versions, defaults to the OS choosing the best security protocol and version.</span></span> <span data-ttu-id="74a61-142">Um die beste Wahl des Standard-BS abzurufen, wenn möglich, nicht legen Sie einen Wert für die <xref:System.Net.ServicePointManager.SecurityProtocol> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="74a61-142">To get the default OS best choice, if possible, don't set a value for the <xref:System.Net.ServicePointManager.SecurityProtocol> property.</span></span> <span data-ttu-id="74a61-143">Legen Sie sie andernfalls auf <xref:System.Net.SecurityProtocolType.SystemDefault> fest.</span><span class="sxs-lookup"><span data-stu-id="74a61-143">Otherwise, set it to <xref:System.Net.SecurityProtocolType.SystemDefault>.</span></span>

<span data-ttu-id="74a61-144">Der Rest dieses Artikels ist nicht relevant, beim Abzielen auf .NET Framework 4.7 oder höher für HTTP-Netzwerke.</span><span class="sxs-lookup"><span data-stu-id="74a61-144">The remainder of this article is not relevant when targeting .NET Framework 4.7 or later versions for HTTP networking.</span></span>

### <a name="for-tcp-sockets-networking"></a><span data-ttu-id="74a61-145">Für TCP-Sockets networking</span><span class="sxs-lookup"><span data-stu-id="74a61-145">For TCP sockets networking</span></span>

<span data-ttu-id="74a61-146"><xref:System.Net.Security.SslStream>, mit .NET Framework 4.7 und höheren Versionen wird standardmäßig auf das Betriebssystem auswählen der besten Security-Protokoll und Version.</span><span class="sxs-lookup"><span data-stu-id="74a61-146"><xref:System.Net.Security.SslStream>, using .NET Framework 4.7 and later versions, defaults to the OS choosing the best security protocol and version.</span></span> <span data-ttu-id="74a61-147">Um die beste Wahl des Standard-BS abzurufen, wenn möglich, verwenden Sie keine methodenüberladungen <xref:System.Net.Security.SslStream> , die eine explizite dauern <xref:System.Security.Authentication.SslProtocols> Parameter.</span><span class="sxs-lookup"><span data-stu-id="74a61-147">To get the default OS best choice, if possible, don't use the method overloads of <xref:System.Net.Security.SslStream> that take an explicit <xref:System.Security.Authentication.SslProtocols> parameter.</span></span> <span data-ttu-id="74a61-148">Andernfalls übergeben <xref:System.Security.Authentication.SslProtocols.None?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="74a61-148">Otherwise, pass <xref:System.Security.Authentication.SslProtocols.None?displayProperty=nameWithType>.</span></span> <span data-ttu-id="74a61-149">Es wird empfohlen, dass Sie nicht verwenden <xref:System.Security.Authentication.SslProtocols.Default>; Einstellung `SslProtocols.Default` erzwingt die Verwendung von SSL 3.0 /TLS 1.0 und zu verhindern, dass TLS 1.2.</span><span class="sxs-lookup"><span data-stu-id="74a61-149">We recommend that you don't use <xref:System.Security.Authentication.SslProtocols.Default>; setting `SslProtocols.Default` forces the use of SSL 3.0 /TLS 1.0 and prevent TLS 1.2.</span></span>

<span data-ttu-id="74a61-150">Setzen Sie keinen Wert für die <xref:System.Net.ServicePointManager.SecurityProtocol> -Eigenschaft (für HTTP-Netzwerke).</span><span class="sxs-lookup"><span data-stu-id="74a61-150">Don't set a value for the <xref:System.Net.ServicePointManager.SecurityProtocol> property (for HTTP networking).</span></span>

<span data-ttu-id="74a61-151">Verwenden Sie keine überladenen Methode <xref:System.Net.Security.SslStream> , die eine explizite dauern <xref:System.Security.Authentication.SslProtocols> Parameter (für TCP-Sockets Netzwerke).</span><span class="sxs-lookup"><span data-stu-id="74a61-151">Don't use the method overloads of <xref:System.Net.Security.SslStream> that take an explicit <xref:System.Security.Authentication.SslProtocols> parameter (for TCP sockets networking).</span></span> <span data-ttu-id="74a61-152">Wenn Sie Ihre app auf .NET Framework 4.7 oder höher neu zuweisen, müssen Sie die best Practices-Empfehlung befolgen, werden.</span><span class="sxs-lookup"><span data-stu-id="74a61-152">When you retarget your app to .NET Framework 4.7 or later versions, you'll be following the best practices recommendation.</span></span>

<span data-ttu-id="74a61-153">Im weiteren Verlauf dieses Themas ist nicht relevant, wenn als Ziel .NET Framework 4.7 oder höher für TCP-Netzwerken Sockets.</span><span class="sxs-lookup"><span data-stu-id="74a61-153">The remainder of this topic is not relevant when targeting .NET Framework 4.7 or later versions for TCP sockets networking.</span></span>

<a name="wcf-tcp-cert"></a>

### <a name="for-wcf-tcp-transport-using-transport-security-with-certificate-credentials"></a><span data-ttu-id="74a61-154">Für WCF TCP transport mithilfe der transportsicherheit mit Zertifikatanmeldeinformationen</span><span class="sxs-lookup"><span data-stu-id="74a61-154">For WCF TCP transport using transport security with certificate credentials</span></span>

<span data-ttu-id="74a61-155">WCF verwendet denselben Netzwerkstapel, wie der Rest des .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="74a61-155">WCF uses the same networking stack as the rest of the .NET Framework.</span></span>

<span data-ttu-id="74a61-156">Wenn Sie 4.7.1 abzielen, wird WCF konfiguriert das Betriebssystem, das beste Sicherheitsprotokoll standardmäßig auszuwählen, wenn nicht ausdrücklich konfiguriert:</span><span class="sxs-lookup"><span data-stu-id="74a61-156">If you are targeting 4.7.1, WCF is configured to allow the OS to choose the best security protocol by default unless explicitly configured:</span></span>

- <span data-ttu-id="74a61-157">In der Anwendungskonfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="74a61-157">In your application configuration file.</span></span>
- <span data-ttu-id="74a61-158">**Oder**, in der Anwendung im Quellcode.</span><span class="sxs-lookup"><span data-stu-id="74a61-158">**Or**, in your application in the source code.</span></span>

<span data-ttu-id="74a61-159">Standardmäßig können Sie .NET Framework 4.7 und höheren Versionen für die Verwendung von TLS 1.2 konfiguriert und lässt Verbindungen mithilfe von TLS 1.1 oder TLS 1.0.</span><span class="sxs-lookup"><span data-stu-id="74a61-159">By default, .NET Framework 4.7 and later versions is configured to use TLS 1.2 and allows connections using TLS 1.1 or TLS 1.0.</span></span> <span data-ttu-id="74a61-160">Konfigurieren von WCF, damit das Betriebssystem das Sicherheitsprotokoll für das beste auswählen, indem Sie die zu verwendende Bindung konfigurieren können <xref:System.Security.Authentication.SslProtocols.None?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="74a61-160">Configure WCF to allow the OS to choose the best security protocol by configuring your binding to use <xref:System.Security.Authentication.SslProtocols.None?displayProperty=nameWithType>.</span></span> <span data-ttu-id="74a61-161">Dies kann festgelegt werden, auf <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols>.</span><span class="sxs-lookup"><span data-stu-id="74a61-161">This can be set on <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols>.</span></span> <span data-ttu-id="74a61-162">`SslProtocols.None` aus zugegriffen werden kann <xref:System.ServiceModel.NetTcpSecurity.Transport>.</span><span class="sxs-lookup"><span data-stu-id="74a61-162">`SslProtocols.None` can be accessed from <xref:System.ServiceModel.NetTcpSecurity.Transport>.</span></span> <span data-ttu-id="74a61-163">`NetTcpSecurity.Transport` aus zugegriffen werden kann <xref:System.ServiceModel.NetTcpBinding.Security>.</span><span class="sxs-lookup"><span data-stu-id="74a61-163">`NetTcpSecurity.Transport` can be accessed from <xref:System.ServiceModel.NetTcpBinding.Security>.</span></span>

<span data-ttu-id="74a61-164">Wenn Sie eine benutzerdefinierte Bindung verwenden:</span><span class="sxs-lookup"><span data-stu-id="74a61-164">If you're using a custom binding:</span></span>

- <span data-ttu-id="74a61-165">Konfigurieren von WCF, um das Betriebssystem auf das Sicherheitsprotokoll für das beste durch Festlegen von ermöglichen <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement.SslProtocols> verwenden <xref:System.Security.Authentication.SslProtocols.None?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="74a61-165">Configure WCF to allow the OS to choose the best security protocol by setting <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement.SslProtocols> to use <xref:System.Security.Authentication.SslProtocols.None?displayProperty=nameWithType>.</span></span>
- <span data-ttu-id="74a61-166">**Oder** konfigurieren Sie das Protokoll mit dem Konfigurationspfad verwendet `system.serviceModel/bindings/customBinding/binding/sslStreamSecurity:sslProtocols`.</span><span class="sxs-lookup"><span data-stu-id="74a61-166">**Or** configure the protocol used with the configuration path `system.serviceModel/bindings/customBinding/binding/sslStreamSecurity:sslProtocols`.</span></span>

<span data-ttu-id="74a61-167">Wenn Sie sind **nicht** mit einer benutzerdefinierten Bindung **und** Sie Ihre WCF-Bindung, die mithilfe der Konfiguration festlegen, legen Sie das Protokoll mit dem Konfigurationspfad verwendet `system.serviceModel/bindings/netTcpBinding/binding/security/transport:sslProtocols`.</span><span class="sxs-lookup"><span data-stu-id="74a61-167">If you're **not** using a custom binding **and** you're setting your WCF binding using configuration, set the protocol used with the configuration path `system.serviceModel/bindings/netTcpBinding/binding/security/transport:sslProtocols`.</span></span>

### <a name="for-wcf-message-security-with-certificate-credentials"></a><span data-ttu-id="74a61-168">Für die WCF-Nachrichtensicherheit mit Zertifikatanmeldeinformationen</span><span class="sxs-lookup"><span data-stu-id="74a61-168">For WCF Message Security with certificate credentials</span></span>

<span data-ttu-id="74a61-169">.NET Framework 4.7 und höheren Versionen wird standardmäßig verwendet das Protokoll angegeben, der <xref:System.Net.ServicePointManager.SecurityProtocol> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="74a61-169">.NET Framework 4.7 and later versions by default uses the protocol specified in the <xref:System.Net.ServicePointManager.SecurityProtocol> property.</span></span> <span data-ttu-id="74a61-170">Wenn die [AppContextSwitch](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) `Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols` festgelegt ist, um `true`, WCF, wählt das beste-Protokoll, bis zu TLS 1.0.</span><span class="sxs-lookup"><span data-stu-id="74a61-170">When the [AppContextSwitch](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) `Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols` is set to `true`, WCF chooses the best protocol, up to TLS 1.0.</span></span>

## <a name="if-your-app-targets-a-net-framework-version-earlier-than-47"></a><span data-ttu-id="74a61-171">Wenn die app vor 4.7 eine Version von .NET Framework abzielt</span><span class="sxs-lookup"><span data-stu-id="74a61-171">If your app targets a .NET Framework version earlier than 4.7</span></span>

<span data-ttu-id="74a61-172">Überwachen Sie den Code, um sicherzustellen, dass Sie eine bestimmte TLS / SSL-Version mit den folgenden Abschnitten nicht festlegen:</span><span class="sxs-lookup"><span data-stu-id="74a61-172">Audit your code to verify you're not setting a specific TLS or SSL version using the following sections:</span></span>

### <a name="for-net-framework-46---462-and-not-wfc"></a><span data-ttu-id="74a61-173">Für .NET Framework 4.6 - 4.6.2 und nicht einem WFC</span><span class="sxs-lookup"><span data-stu-id="74a61-173">For .NET Framework 4.6 - 4.6.2 and not WFC</span></span>

<span data-ttu-id="74a61-174">Legen Sie die `DontEnableSystemDefaultTlsVersions` `AppContext` wechseln Sie zur `false`.</span><span class="sxs-lookup"><span data-stu-id="74a61-174">Set the `DontEnableSystemDefaultTlsVersions` `AppContext` switch to `false`.</span></span> <span data-ttu-id="74a61-175">Finden Sie unter [Konfigurieren der Sicherheit über AppContext Switches](#configuring-security-via-appcontext-switches).</span><span class="sxs-lookup"><span data-stu-id="74a61-175">See [Configuring security via AppContext switches](#configuring-security-via-appcontext-switches).</span></span>

### <a name="for-wcf-using-net-framework-46---462-using-tcp-transport-security-with-certificate-credentials"></a><span data-ttu-id="74a61-176">Für WCF mit .NET Framework 4.6 - 4.6.2 Zertifikats-Anmeldeinformationen mit TCP-Transport-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="74a61-176">For WCF using .NET Framework 4.6 - 4.6.2 using TCP transport security with Certificate Credentials</span></span>

<span data-ttu-id="74a61-177">Sie müssen die neuesten OS-Patches installieren.</span><span class="sxs-lookup"><span data-stu-id="74a61-177">You must install the latest OS patches.</span></span> <span data-ttu-id="74a61-178">Finden Sie unter [Sicherheitsupdates](#security-updates).</span><span class="sxs-lookup"><span data-stu-id="74a61-178">See [Security updates](#security-updates).</span></span>

<span data-ttu-id="74a61-179">Der WCF-Frameworks wählt automatisch das höchste verfügbar, bis zu TLS 1.2-Protokoll, es sei denn, Sie explizit eine Protokollversion konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="74a61-179">The WCF framework automatically chooses the highest protocol available up to TLS 1.2 unless you explicitly configure a protocol version.</span></span> <span data-ttu-id="74a61-180">Weitere Informationen finden Sie im vorherigen Abschnitt [für WCF-TCP-Transport mithilfe der transportsicherheit mit Zertifikatanmeldeinformationen](#wcf-tcp-cert).</span><span class="sxs-lookup"><span data-stu-id="74a61-180">For more information, see the preceding section [For WCF TCP transport using transport security with certificate credentials](#wcf-tcp-cert).</span></span>

### <a name="for-net-framework-35---451-and-not-wcf"></a><span data-ttu-id="74a61-181">Für .NET Framework 3.5 - 4.5.1 und nicht von WCF</span><span class="sxs-lookup"><span data-stu-id="74a61-181">For .NET Framework 3.5 - 4.5.1 and not WCF</span></span>

<span data-ttu-id="74a61-182">Es wird empfohlen, dass Sie Ihre app auf .NET Framework 4.7 oder höher aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="74a61-182">We recommend you upgrade your app to .NET Framework 4.7 or later versions.</span></span> <span data-ttu-id="74a61-183">Wenn Sie nicht aktualisieren können, gehen Sie folgendermaßen vor.</span><span class="sxs-lookup"><span data-stu-id="74a61-183">If you cannot upgrade, take the following steps.</span></span> <span data-ttu-id="74a61-184">Irgendwann in der Zukunft Ihre Anwendung möglicherweise erst ein upgrade auf .NET Framework 4.7 oder höhere Versionen.</span><span class="sxs-lookup"><span data-stu-id="74a61-184">At some point in the future, your application may fail until you upgrade to .NET Framework 4.7 or later versions.</span></span>

<span data-ttu-id="74a61-185">Legen Sie die [SchUseStrongCrypto](#schusestrongcrypto) und [SystemDefaultTlsVersions](#systemdefaulttlsversions) Registrierungsschlüssel auf 1.</span><span class="sxs-lookup"><span data-stu-id="74a61-185">Set the [SchUseStrongCrypto](#schusestrongcrypto) and [SystemDefaultTlsVersions](#systemdefaulttlsversions) registry keys to 1.</span></span> <span data-ttu-id="74a61-186">Finden Sie unter [Konfigurieren der Sicherheit über die Windows-Registrierung](#configuring-security-via-the-windows-registry).</span><span class="sxs-lookup"><span data-stu-id="74a61-186">See [Configuring security via the Windows Registry](#configuring-security-via-the-windows-registry).</span></span> <span data-ttu-id="74a61-187">.NET Framework, Version 3.5 unterstützt die `SchUseStrongCrypto` flag nur, wenn ein expliziter TLS-Wert übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="74a61-187">The .NET Framework version 3.5 supports the `SchUseStrongCrypto` flag only when an explicit TLS value is passed.</span></span>

<span data-ttu-id="74a61-188">Wenn Sie .NET Framework 3.5 ausgeführt werden, müssen Sie ein im laufenden Systembetrieb Upgradepatch nicht installieren, damit das Programm TLS 1.2 angegeben werden können:</span><span class="sxs-lookup"><span data-stu-id="74a61-188">If you are running on .NET Framework 3.5, you need to install a hot patch so that TLS 1.2 can be specified by your program:</span></span>

| [<span data-ttu-id="74a61-189">KB3154518</span><span class="sxs-lookup"><span data-stu-id="74a61-189">KB3154518</span></span>](https://support.microsoft.com/kb/3154518) | <span data-ttu-id="74a61-190">Zuverlässigkeit Rollup HR-1605 - Unterstützung für TLS System Standard Versionen in .NET Framework 3.5.1 unter Windows 7 SP1 und Server 2008 R2 SP1 enthalten</span><span class="sxs-lookup"><span data-stu-id="74a61-190">Reliability Rollup HR-1605 - Support for TLS System Default Versions included in the .NET Framework 3.5.1 on Windows 7 SP1 and Server 2008 R2 SP1</span></span> |
| --- | --- |
| [<span data-ttu-id="74a61-191">KB3154519</span><span class="sxs-lookup"><span data-stu-id="74a61-191">KB3154519</span></span>](https://support.microsoft.com/kb/3154519) | <span data-ttu-id="74a61-192">Zuverlässigkeit Rollup HR-1605 - Unterstützung für TLS System Standard-Versionen in .NET Framework 3.5 unter Windows Server 2012 enthalten</span><span class="sxs-lookup"><span data-stu-id="74a61-192">Reliability Rollup HR-1605 - Support for TLS System Default Versions included in the .NET Framework 3.5 on Windows Server 2012</span></span> |
| [<span data-ttu-id="74a61-193">KB3154520</span><span class="sxs-lookup"><span data-stu-id="74a61-193">KB3154520</span></span>](https://support.microsoft.com/kb/3154520) | <span data-ttu-id="74a61-194">Zuverlässigkeit Rollup HR-1605 - Unterstützung für TLS System Standard-Versionen enthalten, in der .NET Framework 3.5 auf Windows 8.1 und Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="74a61-194">Reliability Rollup HR-1605 -Support for TLS System Default Versions included in the .NET Framework 3.5 on Windows 8.1 and Windows Server 2012 R2</span></span> |
| [<span data-ttu-id="74a61-195">KB3156421</span><span class="sxs-lookup"><span data-stu-id="74a61-195">KB3156421</span></span>](https://support.microsoft.com/kb/3156421) | <span data-ttu-id="74a61-196">1605 Hotfixrollup 3154521 für .NET Framework 4.5.2 und 4.5.1 unter Windows</span><span class="sxs-lookup"><span data-stu-id="74a61-196">1605 Hotfix rollup 3154521 for the .NET Framework 4.5.2 and 4.5.1 on Windows</span></span> |

### <a name="for-wcf-using-net-framework-35---452-using-tcp-transport-security-with-certificate-credentials"></a><span data-ttu-id="74a61-197">Für WCF mit .NET Framework 3.5 - 4.5.2 Zertifikats-Anmeldeinformationen mit TCP-Transport-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="74a61-197">For WCF using .NET Framework 3.5 - 4.5.2 using TCP transport security with Certificate Credentials</span></span>

<span data-ttu-id="74a61-198">Diese Versionen von WCF-Framework werden hartcodierte Werte SSL 3.0 und TLS 1.0 verwenden.</span><span class="sxs-lookup"><span data-stu-id="74a61-198">These versions of the WCF framework are hardcoded to use values SSL 3.0 and TLS 1.0.</span></span> <span data-ttu-id="74a61-199">Diese Werte können nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="74a61-199">These values cannot be changed.</span></span> <span data-ttu-id="74a61-200">Sie müssen aktualisieren und .NET Framework 4.6 oder höher, um TLS 1.1 und 1.2 verwenden, neu zuweisen.</span><span class="sxs-lookup"><span data-stu-id="74a61-200">You must update and retarget to NET Framework 4.6 or later versions to use TLS 1.1 and 1.2.</span></span>

## <a name="if-your-app-targets-net-framework-35"></a><span data-ttu-id="74a61-201">Wenn die app auf .NET Framework 3.5 abzielt.</span><span class="sxs-lookup"><span data-stu-id="74a61-201">If your app targets .NET Framework 3.5</span></span>

<span data-ttu-id="74a61-202">Wenn Sie explizit einem Sicherheitsprotokolls anstatt von .NET Framework oder der OS Kommissionierung das Sicherheitsprotokoll festlegen müssen, fügen `SecurityProtocolTypeExtensions` und `SslProtocolsExtension` Enumerationen in den Code.</span><span class="sxs-lookup"><span data-stu-id="74a61-202">If you must explicitly set a security protocol instead of letting the .NET framework or the OS pick the security protocol, add `SecurityProtocolTypeExtensions` and `SslProtocolsExtension` enumerations to your code.</span></span> <span data-ttu-id="74a61-203">`SecurityProtocolTypeExtensions` und `SslProtocolsExtension` enthalten Werte für `Tls12`, `Tls11`, und die `SystemDefault` Wert.</span><span class="sxs-lookup"><span data-stu-id="74a61-203">`SecurityProtocolTypeExtensions` and `SslProtocolsExtension` include values for `Tls12`, `Tls11`, and the `SystemDefault` value.</span></span> <span data-ttu-id="74a61-204">Finden Sie unter [Unterstützung für TLS System Standard-Versionen in .NET Framework 3.5 unter Windows 8.1 und Windows Server 2012 R2 enthalten](https://support.microsoft.com/help/3154520/support-for-tls-system-default-versions-included-in-the--net-framework).</span><span class="sxs-lookup"><span data-stu-id="74a61-204">See [Support for TLS System Default Versions included in .NET Framework 3.5 on Windows 8.1 and Windows Server 2012 R2](https://support.microsoft.com/help/3154520/support-for-tls-system-default-versions-included-in-the--net-framework).</span></span>

<a name="configuring-security-via-appcontext-switches"></a>

## <a name="configuring-security-via-appcontext-switches-for-net-framework-46-or-later-versions"></a><span data-ttu-id="74a61-205">Konfigurieren der Sicherheit über AppContext Kontextwechsel (für .NET Framework 4.6 oder höher)</span><span class="sxs-lookup"><span data-stu-id="74a61-205">Configuring security via AppContext switches (for .NET Framework 4.6 or later versions)</span></span>

<span data-ttu-id="74a61-206">Die [AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) Switches, die in diesem Abschnitt beschriebenen sind relevant Wenn Ihre app aufgerichtet ist, oder auf .NET Framework 4.6 oder höher ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="74a61-206">The [AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) switches described in this section are relevant if your app targets, or runs on, .NET Framework 4.6 or later versions.</span></span> <span data-ttu-id="74a61-207">Ob standardmäßig, oder indem Sie sie explizit festlegen, die Schalter liegen `false` Wenn möglich.</span><span class="sxs-lookup"><span data-stu-id="74a61-207">Whether by default, or by setting them explicitly, the switches should be `false` if possible.</span></span> <span data-ttu-id="74a61-208">Wenn Sie die Sicherheit über eine oder beide Optionen konfigurieren möchten, klicken Sie dann geben Sie keinen Security-Protokollwert in Ihrem Code; Dies überschreibt also die Switches.</span><span class="sxs-lookup"><span data-stu-id="74a61-208">If you want to configure security via one or both switches, then don't specify a security protocol value in your code; doing so would override the switch(es).</span></span>

<span data-ttu-id="74a61-209">Die Switches verwenden denselben Effekt, ob Sie HTTP-Netzwerk bietet (<xref:System.Net.ServicePointManager>) oder TCP-Socket-Netzwerke (<xref:System.Net.Security.SslStream>).</span><span class="sxs-lookup"><span data-stu-id="74a61-209">The switches have the same effect whether you're doing HTTP networking (<xref:System.Net.ServicePointManager>) or TCP sockets networking (<xref:System.Net.Security.SslStream>).</span></span>

### <a name="switchsystemnetdontenableschusestrongcrypto"></a><span data-ttu-id="74a61-210">Switch.System.Net.DontEnableSchUseStrongCrypto</span><span class="sxs-lookup"><span data-stu-id="74a61-210">Switch.System.Net.DontEnableSchUseStrongCrypto</span></span>

<span data-ttu-id="74a61-211">Der Wert `false` für `Switch.System.Net.DontEnableSchUseStrongCrypto` bewirkt, dass die app auf starke Kryptografie.</span><span class="sxs-lookup"><span data-stu-id="74a61-211">A value of `false` for `Switch.System.Net.DontEnableSchUseStrongCrypto` causes your app to use strong cryptography.</span></span> <span data-ttu-id="74a61-212">Der Wert `false` für `DontEnableSchUseStrongCrypto` sicherer Netzwerkprotokolle (TLS 1.2, TLS 1.1 und TLS 1.0) verwendet und Protokolle, die nicht sicher sind blockiert.</span><span class="sxs-lookup"><span data-stu-id="74a61-212">A value of `false` for `DontEnableSchUseStrongCrypto` uses more secure network protocols (TLS 1.2, TLS 1.1, and TLS 1.0) and blocks protocols that are not secure.</span></span> <span data-ttu-id="74a61-213">Weitere Informationen finden Sie unter [der SCH_USE_STRONG_CRYPTO Flag](#the-schusestrongcrypto-flag).</span><span class="sxs-lookup"><span data-stu-id="74a61-213">For more info, see [The SCH_USE_STRONG_CRYPTO flag](#the-schusestrongcrypto-flag).</span></span> <span data-ttu-id="74a61-214">Der Wert `true` deaktiviert die starken Kryptografie für Ihre app.</span><span class="sxs-lookup"><span data-stu-id="74a61-214">A value of `true` disables strong cryptography for your app.</span></span>

<span data-ttu-id="74a61-215">Wenn die app auf .NET Framework 4.6 oder höher abzielt, wird dieser Schalter standardmäßig `false`.</span><span class="sxs-lookup"><span data-stu-id="74a61-215">If your app targets .NET Framework 4.6 or later versions, this switch defaults to `false`.</span></span> <span data-ttu-id="74a61-216">Das ist eine sichere Standardeinstellung, es wird empfohlen.</span><span class="sxs-lookup"><span data-stu-id="74a61-216">That's a secure default, which we recommend.</span></span> <span data-ttu-id="74a61-217">Wenn Ihre app auf .NET Framework 4.6 ausgeführt wird, jedoch auf eine frühere Version abzielt, wird der Schalter standardmäßig `true`.</span><span class="sxs-lookup"><span data-stu-id="74a61-217">If your app runs on .NET Framework 4.6, but targets an earlier version, the switch defaults to `true`.</span></span> <span data-ttu-id="74a61-218">In diesem Fall sollten Sie explizit es festlegen `false`.</span><span class="sxs-lookup"><span data-stu-id="74a61-218">In that case, you should explicitly set it to `false`.</span></span>

<span data-ttu-id="74a61-219">`DontEnableSchUseStrongCrypto` müssen Sie nur einen Wert von `true` legacy-Diensten herstellen, für die starken Kryptografie nicht unterstützt und kann nicht aktualisiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="74a61-219">`DontEnableSchUseStrongCrypto` should only have a value of `true` if you need to connect to legacy services that don't support strong cryptography and can't be upgraded.</span></span>

### <a name="switchsystemnetdontenablesystemdefaulttlsversions"></a><span data-ttu-id="74a61-220">Switch.System.Net.DontEnableSystemDefaultTlsVersions</span><span class="sxs-lookup"><span data-stu-id="74a61-220">Switch.System.Net.DontEnableSystemDefaultTlsVersions</span></span>

<span data-ttu-id="74a61-221">Der Wert `false` für `Switch.System.Net.DontEnableSystemDefaultTlsVersions` bewirkt, dass Ihre app, um das Betriebssystem auswählen des Protokolls zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="74a61-221">A value of `false` for `Switch.System.Net.DontEnableSystemDefaultTlsVersions` causes your app to allow the operating system to choose the protocol.</span></span> <span data-ttu-id="74a61-222">Ein Wert von `true` bewirkt, dass die app auf Protokolle, die von .NET Framework abgerufen.</span><span class="sxs-lookup"><span data-stu-id="74a61-222">A value of `true` causes your app to use protocols picked by the .NET Framework.</span></span>

<span data-ttu-id="74a61-223">Wenn die app auf .NET Framework 4.7 oder höher abzielt, wird dieser Schalter standardmäßig `false`.</span><span class="sxs-lookup"><span data-stu-id="74a61-223">If your app targets .NET Framework 4.7 or later versions, this switch defaults to `false`.</span></span> <span data-ttu-id="74a61-224">Das ist eine sichere Standardwert, den wir empfehlen.</span><span class="sxs-lookup"><span data-stu-id="74a61-224">That's a secure default that we recommend.</span></span> <span data-ttu-id="74a61-225">Wenn Ihre app auf .NET Framework 4.7 oder höher ausgeführt wird, jedoch auf eine frühere Version abzielt, wird der Schalter standardmäßig `true`.</span><span class="sxs-lookup"><span data-stu-id="74a61-225">If your app runs on .NET Framework 4.7 or later versions, but targets an earlier version, the switch defaults to `true`.</span></span> <span data-ttu-id="74a61-226">In diesem Fall sollten Sie explizit es festlegen `false`.</span><span class="sxs-lookup"><span data-stu-id="74a61-226">In that case, you should explicitly set it to `false`.</span></span>

### <a name="switchsystemservicemodeldisableusingservicepointmanagersecurityprotocols"></a><span data-ttu-id="74a61-227">Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols</span><span class="sxs-lookup"><span data-stu-id="74a61-227">Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols</span></span>

<span data-ttu-id="74a61-228">Der Wert `false` für `Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols` bewirkt, dass die Anwendung verwendet den Wert im definierten `ServicePointManager.SecurityProtocols` für die nachrichtensicherheit Zertifikats-Anmeldeinformationen verwenden.</span><span class="sxs-lookup"><span data-stu-id="74a61-228">A value of `false` for `Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols` causes your application to use the value defined in `ServicePointManager.SecurityProtocols` for message security using certificate credentials.</span></span> <span data-ttu-id="74a61-229">Der Wert `true` verwendet das höchste verfügbar, bis zu TLS1. 0-Protokoll</span><span class="sxs-lookup"><span data-stu-id="74a61-229">A value of `true` uses the highest protocol available, up to TLS1.0</span></span>

<span data-ttu-id="74a61-230">Für Anwendungen für .NET Framework 4.7 und höheren Versionen dieser Wert liegt standardmäßig `false`.</span><span class="sxs-lookup"><span data-stu-id="74a61-230">For applications targeting .NET Framework 4.7 and later versions, this value defaults to `false`.</span></span> <span data-ttu-id="74a61-231">Für Anwendungen, die auf .NET Framework 4.6.2 und früher: Dieser Wert liegt standardmäßig `true`.</span><span class="sxs-lookup"><span data-stu-id="74a61-231">For applications targeting .NET Framework 4.6.2 and earlier, this value defaults to `true`.</span></span>

### <a name="switchsystemservicemodeldontenablesystemdefaulttlsversions"></a><span data-ttu-id="74a61-232">Switch.System.ServiceModel.DontEnableSystemDefaultTlsVersions</span><span class="sxs-lookup"><span data-stu-id="74a61-232">Switch.System.ServiceModel.DontEnableSystemDefaultTlsVersions</span></span>

<span data-ttu-id="74a61-233">Der Wert `false` für `Switch.System.ServiceModel.DontEnableSystemDefaultTlsVersions` legt die Standardkonfiguration, um das Betriebssystem auswählen des Protokolls zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="74a61-233">A value of `false` for `Switch.System.ServiceModel.DontEnableSystemDefaultTlsVersions` sets the default configuration to allow the operating system to choose the protocol.</span></span> <span data-ttu-id="74a61-234">Ein Wert von `true` auf das höchste verfügbar, bis zu TLS 1.2-Protokoll wird der Standardwert festgelegt.</span><span class="sxs-lookup"><span data-stu-id="74a61-234">A value of `true` sets the default to the highest protocol available, up to TLS1.2.</span></span>

<span data-ttu-id="74a61-235">Für Anwendungen für .NET Framework 4.7.1 und höheren Versionen dieser Wert liegt standardmäßig `false`.</span><span class="sxs-lookup"><span data-stu-id="74a61-235">For applications targeting .NET Framework 4.7.1 and later versions, this value defaults to `false`.</span></span> <span data-ttu-id="74a61-236">Für Anwendungen, die auf .NET Framework 4.7 und früher, dieser Wert liegt standardmäßig `true`.</span><span class="sxs-lookup"><span data-stu-id="74a61-236">For applications targeting .NET Framework 4.7 and earlier, this value defaults to `true`.</span></span>

<span data-ttu-id="74a61-237">Weitere Informationen zu TLS-Protokolle, finden Sie unter [Entschärfung: TLS-Protokolle](../migration-guide/mitigation-tls-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="74a61-237">For more information about TLS protocols, see [Mitigation: TLS Protocols](../migration-guide/mitigation-tls-protocols.md).</span></span> <span data-ttu-id="74a61-238">Weitere Informationen zu `AppContext` Switches finden Sie unter [ `<AppContextSwitchOverrides> Element` ](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md).</span><span class="sxs-lookup"><span data-stu-id="74a61-238">For more information about `AppContext` switches, see [`<AppContextSwitchOverrides> Element`](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md).</span></span>

## <a name="configuring-security-via-the-windows-registry"></a><span data-ttu-id="74a61-239">Konfigurieren der Sicherheit über die Windows-Registrierung</span><span class="sxs-lookup"><span data-stu-id="74a61-239">Configuring security via the Windows Registry</span></span>

<span data-ttu-id="74a61-240">Wenn eine oder beide festlegen `AppContext` bei Schaltern wird nicht machbar, können Sie die Sicherheitsprotokolle, die Ihre app, mit der Windows-Registrierungsschlüssel, der in diesem Abschnitt beschrieben verwendet steuern.</span><span class="sxs-lookup"><span data-stu-id="74a61-240">If setting one or both `AppContext` switches are not an option, you can control the security protocols that your app uses with the Windows Registry keys described in this section.</span></span> <span data-ttu-id="74a61-241">Sie können nicht in der Lage sind, verwenden Sie eine oder beide der `AppContext` umgeschaltet, wenn die app auf .NET Framework-Version vor 4.6 abzielt, oder Sie können die Konfigurationsdatei können nicht bearbeitet.</span><span class="sxs-lookup"><span data-stu-id="74a61-241">You might not be able to use one or both the `AppContext` switches if your app targets a .NET Framework version earlier than 4.6, or you can't edit the configuration file.</span></span> <span data-ttu-id="74a61-242">Wenn Sie die Sicherheit mit der Registrierung konfigurieren möchten, klicken Sie dann geben Sie keinen Security-Protokollwert in Ihrem Code; Dies überschreibt also die Registrierung.</span><span class="sxs-lookup"><span data-stu-id="74a61-242">If you want to configure security with the registry, then don't specify a security protocol value in your code; doing so would override the registry.</span></span>

<span data-ttu-id="74a61-243">Die Namen der Registrierungsschlüssel ähneln den Namen des entsprechenden `AppContext` schaltet aber ohne eine `DontEnable` , der den Namen vorangestellt wird.</span><span class="sxs-lookup"><span data-stu-id="74a61-243">The names of the registry keys are similar to the names of the corresponding `AppContext` switches but without a `DontEnable` prepended to the name.</span></span> <span data-ttu-id="74a61-244">Z. B. die `AppContext` wechseln `DontEnableSchUseStrongCrypto` heißt der Registrierungsschlüssel [SchUseStrongCrypto](#schusestrongcrypto).</span><span class="sxs-lookup"><span data-stu-id="74a61-244">For example, the `AppContext` switch `DontEnableSchUseStrongCrypto` is the registry key called [SchUseStrongCrypto](#schusestrongcrypto).</span></span>

<span data-ttu-id="74a61-245">Diese Schlüssel stehen in allen .NET Framework-Versionen, die für die aktuellen Sicherheitspatches vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="74a61-245">These keys are available in all .NET Framework versions for which there's a recent security patch.</span></span> <span data-ttu-id="74a61-246">Finden Sie unter [Sicherheitsupdates](#security-updates).</span><span class="sxs-lookup"><span data-stu-id="74a61-246">See [Security updates](#security-updates).</span></span>

<span data-ttu-id="74a61-247">Alle der unten beschriebenen Registrierungsschlüssel haben die gleiche Wirkung, ob Sie HTTP-Netzwerk bietet (<xref:System.Net.ServicePointManager>) oder TCP-Socket-Netzwerke (<xref:System.Net.Security.SslStream>).</span><span class="sxs-lookup"><span data-stu-id="74a61-247">All of the registry keys described below have the same effect whether you're doing HTTP networking (<xref:System.Net.ServicePointManager>) or TCP sockets networking (<xref:System.Net.Security.SslStream>).</span></span>

### <a name="schusestrongcrypto"></a><span data-ttu-id="74a61-248">SchUseStrongCrypto</span><span class="sxs-lookup"><span data-stu-id="74a61-248">SchUseStrongCrypto</span></span>

<span data-ttu-id="74a61-249">Die `HKEY_LOCAL_MACHINE\SOFTWARE\[Wow6432Node\]Microsoft\.NETFramework\<VERSION>: SchUseStrongCrypto` Registrierungsschlüssel ist einen Wert vom Typ DWORD.</span><span class="sxs-lookup"><span data-stu-id="74a61-249">The `HKEY_LOCAL_MACHINE\SOFTWARE\[Wow6432Node\]Microsoft\.NETFramework\<VERSION>: SchUseStrongCrypto` registry key has a value of type DWORD.</span></span> <span data-ttu-id="74a61-250">Der Wert 1 bewirkt, dass die app auf starke Kryptografie.</span><span class="sxs-lookup"><span data-stu-id="74a61-250">A value of 1 causes your app to use strong cryptography.</span></span> <span data-ttu-id="74a61-251">Die starke Kryptografie sicherer Netzwerkprotokolle (TLS 1.2, TLS 1.1 und TLS 1.0) verwendet und Protokolle, die nicht sicher sind blockiert.</span><span class="sxs-lookup"><span data-stu-id="74a61-251">The strong cryptography uses more secure network protocols (TLS 1.2, TLS 1.1, and TLS 1.0) and blocks protocols that are not secure.</span></span> <span data-ttu-id="74a61-252">Der Wert 0 deaktiviert die starken Kryptografie.</span><span class="sxs-lookup"><span data-stu-id="74a61-252">A value of 0 disables strong cryptography.</span></span> <span data-ttu-id="74a61-253">Weitere Informationen finden Sie unter [der SCH_USE_STRONG_CRYPTO Flag](#the-schusestrongcrypto-flag).</span><span class="sxs-lookup"><span data-stu-id="74a61-253">For more information, see [The SCH_USE_STRONG_CRYPTO flag](#the-schusestrongcrypto-flag).</span></span>

<span data-ttu-id="74a61-254">Wenn die app auf .NET Framework 4.6 oder höher abzielt, wird standardmäßig dieser Schlüssel auf den Wert 1.</span><span class="sxs-lookup"><span data-stu-id="74a61-254">If your app targets .NET Framework 4.6 or later versions, this key defaults to a value of 1.</span></span> <span data-ttu-id="74a61-255">Das ist eine sichere Standardwert, den wir empfehlen.</span><span class="sxs-lookup"><span data-stu-id="74a61-255">That's a secure default that we recommend.</span></span> <span data-ttu-id="74a61-256">Wenn Ihre app auf .NET Framework 4.6 ausgeführt wird, weist aber eine frühere Version, und klicken Sie dann auf den Schlüssel hat den Standardwert 0.</span><span class="sxs-lookup"><span data-stu-id="74a61-256">If your app runs on .NET Framework 4.6, but targets an earlier version, then the key defaults to 0.</span></span> <span data-ttu-id="74a61-257">In diesem Fall sollten Sie explizit den Wert auf 1 festlegen.</span><span class="sxs-lookup"><span data-stu-id="74a61-257">In that case, you should explicitly set its value to 1.</span></span>

<span data-ttu-id="74a61-258">Dieser Schlüssel sollte nur einen Wert von 0 aufweisen, wenn Sie älteren Diensten herstellen, für die starken Kryptografie nicht unterstützt und kann nicht aktualisiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="74a61-258">This key should only have a value of 0 if you need to connect to legacy services that don't support strong cryptography and can't be upgraded.</span></span>

### <a name="systemdefaulttlsversions"></a><span data-ttu-id="74a61-259">SystemDefaultTlsVersions</span><span class="sxs-lookup"><span data-stu-id="74a61-259">SystemDefaultTlsVersions</span></span>

<span data-ttu-id="74a61-260">Die `HKEY_LOCAL_MACHINE\SOFTWARE\[Wow6432Node\]Microsoft\.NETFramework\<VERSION>: SystemDefaultTlsVersions` Registrierungsschlüssel ist einen Wert vom Typ DWORD.</span><span class="sxs-lookup"><span data-stu-id="74a61-260">The `HKEY_LOCAL_MACHINE\SOFTWARE\[Wow6432Node\]Microsoft\.NETFramework\<VERSION>: SystemDefaultTlsVersions` registry key has a value of type DWORD.</span></span> <span data-ttu-id="74a61-261">Der Wert 1 bewirkt, dass Ihre app, um das Betriebssystem auswählen des Protokolls zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="74a61-261">A value of 1 causes your app to allow the operating system to choose the protocol.</span></span> <span data-ttu-id="74a61-262">Der Wert 0 bewirkt, dass die app auf Protokolle, die von .NET Framework abgerufen.</span><span class="sxs-lookup"><span data-stu-id="74a61-262">A value of 0 causes your app to use protocols picked by the .NET Framework.</span></span>

<span data-ttu-id="74a61-263">`<VERSION>` v4.0.30319 (für .NET Framework 4 und höher) oder v2.0.50727 muss (für .NET Framework 3.5) sein.</span><span class="sxs-lookup"><span data-stu-id="74a61-263">`<VERSION>` must be v4.0.30319 (for .NET Framework 4 and above) or v2.0.50727 (for .NET Framework 3.5).</span></span>

<span data-ttu-id="74a61-264">Wenn die app auf .NET Framework 4.7 oder höher abzielt, wird standardmäßig dieser Schlüssel auf den Wert 1.</span><span class="sxs-lookup"><span data-stu-id="74a61-264">If your app targets .NET Framework 4.7 or later versions, this key defaults to a value of 1.</span></span> <span data-ttu-id="74a61-265">Das ist eine sichere Standardwert, den wir empfehlen.</span><span class="sxs-lookup"><span data-stu-id="74a61-265">That's a secure default that we recommend.</span></span> <span data-ttu-id="74a61-266">Wenn Ihre app auf .NET Framework 4.7 oder höher ausgeführt wird, jedoch auf eine frühere Version abzielt, wird standardmäßig der Schlüssel auf 0 ein.</span><span class="sxs-lookup"><span data-stu-id="74a61-266">If your app runs on .NET Framework 4.7 or later versions, but targets an earlier version, the key defaults to 0.</span></span> <span data-ttu-id="74a61-267">In diesem Fall sollten Sie explizit den Wert auf 1 festlegen.</span><span class="sxs-lookup"><span data-stu-id="74a61-267">In that case, you should explicitly set its value to 1.</span></span>

<span data-ttu-id="74a61-268">Weitere Informationen finden Sie unter [kumulative Update für Windows 10 Version 1511 und Windows Server 2016 Technical Preview 4: 10. Mai 2016](https://support.microsoft.com/help/3156421/cumulative-update-for-windows-10-version-1511-and-windows-server-2016).</span><span class="sxs-lookup"><span data-stu-id="74a61-268">For more info, see [Cumulative Update for Windows 10 Version 1511 and Windows Server 2016 Technical Preview 4: May 10, 2016](https://support.microsoft.com/help/3156421/cumulative-update-for-windows-10-version-1511-and-windows-server-2016).</span></span>

<span data-ttu-id="74a61-269">Weitere Informationen mit .NET Framework 3.5.1 finden Sie unter [Unterstützung für TLS System Standard-Versionen in .NET Framework 3.5.1 unter Windows 7 SP1 und Server 2008 R2 SP1 enthaltenen](https://support.microsoft.com/help/3154518/support-for-tls-system-default-versions-included-in-the--net-framework).</span><span class="sxs-lookup"><span data-stu-id="74a61-269">For more information with .NET framework 3.5.1, see [Support for TLS System Default Versions included in .NET Framework 3.5.1 on Windows 7 SP1 and Server 2008 R2 SP1](https://support.microsoft.com/help/3154518/support-for-tls-system-default-versions-included-in-the--net-framework).</span></span>

<span data-ttu-id="74a61-270">Die folgenden _. REG_ Datei legt die Registrierungsschlüssel und deren Varianten auf ihre am sicheren Werte fest:</span><span class="sxs-lookup"><span data-stu-id="74a61-270">The following _.REG_ file sets the registry keys and their variants to their most safe values:</span></span>

```
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\.NETFramework\v2.0.50727]
"SystemDefaultTlsVersions"=dword:00000001
"SchUseStrongCrypto"=dword:00000001

[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\.NETFramework\v4.0.30319]
"SystemDefaultTlsVersions"=dword:00000001
"SchUseStrongCrypto"=dword:00000001

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\v2.0.50727]
"SystemDefaultTlsVersions"=dword:00000001
"SchUseStrongCrypto"=dword:00000001

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\v4.0.30319]
"SystemDefaultTlsVersions"=dword:00000001
"SchUseStrongCrypto"=dword:00000001
```

## <a name="configuring-schannel-protocols-in-the-windows-registry"></a><span data-ttu-id="74a61-271">Konfigurieren von Schannel-Protokolle in der Windows-Registrierung</span><span class="sxs-lookup"><span data-stu-id="74a61-271">Configuring Schannel protocols in the Windows Registry</span></span>

<span data-ttu-id="74a61-272">Sie können die Registrierung für eine präzisere Kontrolle über die Protokolle, die Ihre app Client und/oder Server ausgehandelt.</span><span class="sxs-lookup"><span data-stu-id="74a61-272">You can use the registry for fine-grained control over the protocols that your client and/or server app negotiates.</span></span> <span data-ttu-id="74a61-273">Netzwerk für Ihre app durchläuft Schannel (also in einen anderen Namen für [Secure Channel](https://msdn.microsoft.com/library/windows/desktop/aa380123).</span><span class="sxs-lookup"><span data-stu-id="74a61-273">Your app's networking goes through Schannel (which is another name for [Secure Channel](https://msdn.microsoft.com/library/windows/desktop/aa380123).</span></span> <span data-ttu-id="74a61-274">Durch Konfigurieren von `Schannel`, Sie können das Verhalten Ihrer app konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="74a61-274">By configuring `Schannel`, you can configure your app's behavior.</span></span>

<span data-ttu-id="74a61-275">Beginnen Sie mit der `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols` Registrierungsschlüssel.</span><span class="sxs-lookup"><span data-stu-id="74a61-275">Start with the `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols` registry key.</span></span> <span data-ttu-id="74a61-276">Sie können alle Unterschlüssel unter diesem Schlüssel erstellen, in der Menge `SSL 2.0`, `SSL 3.0`, `TLS 1.0`, `TLS 1.1`, und `TLS 1.2`.</span><span class="sxs-lookup"><span data-stu-id="74a61-276">Under that key you can create any subkeys in the set `SSL 2.0`, `SSL 3.0`, `TLS 1.0`, `TLS 1.1`, and `TLS 1.2`.</span></span> <span data-ttu-id="74a61-277">Sie können unter jeder dieser Unterschlüssel Unterschlüssel erstellen `Client` und/oder `Server`.</span><span class="sxs-lookup"><span data-stu-id="74a61-277">Under each of those subkeys, you can create subkeys `Client` and/or `Server`.</span></span> <span data-ttu-id="74a61-278">Klicken Sie unter `Client` und `Server`, können Sie den DWORD-Werte erstellen `DisabledByDefault` (0 oder 1) und `Enabled` ("0" oder "0xFFFFFFFF").</span><span class="sxs-lookup"><span data-stu-id="74a61-278">Under `Client` and `Server`, you can create DWORD values `DisabledByDefault` (0 or 1) and `Enabled` (0 or 0xFFFFFFFF).</span></span>

## <a name="the-schusestrongcrypto-flag"></a><span data-ttu-id="74a61-279">Das Flag SCH_USE_STRONG_CRYPTO</span><span class="sxs-lookup"><span data-stu-id="74a61-279">The SCH_USE_STRONG_CRYPTO flag</span></span>

<span data-ttu-id="74a61-280">Wenn es aktiviert ist (standardmäßig durch eine `AppContext` zu wechseln, oder von der Windows-Registrierung), .NET Framework verwendet die `SCH_USE_STRONG_CRYPTO` kennzeichnen, wenn Ihre app eine TLS-Sicherheitsprotokoll anfordert.</span><span class="sxs-lookup"><span data-stu-id="74a61-280">When it's enabled (by default, by an `AppContext` switch, or by the Windows Registry), the .NET Framework uses the `SCH_USE_STRONG_CRYPTO` flag when your app requests a TLS security protocol.</span></span> <span data-ttu-id="74a61-281">Die `SCH_USE_STRONG_CRYPTO` Flag kann in der Standardeinstellung aktiviert werden, mit der `AppContext` zu wechseln, oder mit der Registrierung.</span><span class="sxs-lookup"><span data-stu-id="74a61-281">The `SCH_USE_STRONG_CRYPTO` flag can be enabled by default, with the `AppContext` switch, or with the Registry.</span></span> <span data-ttu-id="74a61-282">Das Betriebssystem übergibt das Flag `Schannel`um, um bekannte schwache Kryptografiealgorithmen deaktivieren anzuweisen, dieses Feld enthält die Testsammlungen und TLS/SSL-Protokollversionen, die andernfalls für eine bessere Interoperabilität aktiviert werden können.</span><span class="sxs-lookup"><span data-stu-id="74a61-282">The OS passes the flag to `Schannel`to instruct it to disable known weak cryptographic algorithms, cipher suites, and TLS/SSL protocol versions that may be otherwise enabled for better interoperability.</span></span> <span data-ttu-id="74a61-283">Weitere Informationen finden Sie unter:</span><span class="sxs-lookup"><span data-stu-id="74a61-283">For more information, see:</span></span>

- [<span data-ttu-id="74a61-284">Secure Channel</span><span class="sxs-lookup"><span data-stu-id="74a61-284">Secure Channel</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa380123)
- [<span data-ttu-id="74a61-285">SCHANNEL_CRED-Struktur</span><span class="sxs-lookup"><span data-stu-id="74a61-285">SCHANNEL_CRED structure</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa379810)

<span data-ttu-id="74a61-286">Die `SCH_USE_STRONG_CRYPTO` Flag wird ebenfalls übergeben, um `Schannel` explizit Verwendung der `Tls` (TLS 1.0), `Tls11`, oder `Tls12` enumierationswerte von <xref:System.Net.SecurityProtocolType> oder <xref:System.Security.Authentication.SslProtocols>.</span><span class="sxs-lookup"><span data-stu-id="74a61-286">The `SCH_USE_STRONG_CRYPTO` flag is also passed to `Schannel` when you explicitly use the `Tls` (TLS 1.0), `Tls11`, or `Tls12` enumerated values of <xref:System.Net.SecurityProtocolType> or <xref:System.Security.Authentication.SslProtocols>.</span></span>

## <a name="security-updates"></a><span data-ttu-id="74a61-287">Sicherheitsupdates</span><span class="sxs-lookup"><span data-stu-id="74a61-287">Security updates</span></span>

<span data-ttu-id="74a61-288">Die bewährten Methoden in diesem Artikel richten sich nach der neuesten Sicherheitsupdates installiert wird.</span><span class="sxs-lookup"><span data-stu-id="74a61-288">The best practices in this article depend on recent security updates being installed.</span></span> <span data-ttu-id="74a61-289">Diese Updates enthalten die Möglichkeit, erweiterte .NET Framework 4.7 und höher verwenden.</span><span class="sxs-lookup"><span data-stu-id="74a61-289">These updates include the ability to use advanced .NET Framework 4.7 and later features.</span></span> <span data-ttu-id="74a61-290">Aktuelle Sicherheitsupdates sind wichtig, wenn Ihre app auf .NET Framework 4.7 und höher ausgeführt wird (auch wenn es sich um eine frühere Version abzielt).</span><span class="sxs-lookup"><span data-stu-id="74a61-290">Recent security updates are important if your app runs on .NET Framework 4.7 and later versions (even if it targets an earlier version).</span></span>

<span data-ttu-id="74a61-291">Um die .NET Framework ermöglichen die beste Version von TLS zu verwenden, wählen das Betriebssystem zu aktualisieren, müssen Sie mindestens installieren:</span><span class="sxs-lookup"><span data-stu-id="74a61-291">To update the .NET Framework to allow the operating system to choose the best version of TLS to use, you must install at least:</span></span>

- <span data-ttu-id="74a61-292">Die [.NET Framework August 2017 Preview Qualität Rollup](https://blogs.msdn.microsoft.com/dotnet/2017/08/16/net-framework-august-2017-preview-of-quality-rollup).</span><span class="sxs-lookup"><span data-stu-id="74a61-292">The [.NET Framework August 2017 Preview of Quality Rollup](https://blogs.msdn.microsoft.com/dotnet/2017/08/16/net-framework-august-2017-preview-of-quality-rollup).</span></span>
- <span data-ttu-id="74a61-293">**Oder** der [September 2017 Sicherheit von .NET Framework und Qualität Rollup](https://blogs.msdn.microsoft.com/dotnet/2017/09/12/net-framework-september-2017-security-and-quality-rollup).</span><span class="sxs-lookup"><span data-stu-id="74a61-293">**Or** the [.NET Framework September 2017 Security and Quality Rollup](https://blogs.msdn.microsoft.com/dotnet/2017/09/12/net-framework-september-2017-security-and-quality-rollup).</span></span>

<span data-ttu-id="74a61-294">Siehe auch:</span><span class="sxs-lookup"><span data-stu-id="74a61-294">See also:</span></span>

- [<span data-ttu-id="74a61-295">.NET Framework-Versionen und-Abhängigkeiten</span><span class="sxs-lookup"><span data-stu-id="74a61-295">.NET Framework Versions and Dependencies</span></span>](../migration-guide/versions-and-dependencies.md)
- <span data-ttu-id="74a61-296">[Vorgehensweise: bestimmen, welche .NET Framework-Versionen installiert sind](../migration-guide/how-to-determine-which-versions-are-installed.md).</span><span class="sxs-lookup"><span data-stu-id="74a61-296">[How to: Determine Which .NET Framework Versions Are Installed](../migration-guide/how-to-determine-which-versions-are-installed.md).</span></span>

## <a name="support-for-tls-12"></a><span data-ttu-id="74a61-297">Unterstützung für TLS 1.2</span><span class="sxs-lookup"><span data-stu-id="74a61-297">Support for TLS 1.2</span></span>

<span data-ttu-id="74a61-298">Für Ihre app zum Aushandeln von TLS 1.2, das Betriebssystem und .NET Framework-Version müssen beide TLS 1.2 zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="74a61-298">For your app to negotiate TLS 1.2, the OS and the .NET Framework version both need to support TLS 1.2.</span></span>

<span data-ttu-id="74a61-299">**Anforderungen an das Betriebssystem zur Unterstützung von TLS 1.2**</span><span class="sxs-lookup"><span data-stu-id="74a61-299">**Operating system requirements to support TLS 1.2**</span></span>

<span data-ttu-id="74a61-300">Zum Aktivieren oder erneutes Aktivieren von TLS 1.2 und/oder TLS 1.1 auf ein System, das sie unterstützt, finden Sie unter [registrierungseinstellungen für den Transport Layer Security (TLS)](/windows-server/security/tls/tls-registry-settings).</span><span class="sxs-lookup"><span data-stu-id="74a61-300">To enable or re-enable TLS 1.2 and/or TLS 1.1 on a system that supports them, see [Transport Layer Security (TLS) registry settings](/windows-server/security/tls/tls-registry-settings).</span></span>

| <span data-ttu-id="74a61-301">**OS**</span><span class="sxs-lookup"><span data-stu-id="74a61-301">**OS**</span></span> | <span data-ttu-id="74a61-302">**TLS 1.2-Unterstützung**</span><span class="sxs-lookup"><span data-stu-id="74a61-302">**TLS 1.2 support**</span></span> |
| --- | --- |
| <span data-ttu-id="74a61-303">Windows 10</span><span class="sxs-lookup"><span data-stu-id="74a61-303">Windows 10</span></span></br><span data-ttu-id="74a61-304">Windows Server 2016</span><span class="sxs-lookup"><span data-stu-id="74a61-304">Windows Server 2016</span></span> | <span data-ttu-id="74a61-305">Unterstützt, und standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="74a61-305">Supported, and enabled by default.</span></span> |
| <span data-ttu-id="74a61-306">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="74a61-306">Windows 8.1</span></span></br><span data-ttu-id="74a61-307">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="74a61-307">Windows Server 2012 R2</span></span> | <span data-ttu-id="74a61-308">Unterstützt, und standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="74a61-308">Supported, and enabled by default.</span></span> |
| <span data-ttu-id="74a61-309">Windows 8.0</span><span class="sxs-lookup"><span data-stu-id="74a61-309">Windows 8.0</span></span></br><span data-ttu-id="74a61-310">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="74a61-310">Windows Server 2012</span></span> | <span data-ttu-id="74a61-311">Unterstützt, und standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="74a61-311">Supported, and enabled by default.</span></span> |
| <span data-ttu-id="74a61-312">Windows 7 SP1</span><span class="sxs-lookup"><span data-stu-id="74a61-312">Windows 7 SP1</span></span></br><span data-ttu-id="74a61-313">Windows Server 2008 R2 SP1</span><span class="sxs-lookup"><span data-stu-id="74a61-313">Windows Server 2008 R2 SP1</span></span> | <span data-ttu-id="74a61-314">Unterstützt, jedoch nicht standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="74a61-314">Supported, but not enabled by default.</span></span> <span data-ttu-id="74a61-315">Finden Sie unter der [registrierungseinstellungen für den Transport Layer Security (TLS)](/windows-server/security/tls/tls-registry-settings) Webseite Weitere Informationen zum Aktivieren von TLS 1.2.</span><span class="sxs-lookup"><span data-stu-id="74a61-315">See the [Transport Layer Security (TLS) registry settings](/windows-server/security/tls/tls-registry-settings) web page for details on how to enable TLS 1.2.</span></span> |
| <span data-ttu-id="74a61-316">Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="74a61-316">Windows Server 2008</span></span> | <span data-ttu-id="74a61-317">Unterstützung für TLS 1.2 und TLS 1.1 ist ein Update erforderlich.</span><span class="sxs-lookup"><span data-stu-id="74a61-317">Support for TLS 1.2 and TLS 1.1 requires an update.</span></span> <span data-ttu-id="74a61-318">Finden Sie unter [Update zum Hinzufügen der Unterstützung für TLS 1.1 und TLS 1.2 in Windows Server 2008 SP2](https://support.microsoft.com/help/4019276/update-to-add-support-for-tls-1-1-and-tls-1-2-in-windows-server-2008-s).</span><span class="sxs-lookup"><span data-stu-id="74a61-318">See [Update to add support for TLS 1.1 and TLS 1.2 in Windows Server 2008 SP2](https://support.microsoft.com/help/4019276/update-to-add-support-for-tls-1-1-and-tls-1-2-in-windows-server-2008-s).</span></span> |
| <span data-ttu-id="74a61-319">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="74a61-319">Windows Vista</span></span> | <span data-ttu-id="74a61-320">Wird nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="74a61-320">Not supported.</span></span> |

<span data-ttu-id="74a61-321">Informationen über die TLS/SSL-Protokolle für die einzelnen Versionen von Windows standardmäßig aktiviert sind, finden Sie unter [Protokolle TLS/SSL (Schannel SSP)](https://msdn.microsoft.com/library/windows/desktop/mt808159).</span><span class="sxs-lookup"><span data-stu-id="74a61-321">For information about which TLS/SSL protocols are enabled by default on each version of Windows, see [Protocols in TLS/SSL (Schannel SSP)](https://msdn.microsoft.com/library/windows/desktop/mt808159).</span></span>

<span data-ttu-id="74a61-322">**Anforderungen zur Unterstützung von TLS 1.2 mit .NET Framework 3.5**</span><span class="sxs-lookup"><span data-stu-id="74a61-322">**Requirements to support TLS 1.2 with .NET Framework 3.5**</span></span>

<span data-ttu-id="74a61-323">Diese Tabelle zeigt dem Update des Betriebssystems, die Sie benötigen, um TLS 1.2 mit .NET Framework 3.5 zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="74a61-323">This table shows the OS update you'll need to support TLS 1.2 with .NET Framework 3.5.</span></span> <span data-ttu-id="74a61-324">Es wird empfohlen, dass Sie alle Betriebssystem-Updates anwenden.</span><span class="sxs-lookup"><span data-stu-id="74a61-324">We recommend you apply all OS updates.</span></span>

| <span data-ttu-id="74a61-325">**OS**</span><span class="sxs-lookup"><span data-stu-id="74a61-325">**OS**</span></span> | <span data-ttu-id="74a61-326">**Minimale Update erforderlich, um TLS 1.2 mit .NET Framework 3.5 zu unterstützen.**</span><span class="sxs-lookup"><span data-stu-id="74a61-326">**Minimum update needed to support TLS 1.2 with .NET Framework 3.5**</span></span> |
| --- | --- |
| <span data-ttu-id="74a61-327">Windows 10</span><span class="sxs-lookup"><span data-stu-id="74a61-327">Windows 10</span></span></br><span data-ttu-id="74a61-328">Windows Server 2016</span><span class="sxs-lookup"><span data-stu-id="74a61-328">Windows Server 2016</span></span> | [<span data-ttu-id="74a61-329">Kumulatives Update für Windows 10 Version 1511 und Windows Server 2016 Technical Preview 4: 10. Mai 2016</span><span class="sxs-lookup"><span data-stu-id="74a61-329">Cumulative Update for Windows 10 Version 1511 and Windows Server 2016 Technical Preview 4: May 10, 2016</span></span>](https://support.microsoft.com/help/3156421/cumulative-update-for-windows-10-version-1511-and-windows-server-2016) |
| <span data-ttu-id="74a61-330">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="74a61-330">Windows 8.1</span></span></br><span data-ttu-id="74a61-331">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="74a61-331">Windows Server 2012 R2</span></span> | [<span data-ttu-id="74a61-332">Unterstützung für TLS System Standard-Versionen enthalten, die in .NET Framework 3.5 auf Windows 8.1 und Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="74a61-332">Support for TLS System Default Versions included in the .NET Framework 3.5 on Windows 8.1 and Windows Server 2012 R2</span></span>](https://support.microsoft.com/help/3154520/support-for-tls-system-default-versions-included-in-the--net-framework) |
| <span data-ttu-id="74a61-333">Windows 8.0</span><span class="sxs-lookup"><span data-stu-id="74a61-333">Windows 8.0</span></span></br><span data-ttu-id="74a61-334">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="74a61-334">Windows Server 2012</span></span> | [<span data-ttu-id="74a61-335">Unterstützung für TLS System Standard-Versionen in .NET Framework 3.5 unter Windows Server 2012 enthalten</span><span class="sxs-lookup"><span data-stu-id="74a61-335">Support for TLS System Default Versions included in the .NET Framework 3.5 on Windows Server 2012</span></span>](https://support.microsoft.com/help/3154519/support-for-tls-system-default-versions-included-in-the--net-framework) |
| <span data-ttu-id="74a61-336">Windows 7 SP1</span><span class="sxs-lookup"><span data-stu-id="74a61-336">Windows 7 SP1</span></span></br><span data-ttu-id="74a61-337">Windows Server 2008 R2 SP1</span><span class="sxs-lookup"><span data-stu-id="74a61-337">Windows Server 2008 R2 SP1</span></span> | [<span data-ttu-id="74a61-338">Unterstützung für TLS System Standard-Versionen enthalten, die in .NET Framework 3.5.1 unter Windows 7 SP1 und Server 2008 R2 SP1</span><span class="sxs-lookup"><span data-stu-id="74a61-338">Support for TLS System Default Versions included in the .NET Framework 3.5.1 on Windows 7 SP1 and Server 2008 R2 SP1</span></span>](https://support.microsoft.com/help/3154518/support-for-tls-system-default-versions-included-in-the--net-framework) |
| <span data-ttu-id="74a61-339">Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="74a61-339">Windows Server 2008</span></span> | [<span data-ttu-id="74a61-340">Unterstützung für TLS System Standard-Versionen enthalten, die in .NET Framework 2.0 SP2 unter Windows Vista SP2 und Server 2008 SP2</span><span class="sxs-lookup"><span data-stu-id="74a61-340">Support for TLS System Default Versions included in the .NET Framework 2.0 SP2 on Windows Vista SP2 and Server 2008 SP2</span></span>](https://support.microsoft.com/help/3154517/support-for-tls-system-default-versions-included-in-the--net-framework) |
| <span data-ttu-id="74a61-341">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="74a61-341">Windows Vista</span></span> | <span data-ttu-id="74a61-342">Nicht unterstützt</span><span class="sxs-lookup"><span data-stu-id="74a61-342">Not supported</span></span> |

## <a name="azure-cloud-services"></a><span data-ttu-id="74a61-343">Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="74a61-343">Azure Cloud Services</span></span>

<span data-ttu-id="74a61-344">Bei Verwendung von [Azure Cloud Services](https://azure.microsoft.com/services/cloud-services/) Web- und Workerrollen Rollen zu hosten und Ausführen Ihrer Anwendung sind einige Aspekte, die zur Unterstützung von TLS 1.2 berücksichtigen müssen.</span><span class="sxs-lookup"><span data-stu-id="74a61-344">If you are using [Azure Cloud Services](https://azure.microsoft.com/services/cloud-services/) Web and Worker roles to host and run your application, there are some considerations that you need to take into account to support TLS 1.2.</span></span>

### <a name="net-framework-47-is-not-installed-on-azure-guest-os-by-default"></a><span data-ttu-id="74a61-345">.NET Framework 4.7 ist auf Azure-Gastbetriebssystem nicht standardmäßig installiert werden.</span><span class="sxs-lookup"><span data-stu-id="74a61-345">.NET Framework 4.7 is not installed on Azure Guest OS by default</span></span>

<span data-ttu-id="74a61-346">Die neueste Version der neuen Azure Guest OS Family 5-Version (Windows Server 2016) installiert ist, 4.6.2.</span><span class="sxs-lookup"><span data-stu-id="74a61-346">The latest version installed in the latest Azure Guest OS Family 5 release (Windows Server 2016) is 4.6.2.</span></span> <span data-ttu-id="74a61-347">Welche Versionen von .NET Framework auf jedem Azure-Gastbetriebssystem installiert sind, finden Sie unter der [Azure-gastbetriebssystemversionen und SDK-Kompatibilitätsmatrix](https://docs.microsoft.com/azure/cloud-services/cloud-services-guestos-update-matrix).</span><span class="sxs-lookup"><span data-stu-id="74a61-347">To see which versions of .NET Framework are installed on each Azure Guest OS, see the [Azure Guest OS releases and SDK compatibility matrix](https://docs.microsoft.com/azure/cloud-services/cloud-services-guestos-update-matrix).</span></span>

<span data-ttu-id="74a61-348">Wenn die app auf eine Version von .NET Framework, die nicht in der Azure-Gast-BS-Version verfügbar ist abzielt, müssen Sie ihn selbst zu installieren.</span><span class="sxs-lookup"><span data-stu-id="74a61-348">If your app targets a .NET Framework version that is not available on the Azure Guest OS version, then you need to install it yourself.</span></span> <span data-ttu-id="74a61-349">Finden Sie unter [installieren Sie .NET auf Azure-Cloud-Dienstrollen](https://docs.microsoft.com/azure/cloud-services/cloud-services-dotnet-install-dotnet).</span><span class="sxs-lookup"><span data-stu-id="74a61-349">See [Install .NET on Azure Cloud Service Roles](https://docs.microsoft.com/azure/cloud-services/cloud-services-dotnet-install-dotnet).</span></span> <span data-ttu-id="74a61-350">Wenn die Framework-Installation ein Neustart erforderlich ist, können der Dienst-Rollen auch neu starten, vor dem Wechsel in den Status "bereit".</span><span class="sxs-lookup"><span data-stu-id="74a61-350">If the framework installation requires a restart, the service roles might also restart before entering the Ready state.</span></span>

### <a name="azure-guest-os-registry-settings"></a><span data-ttu-id="74a61-351">Registrierungseinstellungen für den Azure-Gastbetriebssystem</span><span class="sxs-lookup"><span data-stu-id="74a61-351">Azure Guest OS registry settings</span></span>

<span data-ttu-id="74a61-352">Das Azure-Gast-BS-image für [Azure Cloud Services](https://azure.microsoft.com/services/cloud-services/) verfügt bereits über die `SchUseStrongCrypto` Registrierungsschlüssel auf den Wert 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="74a61-352">The Azure Guest OS image for [Azure Cloud Services](https://azure.microsoft.com/services/cloud-services/) already has the `SchUseStrongCrypto` registry key set to a value of 1.</span></span> <span data-ttu-id="74a61-353">Weitere Informationen finden Sie unter [SchUseStrongCrypto](#schusestrongcrypto).</span><span class="sxs-lookup"><span data-stu-id="74a61-353">For more information, see [SchUseStrongCrypto](#schusestrongcrypto).</span></span>

<span data-ttu-id="74a61-354">Legen Sie die [SystemDefaultTlsVersions](#systemdefaulttlsversions) Registrierungsschlüssel auf 1.</span><span class="sxs-lookup"><span data-stu-id="74a61-354">Set the [SystemDefaultTlsVersions](#systemdefaulttlsversions) registry key to 1.</span></span> <span data-ttu-id="74a61-355">Finden Sie unter [Konfigurieren der Sicherheit über die Windows-Registrierung](#configuring-security-via-the-windows-registry).</span><span class="sxs-lookup"><span data-stu-id="74a61-355">See [Configuring security via the Windows Registry](#configuring-security-via-the-windows-registry).</span></span>
