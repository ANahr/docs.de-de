---
title: Richtlinien für Auflistungen
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: 297b8f1d-b11f-4dc6-960a-8e990817304e
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 3d73ff726e9ddfe1ec1d16dd020f53445f984fb9
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/04/2018
ms.locfileid: "33578858"
---
# <a name="guidelines-for-collections"></a><span data-ttu-id="e36a7-102">Richtlinien für Auflistungen</span><span class="sxs-lookup"><span data-stu-id="e36a7-102">Guidelines for Collections</span></span>
<span data-ttu-id="e36a7-103">Jeder Typ speziell dazu entwickelt, bearbeiten eine Gruppe von Objekten müssen einige gemeinsame Eigenschaften haben, kann eine Auflistung betrachtet werden.</span><span class="sxs-lookup"><span data-stu-id="e36a7-103">Any type designed specifically to manipulate a group of objects having some common characteristic can be considered a collection.</span></span> <span data-ttu-id="e36a7-104">Es ist fast immer für solche Typen implementieren <xref:System.Collections.IEnumerable> oder <xref:System.Collections.Generic.IEnumerable%601>, sodass in diesem Abschnitt wird nur Typen, die eine oder beide dieser Schnittstellen implementieren, die Auflistungen werden berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="e36a7-104">It is almost always appropriate for such types to implement <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601>, so in this section we only consider types implementing one or both of those interfaces to be collections.</span></span>  
  
 <span data-ttu-id="e36a7-105">**X DO NOT** schwach typisierte Auflistungen in öffentlichen APIs verwenden.</span><span class="sxs-lookup"><span data-stu-id="e36a7-105">**X DO NOT** use weakly typed collections in public APIs.</span></span>  
  
 <span data-ttu-id="e36a7-106">Der Typ aller Rückgabewerte und Parameter, die Sammelelemente darstellen sollte der genaue Elementtyp, der keine seine Basistypen (Dies gilt nur für öffentliche Member der Auflistung).</span><span class="sxs-lookup"><span data-stu-id="e36a7-106">The type of all return values and parameters representing collection items should be the exact item type, not any of its base types (this applies only to public members of the collection).</span></span>  
  
 <span data-ttu-id="e36a7-107">**X DO NOT** verwenden <xref:System.Collections.ArrayList> oder <xref:System.Collections.Generic.List%601> in öffentlichen APIs.</span><span class="sxs-lookup"><span data-stu-id="e36a7-107">**X DO NOT** use <xref:System.Collections.ArrayList> or <xref:System.Collections.Generic.List%601> in public APIs.</span></span>  
  
 <span data-ttu-id="e36a7-108">Diese Typen sind Datenstrukturen, die in der internen Implementierung, die in öffentlichen APIs nicht verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="e36a7-108">These types are data structures designed to be used in internal implementation, not in public APIs.</span></span> <span data-ttu-id="e36a7-109">`List<T>` ist optimiert für Leistung und Energieverbrauch auf Kosten eines erhöhten Voraussichten-APIs und Flexibilität.</span><span class="sxs-lookup"><span data-stu-id="e36a7-109">`List<T>` is optimized for performance and power at the cost of cleanness of the APIs and flexibility.</span></span> <span data-ttu-id="e36a7-110">Wenn Sie zurückkehren, z. B. `List<T>`, nicht jemals werden können, um Benachrichtigungen zu empfangen, wenn Clientcode auf die Auflistung ändert.</span><span class="sxs-lookup"><span data-stu-id="e36a7-110">For example, if you return `List<T>`, you will not ever be able to receive notifications when client code modifies the collection.</span></span> <span data-ttu-id="e36a7-111">Darüber hinaus `List<T>` viele Elemente wie z. B. macht <xref:System.Collections.Generic.List%601.BinarySearch%2A>, nicht nützlich oder in vielen Szenarien anwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="e36a7-111">Also, `List<T>` exposes many members, such as <xref:System.Collections.Generic.List%601.BinarySearch%2A>, that are not useful or applicable in many scenarios.</span></span> <span data-ttu-id="e36a7-112">In den folgenden beiden Abschnitten werden die Typen (Abstraktionen) entwickelt, die speziell zur Verwendung in öffentlichen APIs beschrieben.</span><span class="sxs-lookup"><span data-stu-id="e36a7-112">The following two sections describe types (abstractions) designed specifically for use in public APIs.</span></span>  
  
 <span data-ttu-id="e36a7-113">**X DO NOT** verwenden `Hashtable` oder `Dictionary<TKey,TValue>` in öffentlichen APIs.</span><span class="sxs-lookup"><span data-stu-id="e36a7-113">**X DO NOT** use `Hashtable` or `Dictionary<TKey,TValue>` in public APIs.</span></span>  
  
 <span data-ttu-id="e36a7-114">Diese Typen sind Datenstrukturen, die in der internen Implementierung verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="e36a7-114">These types are data structures designed to be used in internal implementation.</span></span> <span data-ttu-id="e36a7-115">Öffentliche API zu verwendende <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, oder ein benutzerdefinierter Typ, der eine oder beide der Schnittstellen implementieren.</span><span class="sxs-lookup"><span data-stu-id="e36a7-115">Public APIs should use <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, or a custom type implementing one or both of the interfaces.</span></span>  
  
 <span data-ttu-id="e36a7-116">**X DO NOT** verwenden <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, oder eines anderen Typs, die entweder dieser Schnittstellen außer, als den Rückgabetyp implementiert einer `GetEnumerator` Methode.</span><span class="sxs-lookup"><span data-stu-id="e36a7-116">**X DO NOT** use <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, or any other type that implements either of these interfaces, except as the return type of a `GetEnumerator` method.</span></span>  
  
 <span data-ttu-id="e36a7-117">Zurückgeben von Enumeratoren aus Methoden außer Typen `GetEnumerator` kann nicht verwendet werden, mit der `foreach` Anweisung.</span><span class="sxs-lookup"><span data-stu-id="e36a7-117">Types returning enumerators from methods other than `GetEnumerator` cannot be used with the `foreach` statement.</span></span>  
  
 <span data-ttu-id="e36a7-118">**X DO NOT** implementieren sowohl `IEnumerator<T>` und `IEnumerable<T>` für den gleichen Typ.</span><span class="sxs-lookup"><span data-stu-id="e36a7-118">**X DO NOT** implement both `IEnumerator<T>` and `IEnumerable<T>` on the same type.</span></span> <span data-ttu-id="e36a7-119">Das gleiche gilt für die nicht generischen Schnittstellen `IEnumerator` und `IEnumerable`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-119">The same applies to the nongeneric interfaces `IEnumerator` and `IEnumerable`.</span></span>  
  
## <a name="collection-parameters"></a><span data-ttu-id="e36a7-120">Parameter für die Datensammlung</span><span class="sxs-lookup"><span data-stu-id="e36a7-120">Collection Parameters</span></span>  
 <span data-ttu-id="e36a7-121">**✓ DO** verwenden Sie die möglichen Least spezialisierten Typ als Parametertyp.</span><span class="sxs-lookup"><span data-stu-id="e36a7-121">**✓ DO** use the least-specialized type possible as a parameter type.</span></span> <span data-ttu-id="e36a7-122">Die meisten Member, die Auflistungen, der als Parameter verwenden, die `IEnumerable<T>` Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="e36a7-122">Most members taking collections as parameters use the `IEnumerable<T>` interface.</span></span>  
  
 <span data-ttu-id="e36a7-123">**X AVOID** mit <xref:System.Collections.Generic.ICollection%601> oder <xref:System.Collections.ICollection> als Parameter nur für den Zugriff auf die `Count` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="e36a7-123">**X AVOID** using <xref:System.Collections.Generic.ICollection%601> or <xref:System.Collections.ICollection> as a parameter just to access the `Count` property.</span></span>  
  
 <span data-ttu-id="e36a7-124">Verwenden Sie stattdessen `IEnumerable<T>` oder `IEnumerable` und dynamisch wird überprüft, ob das Objekt implementiert `ICollection<T>` oder `ICollection`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-124">Instead, consider using `IEnumerable<T>` or `IEnumerable` and dynamically checking whether the object implements `ICollection<T>` or `ICollection`.</span></span>  
  
## <a name="collection-properties-and-return-values"></a><span data-ttu-id="e36a7-125">Sammlungseigenschaften und Rückgabewerte</span><span class="sxs-lookup"><span data-stu-id="e36a7-125">Collection Properties and Return Values</span></span>  
 <span data-ttu-id="e36a7-126">**X DO NOT** festlegbaren Auflistungseigenschaften bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-126">**X DO NOT** provide settable collection properties.</span></span>  
  
 <span data-ttu-id="e36a7-127">Benutzer können den Inhalt der Auflistung ersetzen, indem zuerst das Löschen der Sammlung, und fügen den neuen Inhalt.</span><span class="sxs-lookup"><span data-stu-id="e36a7-127">Users can replace the contents of the collection by clearing the collection first and then adding the new contents.</span></span> <span data-ttu-id="e36a7-128">Ist das Ersetzen der gesamten Sammlung ein häufiges Szenario, in Erwägung ziehen die `AddRange` Methode für die Auflistung.</span><span class="sxs-lookup"><span data-stu-id="e36a7-128">If replacing the whole collection is a common scenario, consider providing the `AddRange` method on the collection.</span></span>  
  
 <span data-ttu-id="e36a7-129">**✓ DO** verwenden `Collection<T>` oder eine Unterklasse von `Collection<T>` für Eigenschaften oder des Rückgabewerts darstellen Schreib-Lese-Sammlungen Werte.</span><span class="sxs-lookup"><span data-stu-id="e36a7-129">**✓ DO** use `Collection<T>` or a subclass of `Collection<T>` for properties or return values representing read/write collections.</span></span>  
  
 <span data-ttu-id="e36a7-130">Wenn `Collection<T>` wird eine Anforderung nicht erfüllt (z. B. der Sammlung muss nicht implementiert <xref:System.Collections.IList>), verwenden Sie durch die Implementierung eine benutzerdefinierte Sammlung `IEnumerable<T>`, `ICollection<T>`, oder <xref:System.Collections.Generic.IList%601>.</span><span class="sxs-lookup"><span data-stu-id="e36a7-130">If `Collection<T>` does not meet some requirement (e.g., the collection must not implement <xref:System.Collections.IList>), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or <xref:System.Collections.Generic.IList%601>.</span></span>  
  
 <span data-ttu-id="e36a7-131">**✓ DO** verwenden <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, eine Unterklasse von `ReadOnlyCollection<T>`, oder in seltenen Fällen `IEnumerable<T>` für Eigenschaften oder des Rückgabewerts darstellen schreibgeschützten Auflistungen Werte.</span><span class="sxs-lookup"><span data-stu-id="e36a7-131">**✓ DO** use <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, a subclass of `ReadOnlyCollection<T>`, or in rare cases `IEnumerable<T>` for properties or return values representing read-only collections.</span></span>  
  
 <span data-ttu-id="e36a7-132">Im Allgemeinen verwenden `ReadOnlyCollection<T>`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-132">In general, prefer `ReadOnlyCollection<T>`.</span></span> <span data-ttu-id="e36a7-133">Wenn sie einige Anforderungen nicht erfüllt (z. B. der Sammlung muss nicht implementiert `IList`), verwenden Sie durch die Implementierung eine benutzerdefinierte Sammlung `IEnumerable<T>`, `ICollection<T>`, oder `IList<T>`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-133">If it does not meet some requirement (e.g., the collection must not implement `IList`), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or `IList<T>`.</span></span> <span data-ttu-id="e36a7-134">Wenn Sie eine benutzerdefinierte schreibgeschützte Auflistung implementieren, implementieren `ICollection<T>.IsReadOnly` zurückzugebenden `true`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-134">If you do implement a custom read-only collection, implement `ICollection<T>.IsReadOnly` to return `true`.</span></span>  
  
 <span data-ttu-id="e36a7-135">In Fällen, in denen sind Sie sicher, dass das einzige Szenario, die jemals unterstützen möchten Vorwärtscursor Iteration ist, können Sie einfach `IEnumerable<T>`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-135">In cases where you are sure that the only scenario you will ever want to support is forward-only iteration, you can simply use `IEnumerable<T>`.</span></span>  
  
 <span data-ttu-id="e36a7-136">**✓ CONSIDER** Unterklassen des generischen Basisklasse Auflistungen anstatt Auflistungen direkt verwenden.</span><span class="sxs-lookup"><span data-stu-id="e36a7-136">**✓ CONSIDER** using subclasses of generic base collections instead of using the collections directly.</span></span>  
  
 <span data-ttu-id="e36a7-137">Dadurch kann für ein besserer Name und zum Hinzufügen von Mitgliedern Hilfsfunktion, die nicht auf die grundlegenden Typen vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="e36a7-137">This allows for a better name and for adding helper members that are not present on the base collection types.</span></span> <span data-ttu-id="e36a7-138">Dies gilt insbesondere für allgemeine APIs.</span><span class="sxs-lookup"><span data-stu-id="e36a7-138">This is especially applicable to high-level APIs.</span></span>  
  
 <span data-ttu-id="e36a7-139">**✓ CONSIDER** zurückgeben eine Unterklasse von `Collection<T>` oder `ReadOnlyCollection<T>` aus sehr häufig verwendeter Methoden und Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="e36a7-139">**✓ CONSIDER** returning a subclass of `Collection<T>` or `ReadOnlyCollection<T>` from very commonly used methods and properties.</span></span>  
  
 <span data-ttu-id="e36a7-140">Dies wird erleichtern Sie fügen Hilfsmethoden hinzu, oder ändern Sie die Sammlung-Implementierung in der Zukunft.</span><span class="sxs-lookup"><span data-stu-id="e36a7-140">This will make it possible for you to add helper methods or change the collection implementation in the future.</span></span>  
  
 <span data-ttu-id="e36a7-141">**✓ CONSIDER** eine schlüsselgebundene Sammlung verwenden, wenn die in der Auflistung gespeicherten Elemente einen eindeutigen Schlüssel aufweisen (Namen, IDs usw..).</span><span class="sxs-lookup"><span data-stu-id="e36a7-141">**✓ CONSIDER** using a keyed collection if the items stored in the collection have unique keys (names, IDs, etc.).</span></span> <span data-ttu-id="e36a7-142">Schlüsselgebundene Auflistungen sind Sammlungen, die indiziert werden können, indem Sie eine ganze Zahl und einen Schlüssel und sind in der Regel durch Vererben von implementiert `KeyedCollection<TKey,TItem>`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-142">Keyed collections are collections that can be indexed by both an integer and a key and are usually implemented by inheriting from `KeyedCollection<TKey,TItem>`.</span></span>  
  
 <span data-ttu-id="e36a7-143">Schlüsselgebundene Auflistungen in der Regel größeren Arbeitsspeicher belegen nur wenig Arbeitsspeicher haben und sollte nicht verwendet werden, wenn der Speicher-Overhead ergeben sich folgende Vorteile die Schlüssel überwiegt.</span><span class="sxs-lookup"><span data-stu-id="e36a7-143">Keyed collections usually have larger memory footprints and should not be used if the memory overhead outweighs the benefits of having the keys.</span></span>  
  
 <span data-ttu-id="e36a7-144">**X DO NOT** null-Werte zurück, aus der Auflistungseigenschaften oder Methoden Auflistungen zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="e36a7-144">**X DO NOT** return null values from collection properties or from methods returning collections.</span></span> <span data-ttu-id="e36a7-145">Eine leere Auflistung oder ein leeres Array stattdessen zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="e36a7-145">Return an empty collection or an empty array instead.</span></span>  
  
 <span data-ttu-id="e36a7-146">Als allgemeine Regel gilt, dass null und leere (0) elementauflistungen oder Arrays sein soll, die gleiche Weise behandelt.</span><span class="sxs-lookup"><span data-stu-id="e36a7-146">The general rule is that null and empty (0 item) collections or arrays should be treated the same.</span></span>  
  
### <a name="snapshots-versus-live-collections"></a><span data-ttu-id="e36a7-147">Momentaufnahmen im Vergleich zu Live Sammlungen</span><span class="sxs-lookup"><span data-stu-id="e36a7-147">Snapshots Versus Live Collections</span></span>  
 <span data-ttu-id="e36a7-148">Sammlungen, die einen Status zu einem Zeitpunkt darstellt, werden als Momentaufnahme Sammlungen bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="e36a7-148">Collections representing a state at some point in time are called snapshot collections.</span></span> <span data-ttu-id="e36a7-149">Beispielsweise wäre eine Auflistung von einer Datenbankabfrage zurückgegebenen Zeilen mit einer Momentaufnahme ab.</span><span class="sxs-lookup"><span data-stu-id="e36a7-149">For example, a collection containing rows returned from a database query would be a snapshot.</span></span> <span data-ttu-id="e36a7-150">Sammlungen, die immer den aktuellen Status darstellen sind live Sammlungen aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-150">Collections that always represent the current state are called live collections.</span></span> <span data-ttu-id="e36a7-151">Angenommen, eine Auflistung von `ComboBox` Elemente wird eine live-Auflistung.</span><span class="sxs-lookup"><span data-stu-id="e36a7-151">For example, a collection of `ComboBox` items is a live collection.</span></span>  
  
 <span data-ttu-id="e36a7-152">**X DO NOT** Momentaufnahme Auflistungen aus Eigenschaften zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="e36a7-152">**X DO NOT** return snapshot collections from properties.</span></span> <span data-ttu-id="e36a7-153">Eigenschaften sollten live Auflistungen zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="e36a7-153">Properties should return live collections.</span></span>  
  
 <span data-ttu-id="e36a7-154">Eigenschaftengetter sollte sehr einfache Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="e36a7-154">Property getters should be very lightweight operations.</span></span> <span data-ttu-id="e36a7-155">Zurückgeben einer Momentaufnahme erfordert, erstellen eine Kopie einer internen Auflistung in einem Vorgang O(n).</span><span class="sxs-lookup"><span data-stu-id="e36a7-155">Returning a snapshot requires creating a copy of an internal collection in an O(n) operation.</span></span>  
  
 <span data-ttu-id="e36a7-156">**✓ DO** verwenden Sie eine Momentaufnahme-Auflistung oder ein live `IEnumerable<T>` (oder dessen Untertyp) zur Darstellung von Auflistungen, die flüchtig sind (d. h., die können ändern, ohne die Auflistung explizit ändern).</span><span class="sxs-lookup"><span data-stu-id="e36a7-156">**✓ DO** use either a snapshot collection or a live `IEnumerable<T>` (or its subtype) to represent collections that are volatile (i.e., that can change without explicitly modifying the collection).</span></span>  
  
 <span data-ttu-id="e36a7-157">Im Allgemeinen sind alle Sammlungen, die eine freigegebene Ressource (z. B. Dateien in einem Verzeichnis) darstellt flüchtig.</span><span class="sxs-lookup"><span data-stu-id="e36a7-157">In general, all collections representing a shared resource (e.g., files in a directory) are volatile.</span></span> <span data-ttu-id="e36a7-158">Solche Sammlungen sind sehr schwer oder gar nicht als live-Auflistungen implementieren, es sei denn, die Implementierung einfach einen Vorwärtscursor Enumerator ist.</span><span class="sxs-lookup"><span data-stu-id="e36a7-158">Such collections are very difficult or impossible to implement as live collections unless the implementation is simply a forward-only enumerator.</span></span>  
  
## <a name="choosing-between-arrays-and-collections"></a><span data-ttu-id="e36a7-159">Auswählen zwischen Arrays und Sammlungen</span><span class="sxs-lookup"><span data-stu-id="e36a7-159">Choosing Between Arrays and Collections</span></span>  
 <span data-ttu-id="e36a7-160">**✓ DO** Arrays vorziehen Sammlungen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-160">**✓ DO** prefer collections over arrays.</span></span>  
  
 <span data-ttu-id="e36a7-161">Sammlungen bieten mehr Kontrolle über den Inhalt, können mit der Zeit weiterentwickelt und mehr verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="e36a7-161">Collections provide more control over contents, can evolve over time, and are more usable.</span></span> <span data-ttu-id="e36a7-162">Verwenden von Arrays für nur-Lese Szenarien wird darüber hinaus abgeraten, da die Kosten für das Array zu klonen hoch ist.</span><span class="sxs-lookup"><span data-stu-id="e36a7-162">In addition, using arrays for read-only scenarios is discouraged because the cost of cloning the array is prohibitive.</span></span> <span data-ttu-id="e36a7-163">Nutzbarkeit Studien haben gezeigt, dass einige Entwickler nachrichtenorientierten Auflistung basierende APIs verwenden können.</span><span class="sxs-lookup"><span data-stu-id="e36a7-163">Usability studies have shown that some developers feel more comfortable using collection-based APIs.</span></span>  
  
 <span data-ttu-id="e36a7-164">Jedoch wenn Sie Low-Level-APIs entwickeln, kann es besser für Szenarien mit Lese-/ Schreibzugriff Arrays zu verwenden sein.</span><span class="sxs-lookup"><span data-stu-id="e36a7-164">However, if you are developing low-level APIs, it might be better to use arrays for read-write scenarios.</span></span> <span data-ttu-id="e36a7-165">Arrays haben einen weniger Speicher beansprucht, was hilft, das Workingset zu reduzieren, und den Zugriff auf Elemente in einem Array ist schneller, da er von der Laufzeit optimiert ist.</span><span class="sxs-lookup"><span data-stu-id="e36a7-165">Arrays have a smaller memory footprint, which helps reduce the working set, and access to elements in an array is faster because it is optimized by the runtime.</span></span>  
  
 <span data-ttu-id="e36a7-166">**✓ CONSIDER** Verwenden von Arrays in Low-Level-APIs Speicherverbrauch minimieren und Maximieren der Leistung.</span><span class="sxs-lookup"><span data-stu-id="e36a7-166">**✓ CONSIDER** using arrays in low-level APIs to minimize memory consumption and maximize performance.</span></span>  
  
 <span data-ttu-id="e36a7-167">**✓ DO** Bytearrays anstelle von Sammlungen von Bytes verwenden.</span><span class="sxs-lookup"><span data-stu-id="e36a7-167">**✓ DO** use byte arrays instead of collections of bytes.</span></span>  
  
 <span data-ttu-id="e36a7-168">**X DO NOT** Arrays für Eigenschaften verwenden, wenn die Eigenschaft müsste ein neues Array (z. B. eine Kopie eines internen Arrays) jedes Mal zurückgeben, das Eigenschaften-Getter aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="e36a7-168">**X DO NOT** use arrays for properties if the property would have to return a new array (e.g., a copy of an internal array) every time the property getter is called.</span></span>  
  
## <a name="implementing-custom-collections"></a><span data-ttu-id="e36a7-169">Implementieren benutzerdefinierte Sammlungen</span><span class="sxs-lookup"><span data-stu-id="e36a7-169">Implementing Custom Collections</span></span>  
 <span data-ttu-id="e36a7-170">**✓ CONSIDER** erben von `Collection<T>`, `ReadOnlyCollection<T>`, oder `KeyedCollection<TKey,TItem>` beim Entwerfen der neuer Sammlungen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-170">**✓ CONSIDER** inheriting from `Collection<T>`, `ReadOnlyCollection<T>`, or `KeyedCollection<TKey,TItem>` when designing new collections.</span></span>  
  
 <span data-ttu-id="e36a7-171">**✓ DO** implementieren `IEnumerable<T>` beim Entwerfen der neuer Sammlungen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-171">**✓ DO** implement `IEnumerable<T>` when designing new collections.</span></span> <span data-ttu-id="e36a7-172">Implementieren Sie `ICollection<T>` oder sogar `IList<T>` , in denen es sinnvoll.</span><span class="sxs-lookup"><span data-stu-id="e36a7-172">Consider implementing `ICollection<T>` or even `IList<T>` where it makes sense.</span></span>  
  
 <span data-ttu-id="e36a7-173">Wenn Sie solche benutzerdefinierten Auflistung implementieren zu können, führen Sie das API-Muster, die durch die `Collection<T>` und `ReadOnlyCollection<T>` so getreu wie möglich.</span><span class="sxs-lookup"><span data-stu-id="e36a7-173">When implementing such custom collection, follow the API pattern established by `Collection<T>` and `ReadOnlyCollection<T>` as closely as possible.</span></span> <span data-ttu-id="e36a7-174">Das heißt, implementieren Sie das dieselben Member explizit zu, benennen Sie die Parameter aus, wie diese beiden Auflistungen werden usw. benennen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-174">That is, implement the same members explicitly, name the parameters like these two collections name them, and so on.</span></span>  
  
 <span data-ttu-id="e36a7-175">**✓ CONSIDER** Implementieren von Schnittstellen für nicht generische Auflistung (`IList` und `ICollection`), wenn die Auflistung häufig an APIs übergeben werden diese Schnittstellen als Eingabe annimmt.</span><span class="sxs-lookup"><span data-stu-id="e36a7-175">**✓ CONSIDER** implementing nongeneric collection interfaces (`IList` and `ICollection`) if the collection will often be passed to APIs taking these interfaces as input.</span></span>  
  
 <span data-ttu-id="e36a7-176">**X AVOID** Collection-Schnittstellen auf Typen mit komplexen APIs, die unabhängig vom stagingstatus des Konzepts einer Auflistung implementieren.</span><span class="sxs-lookup"><span data-stu-id="e36a7-176">**X AVOID** implementing collection interfaces on types with complex APIs unrelated to the concept of a collection.</span></span>  
  
 <span data-ttu-id="e36a7-177">**X DO NOT** erben von nicht generischen Basisklasse Auflistungen wie z. B. `CollectionBase`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-177">**X DO NOT** inherit from nongeneric base collections such as `CollectionBase`.</span></span> <span data-ttu-id="e36a7-178">Verwendung `Collection<T>`, `ReadOnlyCollection<T>`, und `KeyedCollection<TKey,TItem>` stattdessen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-178">Use `Collection<T>`, `ReadOnlyCollection<T>`, and `KeyedCollection<TKey,TItem>` instead.</span></span>  
  
### <a name="naming-custom-collections"></a><span data-ttu-id="e36a7-179">Benennen benutzerdefinierte Sammlungen</span><span class="sxs-lookup"><span data-stu-id="e36a7-179">Naming Custom Collections</span></span>  
 <span data-ttu-id="e36a7-180">Auflistungen (Typen implementiert, `IEnumerable`), die hauptsächlich aus zwei Gründen erstellt werden: (1), um eine neue Datenstruktur mit Vorgängen Struktur und häufig unterschiedlichen Leistungsmerkmalen als vorhandenen Datenstrukturen erstellen (z. B. <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>), und (2), um eine spezielle Auflistung für die Aufnahme von einer bestimmten Gruppe von Elementen zu erstellen (z. B. <xref:System.Collections.Specialized.StringCollection>).</span><span class="sxs-lookup"><span data-stu-id="e36a7-180">Collections (types that implement `IEnumerable`) are created mainly for two reasons: (1) to create a new data structure with structure-specific operations and often different performance characteristics than existing data structures (e.g.,  <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>), and (2) to create a specialized collection for holding a specific set of items (e.g.,  <xref:System.Collections.Specialized.StringCollection>).</span></span> <span data-ttu-id="e36a7-181">Datenstrukturen werden am häufigsten in die interne Implementierung der Anwendungen und Bibliotheken verwendet.</span><span class="sxs-lookup"><span data-stu-id="e36a7-181">Data structures are most often used in the internal implementation of applications and libraries.</span></span> <span data-ttu-id="e36a7-182">Spezialisierte Auflistungen werden hauptsächlich in APIs (als Eigenschaft und Parametertypen) verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="e36a7-182">Specialized collections are mainly to be exposed in APIs (as property and parameter types).</span></span>  
  
 <span data-ttu-id="e36a7-183">**✓ DO** verwenden Sie das Suffix "Wörterbuch" in Namen von Abstraktionen implementieren `IDictionary` oder `IDictionary<TKey,TValue>`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-183">**✓ DO** use the "Dictionary" suffix in names of abstractions implementing `IDictionary` or `IDictionary<TKey,TValue>`.</span></span>  
  
 <span data-ttu-id="e36a7-184">**✓ DO** verwenden Sie das Suffix "Collection" im Namen von Typen implementieren `IEnumerable` (oder eines seiner Nachfolger) und eine Liste von Elementen darstellt.</span><span class="sxs-lookup"><span data-stu-id="e36a7-184">**✓ DO** use the "Collection" suffix in names of types implementing `IEnumerable` (or any of its descendants) and representing a list of items.</span></span>  
  
 <span data-ttu-id="e36a7-185">**✓ DO** verwenden Sie den Namen der entsprechenden Struktur für benutzerdefinierte Datenstrukturen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-185">**✓ DO** use the appropriate data structure name for custom data structures.</span></span>  
  
 <span data-ttu-id="e36a7-186">**X AVOID** Suffixe Gleichzeichen bestimmte Implementierung, z. B. "LinkedList" oder "Hashtable", im Namen der Auflistung Abstraktionen verwenden.</span><span class="sxs-lookup"><span data-stu-id="e36a7-186">**X AVOID** using any suffixes implying particular implementation, such as "LinkedList" or "Hashtable," in names of collection abstractions.</span></span>  
  
 <span data-ttu-id="e36a7-187">**✓ CONSIDER** Sammlungsnamen mit dem Namen des Elementtyps voranstellen.</span><span class="sxs-lookup"><span data-stu-id="e36a7-187">**✓ CONSIDER** prefixing collection names with the name of the item type.</span></span> <span data-ttu-id="e36a7-188">Angenommen, eine Auflistung, die Speichern von Elementen des Typs `Address` (implementieren `IEnumerable<Address>`) heißen `AddressCollection`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-188">For example, a collection storing items of type `Address` (implementing `IEnumerable<Address>`) should be named `AddressCollection`.</span></span> <span data-ttu-id="e36a7-189">Wenn der Typ eine Schnittstelle ist, das "I" als Präfix des Elements Art ausgelassen werden kann.</span><span class="sxs-lookup"><span data-stu-id="e36a7-189">If the item type is an interface, the "I" prefix of the item type can be omitted.</span></span> <span data-ttu-id="e36a7-190">Daher wird eine Auflistung von <xref:System.IDisposable> Elemente können aufgerufen werden, `DisposableCollection`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-190">Thus, a collection of <xref:System.IDisposable> items can be called `DisposableCollection`.</span></span>  
  
 <span data-ttu-id="e36a7-191">**✓ CONSIDER** das Präfix "ReadOnly" in Namen von schreibgeschützten Auflistungen verwenden, wenn eine entsprechende beschreibbare Auflistung hinzugefügt werden kann oder bereits im Framework vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="e36a7-191">**✓ CONSIDER** using the "ReadOnly" prefix in names of read-only collections if a corresponding writeable collection might be added or already exists in the framework.</span></span>  
  
 <span data-ttu-id="e36a7-192">Angenommen, eine schreibgeschützte Auflistung von Zeichenfolgen aufgerufen werden `ReadOnlyStringCollection`.</span><span class="sxs-lookup"><span data-stu-id="e36a7-192">For example, a read-only collection of strings should be called `ReadOnlyStringCollection`.</span></span>  
  
 <span data-ttu-id="e36a7-193">*Teilen © 2005, 2009 Microsoft Corporation. Alle Rechte vorbehalten.*</span><span class="sxs-lookup"><span data-stu-id="e36a7-193">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>  
  
 <span data-ttu-id="e36a7-194">*Nachdruck mit Genehmigung von Pearson-Education, Inc. aus [Framework-Entwurfsrichtlinien: Konventionen, Idiome und Muster für Wiederverwendbaren .NET-Bibliotheken, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) Krzysztof Cwalina und Brad Abrams veröffentlicht 22 Oktober 2008 durch Addison Wesley Professional als Teil der Microsoft Windows-Entwicklung Reihe.*</span><span class="sxs-lookup"><span data-stu-id="e36a7-194">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e36a7-195">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e36a7-195">See Also</span></span>  
 [<span data-ttu-id="e36a7-196">Frameworkentwurfsrichtlinien</span><span class="sxs-lookup"><span data-stu-id="e36a7-196">Framework Design Guidelines</span></span>](../../../docs/standard/design-guidelines/index.md)  
 [<span data-ttu-id="e36a7-197">Verwendungsrichtlinien</span><span class="sxs-lookup"><span data-stu-id="e36a7-197">Usage Guidelines</span></span>](../../../docs/standard/design-guidelines/usage-guidelines.md)
