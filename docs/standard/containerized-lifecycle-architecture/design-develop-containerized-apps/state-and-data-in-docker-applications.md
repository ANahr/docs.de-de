---
title: Zustand und Daten in Docker-Anwendungen
description: Lebenszyklus von Docker-Containeranwendungen mit der Microsoft-Plattform und Tools
ms.prod: .net
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: a9f0750dbcffd051e9dae7d9f4f74b921e30af29
ms.sourcegitcommit: 2e8acae16ae802f2d6d04e3ce0a6dbf04e476513
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/18/2018
---
# <a name="state-and-data-in-docker-applications"></a><span data-ttu-id="205ad-103">Zustand und Daten in Docker-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="205ad-103">State and data in Docker applications</span></span>

<span data-ttu-id="205ad-104">Ein primitiver Typ, der Container ist Unveränderlichkeit.</span><span class="sxs-lookup"><span data-stu-id="205ad-104">A primitive of containers is immutability.</span></span> <span data-ttu-id="205ad-105">Im Vergleich zu einem virtuellen Computer nicht Container nicht mehr als einem häufiger eintreten angezeigt.</span><span class="sxs-lookup"><span data-stu-id="205ad-105">When compared to a VM, containers don't disappear as a common occurrence.</span></span> <span data-ttu-id="205ad-106">Ein virtuellen Computer möglicherweise nicht in verschiedenen Formen von inaktiver Prozesse überladene CPU oder einen Datenträger voll oder fehlerhaft gemeldet.</span><span class="sxs-lookup"><span data-stu-id="205ad-106">A VM might fail in various forms from dead processes, overloaded CPU, or a full or failed disk.</span></span> <span data-ttu-id="205ad-107">Noch, wir erwarten, dass des virtuelle Computers verfügbar sein und RAID-Laufwerke sind inzwischen, um sicherzustellen, dass das Laufwerk Fehlern Daten zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="205ad-107">Yet, we expect the VM to be available and RAID drives are commonplace to assure drive failures maintain data.</span></span>

<span data-ttu-id="205ad-108">Allerdings sind Container vorstellen, Instanzen von Prozessen.</span><span class="sxs-lookup"><span data-stu-id="205ad-108">However, containers are thought to be instances of processes.</span></span> <span data-ttu-id="205ad-109">Ein Prozess verwalten nicht permanenten Status.</span><span class="sxs-lookup"><span data-stu-id="205ad-109">A process doesn't maintain durable state.</span></span> <span data-ttu-id="205ad-110">Obwohl ein Container in seiner lokalen Speicher schreiben kann, entspräche vorausgesetzt, dass diese Instanz auf unbestimmte Zeit kann vorausgesetzt, dass eine einzelne Kopie Arbeitsspeicher dauerhaft ist.</span><span class="sxs-lookup"><span data-stu-id="205ad-110">Even though a container can write to its local storage, assuming that that instance will be around indefinitely would be equivalent to assuming a single-copy memory will be durable.</span></span> <span data-ttu-id="205ad-111">Sie sollten davon ausgehen, dass der Container, z. B. Prozesse, doppelt vorhanden sind, abgebrochen, oder, wenn mit einem Container Orchestrator verwaltet werden, sie verschoben werden können.</span><span class="sxs-lookup"><span data-stu-id="205ad-111">You should assume that containers, like processes, are duplicated, killed, or, when managed with a container orchestrator, they might be moved.</span></span>

<span data-ttu-id="205ad-112">Docker verwendet eine Funktion, die als bezeichnet ein *overlay Dateisystem* aktualisiert Sie, einen Kopie-bei-Schreibvorgang-Prozess zu implementieren, die alle speichert Informationen in das Stammdateisystem eines Containers, im Vergleich zu dem ursprungsabbild auf dem es basiert.</span><span class="sxs-lookup"><span data-stu-id="205ad-112">Docker uses a feature known as an *overlay file system* to implement a copy-on-write process that stores any updated information to the root file system of a container, compared to the original image on which it is based.</span></span> <span data-ttu-id="205ad-113">Diese Änderungen gehen verloren, wenn der Container anschließend aus dem System gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="205ad-113">These changes are lost if the container is subsequently deleted from the system.</span></span> <span data-ttu-id="205ad-114">Ein Container besitzt aus diesem Grund nicht persistenten Speicher standardmäßig.</span><span class="sxs-lookup"><span data-stu-id="205ad-114">A container, therefore, does not have persistent storage by default.</span></span> <span data-ttu-id="205ad-115">Obwohl es möglich, den Zustand eines Containers zu speichern, wäre Entwerfen eines Systems, um diese in Konflikt mit dem Prinzip der Container-Architektur.</span><span class="sxs-lookup"><span data-stu-id="205ad-115">Although it's possible to save the state of a container, designing a system around this would be in conflict with the principle of container architecture.</span></span>

<span data-ttu-id="205ad-116">Zum Verwalten von permanenten Daten in Docker-Anwendungen stehen allgemeine Lösungen zur Verfügung:</span><span class="sxs-lookup"><span data-stu-id="205ad-116">To manage persistent data in Docker applications, there are common solutions:</span></span>

-   <span data-ttu-id="205ad-117">[**Datenvolumes**](https://docs.docker.com/engine/tutorials/dockervolumes/) diese bereitstellen, auf dem Host wie soeben erwähnt.</span><span class="sxs-lookup"><span data-stu-id="205ad-117">[**Data volumes**](https://docs.docker.com/engine/tutorials/dockervolumes/) These mount to the host, as just noted.</span></span>

-   <span data-ttu-id="205ad-118">[**Datenvolumecontainer**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) diese freigegebenen Speicher in Containern, die mit einer externen Container, der durchlaufen kann bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="205ad-118">[**Data volume containers**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) These provide shared storage across containers, using an external container that can cycle.</span></span>

-   <span data-ttu-id="205ad-119">[**Volume-Plug-Ins**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) diese Volumes an Remotestandorten bereitstellen langfristige Dauerhaftigkeit bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="205ad-119">[**Volume Plugins**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) These mount volumes to remote locations, providing long-term persistence.</span></span>

-   <span data-ttu-id="205ad-120">**Remotedatenquellen** Beispiele umfassen SQL und NOSQL Datenbanken oder -Dienste wie Redis cache.</span><span class="sxs-lookup"><span data-stu-id="205ad-120">**Remote data sources** Examples include SQL and NO-SQL databases or cache services like Redis.</span></span>

-   <span data-ttu-id="205ad-121">[**Azure-Speicher**](https://docs.microsoft.com/azure/storage/) dadurch verteilbarer Geo-Plattform als Dienst (PaaS) Speicher, und bietet das beste von Containern als langfristige Dauerhaftigkeit.</span><span class="sxs-lookup"><span data-stu-id="205ad-121">[**Azure Storage**](https://docs.microsoft.com/azure/storage/) This provides geo distributable platform as a service (PaaS) storage, providing the best of containers as long-term persistence.</span></span>

<span data-ttu-id="205ad-122">Datenvolumes sind speziell vorgesehen, Verzeichnisse in einem oder mehreren Containern, die umgehen der [Union Dateisystem](https://docs.docker.com/v1.8/reference/glossary#union-file-system).</span><span class="sxs-lookup"><span data-stu-id="205ad-122">Data volumes are specially designated directories within one or more containers that bypass the [Union File System](https://docs.docker.com/v1.8/reference/glossary#union-file-system).</span></span> <span data-ttu-id="205ad-123">Datenvolumes dienen zum Verwalten von Daten, unabhängig von den Lebenszyklus des Containers.</span><span class="sxs-lookup"><span data-stu-id="205ad-123">Data volumes are designed to maintain data, independent of the container's life cycle.</span></span> <span data-ttu-id="205ad-124">Docker löscht daher nie automatisch Volumes, wenn Sie einen Container zu entfernen und auch nicht werden "Sammeln von Garbage"-Volumes, die von einem Container nicht mehr verwiesen werden.</span><span class="sxs-lookup"><span data-stu-id="205ad-124">Docker therefore never automatically deletes volumes when you remove a container, nor will it "garbage collect" volumes that are no longer referenced by a container.</span></span> <span data-ttu-id="205ad-125">Das Hostbetriebssystem können durchsuchen und bearbeiten die Daten in beliebigen Volumes frei, dies ist nur ein weiterer Grund für die Datenvolumes nur selten zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="205ad-125">The host operating system can browse and edit the data in any volume freely, which is just another reason to use data volumes sparingly.</span></span>

<span data-ttu-id="205ad-126">Ein [Volume Datencontainer](https://docs.docker.com/v1.8/userguide/dockervolumes/) stellt eine Verbesserung gegenüber regulären von Datenvolumes.</span><span class="sxs-lookup"><span data-stu-id="205ad-126">A [data volume container](https://docs.docker.com/v1.8/userguide/dockervolumes/) is an improvement over regular data volumes.</span></span> <span data-ttu-id="205ad-127">Es ist im Wesentlichen eine ruhende Container, der eine oder mehrere Datenvolumes darin erstellt werden, (wie zuvor beschrieben) enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="205ad-127">It is essentially a dormant container that has one or more data volumes created within it (as described earlier).</span></span> <span data-ttu-id="205ad-128">Der Datenvolumecontainer bietet Zugriff auf Container von einem zentralen Bereitstellungspunkt aus.</span><span class="sxs-lookup"><span data-stu-id="205ad-128">The data volume container provides access to containers from a central mount point.</span></span> <span data-ttu-id="205ad-129">Der Vorteil dieser Methode des Zugriffs ist, dass sie den Speicherort der ursprünglichen Daten, machen dem Datencontainer logischen Bereitstellungspunkt abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="205ad-129">The benefit of this method of access is that it abstracts the location of the original data, making the data container a logical mount point.</span></span> <span data-ttu-id="205ad-130">Darüber hinaus können den Zugriff auf die Container-Datenvolumen erstellt und zerstört werden, während die Daten in einem dedizierten Container persistent bleiben "Application"-Container.</span><span class="sxs-lookup"><span data-stu-id="205ad-130">It also allows "application" containers accessing the data container volumes to be created and destroyed while keeping the data persistent in a dedicated container.</span></span>

<span data-ttu-id="205ad-131">Abbildung 4-5 zeigt, dass es sich bei regulären Docker Volumes auf Speicher aus den Containern selbst, aber innerhalb der physischen Host-Server-VM-Grenzen platziert werden können.</span><span class="sxs-lookup"><span data-stu-id="205ad-131">Figure 4-5 shows that regular Docker volumes can be placed on storage out of the containers themselves but within the host server/VM physical boundaries.</span></span> <span data-ttu-id="205ad-132">*Docker Volumes nicht die Möglichkeit, ein Volume aus einem Host/Server-VM in eine andere verwendet haben*.</span><span class="sxs-lookup"><span data-stu-id="205ad-132">*Docker volumes don't have the ability to use a volume from one host server/VM to another*.</span></span>

![](./media/image5.png)

<span data-ttu-id="205ad-133">Abbildung 4-5: Datenvolumes und externe Datenquellen für Container apps/Container</span><span class="sxs-lookup"><span data-stu-id="205ad-133">Figure 4-5: Data volumes and external data sources for containers apps/containers</span></span>

<span data-ttu-id="205ad-134">Aufgrund von nicht zum Verwalten von Daten, die gemeinsam von Containern, die auf separaten physischen Hosts ausgeführt werden können, wird empfohlen, dass keine Volumes für Geschäftsdaten zu verwenden, sofern der Docker-Host einer festen/VM, da bei Verwendung von Docker-Containern in einer Orchestrator Container werden erwartet, das Verschieben aus einem auf einen anderen Host, abhängig von den Optimierungen des Clusters ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="205ad-134">Due to the inability to manage data shared between containers that run on separate physical hosts, it is recommended that you not use volumes for business data unless the Docker host is a fixed host/VM, because when using Docker containers in an orchestrator, containers are expected to be moved from one to another host, depending on the optimizations to be performed by the cluster.</span></span>

<span data-ttu-id="205ad-135">Daher sind reguläre Datenvolumes einen guten Mechanismus zum Arbeiten mit Ablaufverfolgungsdateien, temporären Dateien oder alle ähnlichen Konzept, das die Datenkonsistenz Business nicht beeinflusst wird, wenn, oder wenn der Container auf mehreren Hosts verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="205ad-135">Therefore, regular data volumes are a good mechanism to work with trace files, temporal files, or any similar concept that won't affect the business data consistency if or when your containers are moved across multiple hosts.</span></span>

<span data-ttu-id="205ad-136">Volume-Plug-ins wie [Flocker](https://clusterhq.com/flocker/) Daten auf allen Hosts in einem Cluster bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="205ad-136">Volume plug-ins like [Flocker](https://clusterhq.com/flocker/) provide data across all hosts in a cluster.</span></span> <span data-ttu-id="205ad-137">Obwohl nicht alle Volume-Plug-ins gleichermaßen erstellt werden, bieten die Volume-Plug-ins in der Regel externalisierte zuverlässige persistenten Speicher in den Containern unveränderlichen.</span><span class="sxs-lookup"><span data-stu-id="205ad-137">Although not all volume plug-ins are created equally, volume plug-ins typically provide externalized persistent reliable storage from the immutable containers.</span></span>

<span data-ttu-id="205ad-138">Von Remotedatenquellen und wie SQL-Datenbank, DocumentDB oder eine remote-Cache wie Redis-Caches wäre identisch entwickeln, ohne den Container.</span><span class="sxs-lookup"><span data-stu-id="205ad-138">Remote data sources and caches like SQL Database, DocumentDB, or a remote cache like Redis would be the same as developing without containers.</span></span> <span data-ttu-id="205ad-139">Dies ist einer der bevorzugten und bewährten, Methoden zum Speichern von Geschäftsdaten-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="205ad-139">This is one of the preferred, and proven, ways to store business application data.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="205ad-140">[Vorherigen] (monolithischen applications.md) [weiter] (Soa-applications.md)</span><span class="sxs-lookup"><span data-stu-id="205ad-140">[Previous] (monolithic-applications.md) [Next] (soa-applications.md)</span></span>
