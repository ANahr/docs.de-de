---
title: "Identifizieren von Domänenmodell Grenzen für jeden microservice"
description: ".NET Microservices Architektur für Datenvolumes .NET-Anwendungen | Identifizieren von Domänenmodell Grenzen für jeden microservice"
keywords: Docker, Microservices, ASP.NET, Container
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: 6fef11e5718706701abb29149c4c4a23ba39bde0
ms.sourcegitcommit: c2e216692ef7576a213ae16af2377cd98d1a67fa
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/22/2017
---
# <a name="identify-domain-model-boundaries-for-each-microservice"></a><span data-ttu-id="8d594-104">Identifizieren von Domänenmodell Grenzen für jeden microservice</span><span class="sxs-lookup"><span data-stu-id="8d594-104">Identify domain-model boundaries for each microservice</span></span>

<span data-ttu-id="8d594-105">Das Ziel beim Modellgrenzen und die Größe jedes Microservice identifizieren ist nicht um auf die unterste Trennung möglich, obwohl Sie in Richtung kleine Microservices möglichst in der Regel sollten.</span><span class="sxs-lookup"><span data-stu-id="8d594-105">The goal when identifying model boundaries and size for each microservice is not to get to the most granular separation possible, although you should tend toward small microservices if possible.</span></span> <span data-ttu-id="8d594-106">Stattdessen sollte der Erreichung Ihres Ziels, um die sinnvolle Trennung durch MDX Ihr spartenwissen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="8d594-106">Instead, your goal should be to get to the most meaningful separation guided by your domain knowledge.</span></span> <span data-ttu-id="8d594-107">Der Schwerpunkt liegt nicht auf die Größe, sondern auf Unternehmensfunktionen.</span><span class="sxs-lookup"><span data-stu-id="8d594-107">The emphasis is not on the size, but instead on business capabilities.</span></span> <span data-ttu-id="8d594-108">Darüber hinaus besteht deaktivieren Kohäsion für einen bestimmten Bereich der Anwendung basierend auf einer hohen Anzahl von Abhängigkeiten erforderlich ist, gibt an, dass die Notwendigkeit für eine einzelnes Microservice zu.</span><span class="sxs-lookup"><span data-stu-id="8d594-108">In addition, if there is clear cohesion needed for a certain area of the application based on a high number of dependencies, that indicates the need for a single microservice, too.</span></span> <span data-ttu-id="8d594-109">Kohäsion ist eine Möglichkeit, wie Sie teilen oder Gruppe zusammen Microservices zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="8d594-109">Cohesion is a way to identify how to break apart or group together microservices.</span></span> <span data-ttu-id="8d594-110">Während Sie weitere Informationen über die Domäne erhalten, sollten Sie die Größe Ihrer Microservice letztlich iterativ anpassen.</span><span class="sxs-lookup"><span data-stu-id="8d594-110">Ultimately, while you gain more knowledge about the domain, you should adapt the size of your microservice, iteratively.</span></span> <span data-ttu-id="8d594-111">Suchen die richtige Größe ist nicht prozessspezifisch One-Shot.</span><span class="sxs-lookup"><span data-stu-id="8d594-111">Finding the right size is not a one-shot process.</span></span>

<span data-ttu-id="8d594-112">[SAM Newman](http://samnewman.io/), eine anerkannten Promoter Microservices und der Autor des Buchs [Gebäude Microservices](http://samnewman.io/books/building_microservices/), werden hervorgehoben, die basierend auf dem begrenzt, die den Kontext (BC)-Muster (Bestandteil des Microservices zu entwickeln Domain driven Design), wie zuvor eingeführt.</span><span class="sxs-lookup"><span data-stu-id="8d594-112">[Sam Newman](http://samnewman.io/), a recognized promoter of microservices and author of the book [Building Microservices](http://samnewman.io/books/building_microservices/), highlights that you should design your microservices based on the Bounded Context (BC) pattern (part of domain-driven design), as introduced earlier.</span></span> <span data-ttu-id="8d594-113">In manchen Fällen konnte eine BC mehrere physische Dienste, aber nicht umgekehrt zusammengesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="8d594-113">Sometimes, a BC could be composed of several physical services, but not vice versa.</span></span>

<span data-ttu-id="8d594-114">Ein Domänenmodell mit einer bestimmten Domänenentitäten innerhalb einer konkreten BC gilt oder Microservice.</span><span class="sxs-lookup"><span data-stu-id="8d594-114">A domain model with specific domain entities applies within a concrete BC or microservice.</span></span> <span data-ttu-id="8d594-115">Ein BC begrenzt die Anwendbarkeit ein Domänenmodell, und erhalten Entwickler Teammitglieder einen klare und freigegebenen Überblick über was zusammenhängenden sein müssen und was unabhängig entwickelt werden können.</span><span class="sxs-lookup"><span data-stu-id="8d594-115">A BC delimits the applicability of a domain model and gives developer team members a clear and shared understanding of what must be cohesive and what can be developed independently.</span></span> <span data-ttu-id="8d594-116">Hierbei handelt es sich um dasselbe Ergebnis für Microservices.</span><span class="sxs-lookup"><span data-stu-id="8d594-116">These are the same goals for microservices.</span></span>

<span data-ttu-id="8d594-117">Ein weiteres Tool, mit denen Ihre Entwurfsoption informiert ist [Conways Gesetz](https://en.wikipedia.org/wiki/Conway%27s_law), die besagt, dass eine Anwendung die sozialen Grenzen der Organisation widerspiegeln, die sie erstellt.</span><span class="sxs-lookup"><span data-stu-id="8d594-117">Another tool that informs your design choice is [Conway’s law](https://en.wikipedia.org/wiki/Conway%27s_law), which states that an application will reflect the social boundaries of the organization that produced it.</span></span> <span data-ttu-id="8d594-118">Aber in einigen Fällen ist das Gegenteil "true": das Unternehmen wird gebildet, indem die Software.</span><span class="sxs-lookup"><span data-stu-id="8d594-118">But sometimes the opposite is true—the company’s organization is formed by the software.</span></span> <span data-ttu-id="8d594-119">Müssen möglicherweise Conways Gesetz umkehren, und erstellen Sie die Grenzen wie gewünscht des Unternehmens organisiert werden, in Richtung Business Process consulting leaning.</span><span class="sxs-lookup"><span data-stu-id="8d594-119">You might need to reverse Conway’s law and build the boundaries the way you want the company to be organized, leaning toward business process consulting.</span></span>

<span data-ttu-id="8d594-120">Um gebundene Kontexten zu ermitteln, eine DDD-Muster, die dafür verwendet werden kann, ist die [Kontext zuordnen Muster](https://www.infoq.com/articles/ddd-contextmapping).</span><span class="sxs-lookup"><span data-stu-id="8d594-120">In order to identify bounded contexts, a DDD pattern that can be used for this is the [Context Mapping pattern](https://www.infoq.com/articles/ddd-contextmapping).</span></span> <span data-ttu-id="8d594-121">Beim Zuordnen des Kontexts zu die verschiedenen Kontexten in der Anwendung und deren Grenzen identifizieren.</span><span class="sxs-lookup"><span data-stu-id="8d594-121">With Context Mapping, you identify the various contexts in the application and their boundaries.</span></span> <span data-ttu-id="8d594-122">Es ist üblich, z. B. über einen anderen Kontext und die Grenze für jedes Subsystem kleine verfügen.</span><span class="sxs-lookup"><span data-stu-id="8d594-122">It is common to have a different context and boundary for each small subsystem, for instance.</span></span> <span data-ttu-id="8d594-123">Die Kontext-Karte ist eine Möglichkeit zum Definieren und explizite diese Grenzen zwischen Domänen.</span><span class="sxs-lookup"><span data-stu-id="8d594-123">The Context Map is a way to define and make explicit those boundaries between domains.</span></span> <span data-ttu-id="8d594-124">Ein BC ist autonome und enthält die Details einer einzelnen Domäne – Details wie die Domänenentitäten – und Integration Verträge mit anderen BCs definiert.</span><span class="sxs-lookup"><span data-stu-id="8d594-124">A BC is autonomous and includes the details of a single domain—details like the domain entities—and defines integration contracts with other BCs.</span></span> <span data-ttu-id="8d594-125">Dies ist vergleichbar mit der Definition einer Microservice: autonome ist, bestimmte-Funktion implementiert und es muss Schnittstellen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="8d594-125">This is similar to the definition of a microservice: it is autonomous, it implements certain domain capability, and it must provide interfaces.</span></span> <span data-ttu-id="8d594-126">Deshalb wird Kontext zuordnen und das Muster, begrenzt, die den Kontext gute Ansätze zum Identifizieren der Domäne Modellgrenzen von Ihrem Microservices sind.</span><span class="sxs-lookup"><span data-stu-id="8d594-126">This is why Context Mapping and the Bounded Context pattern are good approaches for identifying the domain model boundaries of your microservices.</span></span>

<span data-ttu-id="8d594-127">Bei eine große Anwendung zu entwerfen, sehen Sie wie seine Domänenmodell fragmentiert werden kann – ein Experte Domäne aus der Domäne Katalog benennt Entitäten unterschiedlich in den Katalog und Inventardaten Domänen als eine Protokollversand Domänenexperten, für die Instanz.</span><span class="sxs-lookup"><span data-stu-id="8d594-127">When designing a large application, you will see how its domain model can be fragmented — a domain expert from the catalog domain will name entities differently in the catalog and inventory domains than a shipping domain expert, for instance.</span></span> <span data-ttu-id="8d594-128">Oder der Entität "Domain" Benutzer möglicherweise verschiedene in Größe und Anzahl der Attribute, beim Umgang mit einem CRM-Experten, der alle Details über die Kunden als Experte Domäne Sortierung zu speichern, die Teil der Daten über den Kunden nur benötigt möchte.</span><span class="sxs-lookup"><span data-stu-id="8d594-128">Or the user domain entity might be different in size and number of attributes when dealing with a CRM expert who wants to store every detail about the customer than for an ordering domain expert who just needs partial data about the customer.</span></span> <span data-ttu-id="8d594-129">Es ist sehr schwierig ist, um alle domänenbegriffe für alle Domänen, die im Zusammenhang mit einer großen Anwendung zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="8d594-129">It is very hard to disambiguate all domain terms across all the domains related to a large application.</span></span> <span data-ttu-id="8d594-130">Aber sehr wichtig ist, dass Sie nicht versuchen, die Begriffe zu vereinheitlichen. Stattdessen akzeptieren Sie die Unterschiede und die Funktionsvielfalt von jeder Domäne bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="8d594-130">But the most important thing is that you should not try to unify the terms; instead, accept the differences and richness provided by each domain.</span></span> <span data-ttu-id="8d594-131">Wenn Sie versuchen, eine einheitliche Datenbank für die gesamte Anwendung haben, wird Versuche zur ein einheitliches Vokabular werden umständliche und nicht an ein beliebiges von mehreren Domänenexperten rechten sound.</span><span class="sxs-lookup"><span data-stu-id="8d594-131">If you try to have a unified database for the whole application, attempts at a unified vocabulary will be awkward and will not sound right to any of the multiple domain experts.</span></span> <span data-ttu-id="8d594-132">Aus diesem Grund hilft BCs (implementiert als Microservices) Ihnen, um zu verdeutlichen, dort können Sie bestimmte domänenbegriffe verwenden und vorgesehenden Teilen des Systems und zusätzliche BCs mit unterschiedlichen Domänen erstellen.</span><span class="sxs-lookup"><span data-stu-id="8d594-132">Therefore, BCs (implemented as microservices) will help you to clarify where you can use certain domain terms and where you will need to split the system and create additional BCs with different domains.</span></span>

<span data-ttu-id="8d594-133">Sie wissen, dass Sie die richtigen Grenzen und die Größe der einzelnen BC und die zugehörigen Domänenmodell Wenn Ihnen einige starke Beziehungen zwischen Domänenmodelle, und Sie nicht in der Regel müssen Informationen aus mehreren Domänenmodelle Zusammenführen beim normalen Anwendung ausführen DDL-Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="8d594-133">You will know that you got the right boundaries and sizes of each BC and domain model if you have few strong relationships between domain models, and you do not usually need to merge information from multiple domain models when performing typical application operations.</span></span>

<span data-ttu-id="8d594-134">Vielleicht die bestmögliche Antwort auf die Frage, wie groß ein Domänenmodell für jede Microservice liegen lautet wie folgt: sie sollten eine autonome BC aufweisen als isolierte wie möglich, die Ihnen ermöglicht, ohne sich ständig in anderen Kontexten (andere wechseln arbeiten der Microservice-Modelle).</span><span class="sxs-lookup"><span data-stu-id="8d594-134">Perhaps the best answer to the question of how big a domain model for each microservice should be is the following: it should have an autonomous BC, as isolated as possible, that enables you to work without having to constantly switch to other contexts (other microservice’s models).</span></span> <span data-ttu-id="8d594-135">In Abbildung 4 bis 10 können Sie sehen, wie mehrere Microservices (mehrere BCs) jeder haben ihre eigenen Modell- und wie die Entitäten definiert werden können, je nach den spezifischen Anforderungen für jeden identifizierten Domänen in der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="8d594-135">In Figure 4-10 you can see how multiple microservices (multiple BCs) each have their own model and how their entities can be defined, depending on the specific requirements for each of the identified domains in your application.</span></span>

![](./media/image10.png)

<span data-ttu-id="8d594-136">**Abbildung 4 – 10**.</span><span class="sxs-lookup"><span data-stu-id="8d594-136">**Figure 4-10**.</span></span> <span data-ttu-id="8d594-137">Identifizieren von Entitäten und Microservice Modellgrenzen</span><span class="sxs-lookup"><span data-stu-id="8d594-137">Identifying entities and microservice model boundaries</span></span>

<span data-ttu-id="8d594-138">Abbildung 4 – 10 wird ein Beispielszenario, die im Zusammenhang mit einer online-Konferenz-Verwaltungssystem veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="8d594-138">Figure 4-10 illustrates a sample scenario related to an online conference management system.</span></span> <span data-ttu-id="8d594-139">Sie haben mehrere BCs identifiziert, die als Microservices, basierend auf Domänen, die für Sie Domänenexperten definiert implementiert werden konnte.</span><span class="sxs-lookup"><span data-stu-id="8d594-139">You have identified several BCs that could be implemented as microservices, based on domains that domain experts defined for you.</span></span> <span data-ttu-id="8d594-140">Wie Sie sehen können, sind Entitäten, die nur in einem einzelnen Microservice Modell wie Zahlungen in die Zahlung Microservice vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="8d594-140">As you can see, there are entities that are present just in a single microservice model, like Payments in the Payment microservice.</span></span> <span data-ttu-id="8d594-141">Diese werden einfach zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="8d594-141">Those will be easy to implement.</span></span>

<span data-ttu-id="8d594-142">Jedoch, müssen Sie möglicherweise auch Entitäten, die eine andere Form, aber die gleiche Identität von mehreren Domänenmodelle aus mehreren Microservices gemeinsam genutzt.</span><span class="sxs-lookup"><span data-stu-id="8d594-142">However, you might also have entities that have a different shape but share the same identity across the multiple domain models from the multiple microservices.</span></span> <span data-ttu-id="8d594-143">Beispielsweise wird die Benutzerentität in der Verwaltung von Konferenzen Microservice identifiziert.</span><span class="sxs-lookup"><span data-stu-id="8d594-143">For example, the User entity is identified in the Conferences Management microservice.</span></span> <span data-ttu-id="8d594-144">Demselben Benutzer, mit der gleichen Identität ist der Käufer in der Reihenfolge Microservice Namens oder der mit dem Namen des Zahlungspflichtigen in die Zahlung Microservice und sogar named ein Kunde in der Customer Service Microservice.</span><span class="sxs-lookup"><span data-stu-id="8d594-144">That same user, with the same identity, is the one named Buyers in the Ordering microservice, or the one named Payer in the Payment microservice, and even the one named Customer in the Customer Service microservice.</span></span> <span data-ttu-id="8d594-145">Dies liegt daran, je nachdem, auf die [ubiquitäre Sprache](https://martinfowler.com/bliki/UbiquitousLanguage.html) , dass jede Domäne Expert verwendet, kann ein Benutzer möglicherweise eine andere Perspektive auch mit verschiedenen Attributen.</span><span class="sxs-lookup"><span data-stu-id="8d594-145">This is because, depending on the [ubiquitous language](https://martinfowler.com/bliki/UbiquitousLanguage.html) that each domain expert is using, a user might have a different perspective even with different attributes.</span></span> <span data-ttu-id="8d594-146">Die Benutzerentität im Modell Microservice Namen Konferenzen Management möglicherweise die meisten ihrer persönlichen Daten Attribute.</span><span class="sxs-lookup"><span data-stu-id="8d594-146">The user entity in the microservice model named Conferences Management might have most of its personal data attributes.</span></span> <span data-ttu-id="8d594-147">Demselben Benutzer in der Form von zahlenden in die Microservice Zahlung oder in der Form des Kunden in den Microservice Kundendienst möglicherweise jedoch nicht dieselbe Liste von Attributen.</span><span class="sxs-lookup"><span data-stu-id="8d594-147">However, that same user in the shape of Payer in the microservice Payment or in the shape of Customer in the microservice Customer Service might not need the same list of attributes.</span></span>

<span data-ttu-id="8d594-148">Ein ähnlichen Ansatz wird in Abbildung 4 – 11 veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="8d594-148">A similar approach is illustrated in Figure 4-11.</span></span>

![](./media/image11.png)

<span data-ttu-id="8d594-149">**Abbildung 4 – 11**.</span><span class="sxs-lookup"><span data-stu-id="8d594-149">**Figure 4-11**.</span></span> <span data-ttu-id="8d594-150">Zerlegen von herkömmlichen Datenmodelle in mehrere Domänenmodelle</span><span class="sxs-lookup"><span data-stu-id="8d594-150">Decomposing traditional data models into multiple domain models</span></span>

<span data-ttu-id="8d594-151">Sie können sehen, wie der Benutzer in der Konferenzen Verwaltungsmodell-Microservice wie die Benutzer-Entität vorhanden ist, und ist auch in der Form der Käuferentität in der Microservice Preise mit anderen Attributen oder Details zum Benutzer, wenn es tatsächlich ein Käufer ist vorhanden.</span><span class="sxs-lookup"><span data-stu-id="8d594-151">You can see how the user is present in the Conferences Management microservice model as the User entity and is also present in the form of the Buyer entity in the Pricing microservice, with alternate attributes or details about the user when it is actually a buyer.</span></span> <span data-ttu-id="8d594-152">Jede Microservice oder BC möglicherweise nicht alle Daten, die im Zusammenhang mit der eine Benutzerentität, nur einen Teil davon je nach dem zu lösenden Problems oder des Kontexts.</span><span class="sxs-lookup"><span data-stu-id="8d594-152">Each microservice or BC might not need all the data related to a User entity, just part of it, depending on the problem to solve or the context.</span></span> <span data-ttu-id="8d594-153">Für die Instanz, in der die Preise Microservice Modell benötigen nicht Sie die Adresse oder die ID des Benutzers, der nur-ID (als Identität) und der Status, die Auswirkungen auf Rabatte haben wird, wenn die Arbeitsplätze pro Käufer Preise.</span><span class="sxs-lookup"><span data-stu-id="8d594-153">For instance, in the Pricing microservice model, you do not need the address or the ID of the user, just ID (as identity) and Status, which will have an impact on discounts when pricing the seats per buyer.</span></span>

<span data-ttu-id="8d594-154">Die Entität "Arbeitsplatz" hat die gleiche Namen aber unterschiedlichen Attribute in jeder Domänenmodell.</span><span class="sxs-lookup"><span data-stu-id="8d594-154">The Seat entity has the same name but different attributes in each domain model.</span></span> <span data-ttu-id="8d594-155">Allerdings Arbeitsplatz Identität basierend auf der gleichen ID gemeinsam wie mit Benutzer- und Käufer geschieht.</span><span class="sxs-lookup"><span data-stu-id="8d594-155">However, Seat shares identity based on the same ID, as happens with User and Buyer.</span></span>

<span data-ttu-id="8d594-156">Grundsätzlich ist ein freigegebener Konzept eines Benutzers, der in mehreren Diensten Domänen (Domänen) vorhanden ist das Freigeben die Identität des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="8d594-156">Basically, there is a shared concept of a user that exists in multiple services (domains), which all share the identity of that user.</span></span> <span data-ttu-id="8d594-157">In jedem Domänenmodell möglicherweise zusätzliche oder andere Details zur Benutzerentität aber.</span><span class="sxs-lookup"><span data-stu-id="8d594-157">But in each domain model there might be additional or different details about the user entity.</span></span> <span data-ttu-id="8d594-158">Daher muss es eine Möglichkeit, eine Benutzerentität aus einer Domäne (Microservice) zu einem anderen zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="8d594-158">Therefore, there needs to be a way to map a user entity from one domain (microservice) to another.</span></span>

<span data-ttu-id="8d594-159">Es gibt mehrere Vorteile zur gemeinsamen Nutzung nicht den gleichen Benutzerentität mit derselben Anzahl von Attributen über Domänengrenzen hinweg.</span><span class="sxs-lookup"><span data-stu-id="8d594-159">There are several benefits to not sharing the same user entity with the same number of attributes across domains.</span></span> <span data-ttu-id="8d594-160">Ein Vorteil ist Duplizierung zu reduzieren, sodass Microservice Modelle keine Daten enthalten, die sie nicht benötigen.</span><span class="sxs-lookup"><span data-stu-id="8d594-160">One benefit is to reduce duplication, so that microservice models do not have any data that they do not need.</span></span> <span data-ttu-id="8d594-161">Ein weiterer Vorteil ist ein Hauptschlüssel Microservice vorliegt, der eine bestimmte Art von Daten pro Entität besitzt, damit Updates und Abfragen für diese Art von Daten nur von diesem Microservice gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="8d594-161">Another benefit is having a master microservice that owns a certain type of data per entity so that updates and queries for that type of data are driven only by that microservice.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="8d594-162">[Vorherigen] (distributed-Daten-management.md) [weiter] (Direct-client-to-microservice-communication-versus-the-api-gateway-pattern.md)</span><span class="sxs-lookup"><span data-stu-id="8d594-162">[Previous] (distributed-data-management.md) [Next] (direct-client-to-microservice-communication-versus-the-api-gateway-pattern.md)</span></span>
