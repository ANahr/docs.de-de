---
title: Direkte Kommunikation von Client-zu-Microservice im Vergleich zu den API-Gateway-Muster
description: ".NET Microservices Architektur für Datenvolumes .NET-Anwendungen | Direkte Kommunikation von Client-zu-Microservice im Vergleich zu den API-Gateway-Muster"
keywords: Docker, Microservices, ASP.NET, Container, API-Gateway
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 10/18/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: c8227ec47888c7cf361f34c4c85a09c0666f886e
ms.sourcegitcommit: c2e216692ef7576a213ae16af2377cd98d1a67fa
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/22/2017
---
# <a name="direct-client-to-microservice-communication-versus-the-api-gateway-pattern"></a><span data-ttu-id="2e4e5-104">Direkte Kommunikation von Client-zu-Microservice im Vergleich zu den API-Gateway-Muster</span><span class="sxs-lookup"><span data-stu-id="2e4e5-104">Direct client-to-microservice communication versus the API Gateway pattern</span></span>

<span data-ttu-id="2e4e5-105">In einer Architektur Microservices stellt jeder Microservice einen Satz (in der Regel) Fine‑grained Endpunkte bereit.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-105">In a microservices architecture, each microservice exposes a set of (typically) fine‑grained endpoints.</span></span> <span data-ttu-id="2e4e5-106">Dies kann die Kommunikation Client‑to‑microservice auswirken, wie in diesem Abschnitt erläutert.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-106">This fact can impact the client‑to‑microservice communication, as explained in this section.</span></span>

## <a name="direct-client-to-microservice-communication"></a><span data-ttu-id="2e4e5-107">Direkte Kommunikation von Client-zu-microservice</span><span class="sxs-lookup"><span data-stu-id="2e4e5-107">Direct client-to-microservice communication</span></span>

<span data-ttu-id="2e4e5-108">Ein möglicher Ansatz ist eine direkte Kommunikation von Client-Microservice-Architektur verwenden.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-108">A possible approach is to use a direct client-to-microservice communication architecture.</span></span> <span data-ttu-id="2e4e5-109">Bei diesem Ansatz kann eine Client-app Anforderungen direkt an einige der Microservices vornehmen, wie in Abbildung 4-12 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-109">In this approach, a client app can make requests directly to some of the microservices, as shown in Figure 4-12.</span></span>

![](./media/image12.png)

<span data-ttu-id="2e4e5-110">**Abbildung 4-12**.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-110">**Figure 4-12**.</span></span> <span data-ttu-id="2e4e5-111">Verwenden eine direkte Kommunikation von Client-Microservice-Architektur</span><span class="sxs-lookup"><span data-stu-id="2e4e5-111">Using a direct client-to-microservice communication architecture</span></span>

<span data-ttu-id="2e4e5-112">Bei diesem Ansatz.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-112">In this approach.</span></span> <span data-ttu-id="2e4e5-113">Jede Microservice verfügt über einen öffentlichen Endpunkt in einigen Fällen mit einem anderen TCP-Port für jeden Microservice.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-113">each microservice has a public endpoint, sometimes with a different TCP port for each microservice.</span></span> <span data-ttu-id="2e4e5-114">Ein Beispiel für eine URL für einen bestimmten Dienst ist möglicherweise die folgende URL in Azure:</span><span class="sxs-lookup"><span data-stu-id="2e4e5-114">An example of a URL for a particular service could be the following URL in Azure:</span></span>

<span data-ttu-id="2e4e5-115"><Http://eshoponcontainers.westus.cloudapp.Azure.com:88 /></span><span class="sxs-lookup"><span data-stu-id="2e4e5-115"><http://eshoponcontainers.westus.cloudapp.azure.com:88/></span></span>

<span data-ttu-id="2e4e5-116">In einer produktiven Umgebung basierend auf einem Cluster, den URL der Load Balancer verwendet wird, in dem Cluster zugeordnet würde die wiederum die Anforderungen auf die Microservices verteilt.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-116">In a production environment based on a cluster, that URL would map to the load balancer used in the cluster, which in turn distributes the requests across the microservices.</span></span> <span data-ttu-id="2e4e5-117">In produktionsumgebungen, haben Sie konnte eine Anwendung Übermittlung Controller (ADC) wie [Azure Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction) zwischen Ihrem Microservices und dem Internet.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-117">In production environments, you could have an Application Delivery Controller (ADC) like [Azure Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction) between your microservices and the Internet.</span></span> <span data-ttu-id="2e4e5-118">Dies dient als eine transparente Ebene, die nicht nur führt den Lastenausgleich, aber Ihre Dienste durch das SSL-Tunnelabschluss Angebot sichert.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-118">This acts as a transparent tier that not only performs load balancing, but secures your services by offering SSL termination.</span></span> <span data-ttu-id="2e4e5-119">Dies verbessert die Auslastung des Hosts durch Auslagern der CPU-Intensive SSL-Tunnelabschluss und andere routing Aufgaben für das Azure-Anwendung-Gateway.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-119">This improves the load of your hosts by offloading CPU-intensive SSL termination and other routing duties to the Azure Application Gateway.</span></span> <span data-ttu-id="2e4e5-120">In jedem Fall sind, ein Lastenausgleichsmodul und ADC aus einer logischen Architektur Anwendungssicht transparent.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-120">In any case, a load balancer and ADC are transparent from a logical application architecture point of view.</span></span>

<span data-ttu-id="2e4e5-121">Eine direkte Kommunikation von Client-Microservice-Architektur möglicherweise ausreichend für eine kleine Microservice basierende Anwendung, insbesondere dann, wenn die Client-app eine serverseitige Webanwendung wie einer ASP.NET MVC-app ist.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-121">A direct client-to-microservice communication architecture could be good enough for a small microservice-based application, especially if the client app is a server-side web application like an ASP.NET MVC app.</span></span> <span data-ttu-id="2e4e5-122">Allerdings Flächen Herangehensweise bei der Erstellung von großer und komplexer Microservice-basierte Anwendungen (z. B. beim Verarbeiten von Dutzenden Microservice Typen), und insbesondere, wenn der Client-apps remote mobilapps oder SPA-Webanwendungen sind, ein paar Probleme hinsichtlich.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-122">However, when you build large and complex microservice-based applications (for example, when handling dozens of microservice types), and especially when the client apps are remote mobile apps or SPA web applications, that approach faces a few issues.</span></span>

<span data-ttu-id="2e4e5-123">Entwickeln eine große Anwendung basierend auf Microservices sollten Sie die folgenden Fragen berücksichtigen:</span><span class="sxs-lookup"><span data-stu-id="2e4e5-123">Consider the following questions when developing a large application based on microservices:</span></span>

-   <span data-ttu-id="2e4e5-124">*Wie können Clientanwendungen minimieren Sie die Anzahl der Anforderungen an die Back-End- und reduzieren ' geschwätzige ' Kommunikation mit mehreren Microservices?*</span><span class="sxs-lookup"><span data-stu-id="2e4e5-124">*How can client apps minimize the number of requests to the backend and reduce chatty communication to multiple microservices?*</span></span>

<span data-ttu-id="2e4e5-125">Mehrere Microservices zum Erstellen einer einzigen Seite der Benutzeroberfläche interagieren, erhöht die Anzahl der Roundtrips über das Internet.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-125">Interacting with multiple microservices to build a single UI screen increases the number of roundtrips across the Internet.</span></span> <span data-ttu-id="2e4e5-126">Dies erhöht die Latenzzeit und Komplexität auf der Seite der Benutzeroberfläche.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-126">This increases latency and complexity on the UI side.</span></span> <span data-ttu-id="2e4e5-127">Im Idealfall Antworten aggregiert werden sollen, effizient die serverseitig – Dies reduziert die Latenz, da mehrere Teile der Daten parallel zurückkehren und einige Benutzeroberfläche Daten angezeigt kann, sobald er bereit ist.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-127">Ideally, responses should be efficiently aggregated in the server side—this reduces latency, since multiple pieces of data come back in parallel and some UI can show data as soon as it is ready.</span></span>

-   <span data-ttu-id="2e4e5-128">*Behandelt Sie können wie querschnittliche Sicherheitsrisiken wie Autorisierung, Datentransformationen und dynamische Anforderung verteilen?*</span><span class="sxs-lookup"><span data-stu-id="2e4e5-128">*How can you handle cross-cutting concerns such as authorization, data transformations, and dynamic request dispatching?*</span></span>

<span data-ttu-id="2e4e5-129">Implementieren von Sicherheit und querschnittliche Probleme wie z. B. Sicherheit und die Autorisierung für jede Microservice erheblichen Entwicklungsaufwand erforderlich können.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-129">Implementing security and cross-cutting concerns like security and authorization on every microservice can require significant development effort.</span></span> <span data-ttu-id="2e4e5-130">Ein möglicher besteht Ansatz darin, diese Dienste innerhalb des Docker-Host oder interne Cluster um direkten Zugriff von außerhalb darauf einschränken und diese Aspekte querschnittliche an einer zentralen Stelle, wie eine Gateway-API implementiert haben.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-130">A possible approach is to have those services within the Docker host or internal cluster, in order to restrict direct access to them from the outside, and to implement those cross-cutting concerns in a centralized place, like an API Gateway.</span></span>

-   <span data-ttu-id="2e4e5-131">*Wie können Client-apps mit Diensten kommunizieren, die Internet-freundliche Protokolle verwenden?*</span><span class="sxs-lookup"><span data-stu-id="2e4e5-131">*How can client apps communicate with services that use non-Internet-friendly protocols?*</span></span>

<span data-ttu-id="2e4e5-132">Auf dem Server (z. B. AMQP oder binäre Protokolle) verwendeten Protokolle werden im Client-apps in der Regel nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-132">Protocols used on the server side (like AMQP or binary protocols) are usually not supported in client apps.</span></span> <span data-ttu-id="2e4e5-133">Aus diesem Grund müssen Anforderungen über Protokolle wie HTTP/HTTPS ausgeführt werden und im Anschluss an die anderen Protokolle übersetzt werden.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-133">Therefore, requests must be performed through protocols like HTTP/HTTPS and translated to the other protocols afterwards.</span></span> <span data-ttu-id="2e4e5-134">Ein *Man-in-the-Middle-* Ansatz in diesem Fall können.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-134">A *man-in-the-middle* approach can help in this situation.</span></span>

-   <span data-ttu-id="2e4e5-135">*Wie können Sie eine Fassade, insbesondere für mobile apps vorgenommen strukturieren?*</span><span class="sxs-lookup"><span data-stu-id="2e4e5-135">*How can you shape a façade especially made for mobile apps?*</span></span>

<span data-ttu-id="2e4e5-136">Die API von mehreren Microservices möglicherweise nicht gut für die Anforderungen der verschiedenen Clientanwendungen entworfen werden.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-136">The API of multiple microservices might not be well designed for the needs of different client applications.</span></span> <span data-ttu-id="2e4e5-137">Beispielsweise können die Anforderungen einer mobilen App die Anforderungen von einer Web-app abweichen.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-137">For instance, the needs of a mobile app might be different than the needs of a web app.</span></span> <span data-ttu-id="2e4e5-138">Für mobile apps müssen Sie möglicherweise noch weiter optimieren, damit Daten Antworten effizienter sein können.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-138">For mobile apps, you might need to optimize even further so that data responses can be more efficient.</span></span> <span data-ttu-id="2e4e5-139">Sie können dies vornehmen, durch Aggregieren von Daten aus mehreren Microservices und Zurückgeben einer einzelnen Menge von Daten in einigen Fällen entfernen Sie alle Daten in die Antwort, die nicht von der mobilen Anwendung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-139">You might do this by aggregating data from multiple microservices and returning a single set of data, and sometimes eliminating any data in the response that is not needed by the mobile app.</span></span> <span data-ttu-id="2e4e5-140">Und natürlich können Sie diese Daten komprimieren.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-140">And, of course, you might compress that data.</span></span> <span data-ttu-id="2e4e5-141">Erneut, kann eine Fassade oder API zwischen der mobilen Anwendung und die Microservices für dieses Szenario praktisch sein.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-141">Again, a façade or API in between the mobile app and the microservices can be convenient for this scenario.</span></span>

## <a name="using-an-api-gateway"></a><span data-ttu-id="2e4e5-142">Mithilfe einer API-Gateway</span><span class="sxs-lookup"><span data-stu-id="2e4e5-142">Using an API Gateway</span></span>

<span data-ttu-id="2e4e5-143">Beim Entwerfen und Erstellen von großen oder komplexen Microservice-basierte Anwendungen mit mehreren Client-apps kann ein guter Ansatz für sollten eine [API-Gateway](http://microservices.io/patterns/apigateway.html).</span><span class="sxs-lookup"><span data-stu-id="2e4e5-143">When you design and build large or complex microservice-based applications with multiple client apps, a good approach to consider can be an [API Gateway](http://microservices.io/patterns/apigateway.html).</span></span> <span data-ttu-id="2e4e5-144">Dies ist ein Dienst, der einen einzigen Einstiegspunkt für bestimmte Gruppen von Microservices bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-144">This is a service that provides a single entry point for certain groups of microservices.</span></span> <span data-ttu-id="2e4e5-145">Ähnliches gilt für die [Fassaden Muster](https://en.wikipedia.org/wiki/Facade_pattern) vom Object‑oriented Entwurf, aber in diesem Fall es ist Teil ein verteiltes System.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-145">It is similar to the [Facade pattern](https://en.wikipedia.org/wiki/Facade_pattern) from object‑oriented design, but in this case, it is part of a distributed system.</span></span> <span data-ttu-id="2e4e5-146">Die API-Gateway-Muster wird manchmal auch bezeichnet als "Back-End für Front-End" [(BFF)](http://samnewman.io/patterns/architectural/bff/) , da es beim darum geht, die Anforderungen der Client-app zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-146">The API Gateway pattern is also sometimes known as the “backend for frontend” [(BFF)](http://samnewman.io/patterns/architectural/bff/) because you build it while thinking about the needs of the client app.</span></span>

<span data-ttu-id="2e4e5-147">Abbildung 4 – 13 wird gezeigt, wie eine benutzerdefinierte API-Gateway in einem Microservice-basierte Architektur eingepasst werden kann.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-147">Figure 4-13 shows how a custom API Gateway can fit into a microservice-based architecture.</span></span>
<span data-ttu-id="2e4e5-148">Es ist wichtig, die in diesem Diagramm hervorheben, Sie würden einen einzelnen benutzerdefinierte API-Gateway-Dienst mit Internetzugriff mehrere verwenden und verschiedene Client-apps.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-148">It is important to highlight that in that diagram, you would be using a single custom API Gateway service facing multiple and different client apps.</span></span> <span data-ttu-id="2e4e5-149">Dieser Fakt ein Risiko wichtig sind, da Ihre API-Gatewaydienst wächst und weiterentwickelt werden, auf viele verschiedene Anforderungen an die Client-apps verwendet.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-149">That fact can be an important risk because your API Gateway service will be growing and evolving based on many different requirements from the client apps.</span></span> <span data-ttu-id="2e4e5-150">Schließlich werden aufgrund dieser unterschiedliche Anforderungen sehr großer und effektiv ist es möglicherweise ziemlich ähnlich einem monolithischen Anwendung oder Dienst aufgrund eines monolithischen.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-150">Eventually, it will be bloated because of those different needs and effectively it could be pretty similar to a monolithic application or monolithic service.</span></span> <span data-ttu-id="2e4e5-151">Aus diesem Grund wird sehr viel empfohlen, die die API-Gateway in mehrere Dienste oder in mehrere kleinere-API-Gateways, eins pro Formfaktor, z. B. aufgeteilt ist.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-151">That is why it is very much recommended to split the API Gateway in multiple services or multiple smaller API Gateways, one per form-factor type, for instance.</span></span>

![](./media/image13.png)

<span data-ttu-id="2e4e5-152">**Abbildung 4 – 13**.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-152">**Figure 4-13**.</span></span> <span data-ttu-id="2e4e5-153">Mithilfe einer API-Gateway implementiert als einen benutzerdefinierten Dienst zum Web-API</span><span class="sxs-lookup"><span data-stu-id="2e4e5-153">Using an API Gateway implemented as a custom Web API service</span></span>

<span data-ttu-id="2e4e5-154">In diesem Beispiel würde der API-Gateway als ein benutzerdefiniertes Web-API-Dienst, der als Container implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-154">In this example, the API Gateway would be implemented as a custom Web API service running as a container.</span></span>

<span data-ttu-id="2e4e5-155">Wie bereits erwähnt, sollten Sie mehrere API-Gateways implementieren, sodass können Sie verschiedene Fassade für die Anforderungen jeder Client-app verwenden.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-155">As mentioned, you should implement several API Gateways so that you can have a different façade for the needs of each client app.</span></span> <span data-ttu-id="2e4e5-156">Jede API-Gateway kann ein anderes bieten API, die für jede Client-app, möglicherweise sogar auf Grundlage der Formfaktor Client durch die Implementierung von bestimmten Adaptercode welche unterhalb mehrere interne Microservices ruft zugeschnitten sind.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-156">Each API Gateway can provide a different API tailored for each client app, possibly even based on the client form factor by implementing specific adapter code which underneath calls multiple internal microservices.</span></span>

<span data-ttu-id="2e4e5-157">Da eine benutzerdefinierte API-Gateway in der Regel einen Daten-Aggregator ist, müssen Sie dabei vorsichtig sein.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-157">Since a custom API Gateway is usually a data aggregator, you need to be careful with it.</span></span> <span data-ttu-id="2e4e5-158">In der Regel ist es nicht sinnvoll, eine einzelne API-Gateway Aggregieren der internen Microservices Ihrer Anwendung haben.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-158">Usually it isn't a good idea to have a single API Gateway aggregating all the internal microservices of your application.</span></span> <span data-ttu-id="2e4e5-159">Wenn dies der Fall ist, fungiert als monolithischen Aggregator oder Orchestrator und Microservice Autonomie von Kopplung alle Microservices verletzt.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-159">If it does, it acts as a monolithic aggregator or orchestrator and violates microservice autonomy by coupling all the microservices.</span></span> <span data-ttu-id="2e4e5-160">Aus diesem Grund sollte die API-Gateways basierend auf Business Grenzen und nicht Act als Aggregator für die gesamte Anwendung getrennt werden.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-160">Therefore, the API Gateways should be segregated based on business boundaries and not act as an aggregator for the whole application.</span></span>

<span data-ttu-id="2e4e5-161">Eine präzise-API-Gateway kann manchmal werden auch selbst ein Microservice und noch keiner Domäne oder den Geschäftsnamen und die zugehörigen Daten.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-161">Sometimes a granular API Gateway can also be a microservice by itself, and even have a domain or business name and related data.</span></span> <span data-ttu-id="2e4e5-162">Mit der API-Gateway-Grenzen, die durch die geschäftlichen oder Domäne vorgegeben hilft Ihnen einen besseren Entwurf zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-162">Having the API Gateway’s boundaries dictated by the business or domain will help you to get a better design.</span></span>

<span data-ttu-id="2e4e5-163">Granularität in der API-Gateway-Ebene kann besonders hilfreich, für erweiterte zusammengesetzter UI-Anwendungen, die basierend auf Microservices, sein, da das Konzept eines differenzierte-API-Gateways ein UI-Kompositionsdienst ähnelt.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-163">Granularity in the API Gateway tier can be especially useful for more advanced composite UI applications based on microservices, because the concept of a fine-grained API Gateway is similar to a UI composition service.</span></span> <span data-ttu-id="2e4e5-164">Erörtert, diese später in der [Erstellen zusammengesetzter UI basierend auf Microservices](#creating-composite-ui-based-on-microservices-including-visual-ui-shape-and-layout-generated-by-multiple-microservices).</span><span class="sxs-lookup"><span data-stu-id="2e4e5-164">We discuss this later in the [Creating composite UI based on microservices](#creating-composite-ui-based-on-microservices-including-visual-ui-shape-and-layout-generated-by-multiple-microservices).</span></span>

<span data-ttu-id="2e4e5-165">Aus diesem Grund für viele Mittel - und große Anwendungen mithilfe einer benutzerdefinierten API-Gateway ist in der Regel ein guter Ansatz, aber nicht als einzelne monolithischen Aggregator oder eindeutigen zentrales Gateway, mit benutzerdefinierten API.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-165">Therefore, for many medium- and large-size applications, using a custom-built API Gateway is usually a good approach, but not as a single monolithic aggregator or unique central custom API Gateway.</span></span>

<span data-ttu-id="2e4e5-166">Ein anderer Ansatz ist die Verwendung ein Produkts wie [Azure API Management](https://azure.microsoft.com/services/api-management/) wie in Abbildung 4-14 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-166">Another approach is to use a product like [Azure API Management](https://azure.microsoft.com/services/api-management/) as shown in Figure 4-14.</span></span> <span data-ttu-id="2e4e5-167">Dieser Ansatz nicht nur Ihren API-Gateway-Anforderungen löst, sondern bietet Funktionen, z. B. das Sammeln von Einblicke zu Ihrer APIs.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-167">This approach not only solves your API Gateway needs, but provides features like gathering insights from your APIs.</span></span> <span data-ttu-id="2e4e5-168">Wenn Sie eine API Management-Lösung verwenden, ist ein API-Gateway nur eine Komponente in die vollständige API-verwaltungslösung.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-168">If you are using an API management solution, an API Gateway is only a component within that full API management solution.</span></span>

![](./media/image14.png)

<span data-ttu-id="2e4e5-169">**Abbildung 4-14**.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-169">**Figure 4-14**.</span></span> <span data-ttu-id="2e4e5-170">Mithilfe der Azure API Management für Ihr Gateway-API</span><span class="sxs-lookup"><span data-stu-id="2e4e5-170">Using Azure API Management for your API Gateway</span></span>

<span data-ttu-id="2e4e5-171">In diesem Fall, wenn ein Produkt wie Azure API Management wird die Tatsache, dass Sie mit einem einzelnen API-Gateway ggf. so riskant ist es nicht verwenden, da diese Arten von API-Gateways "schlankere" sind, bedeutet, dass Sie benutzerdefinierte C#-Code implementieren, der für eine monolithischen weiterentwickelt konnte Komponente.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-171">In this case, when using a product like Azure API Management, the fact that you might have a single API Gateway is not so risky because these kinds of API Gateways are "thinner", meaning that you don't implement custom C# code that could evolve towards a monolithic component.</span></span> 

<span data-ttu-id="2e4e5-172">Diese Art von Produkt verhält sich eher wie ein reverse-Proxy für die Ingress-Kommunikation, in denen Sie können auch die APIs aus dem internen Microservices Filtern plus Autorisierung an die veröffentlichte-APIs in dieser einzelnen Ebene anwenden.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-172">This type of product acts more like a reverse proxy for ingress communication, where you can also filter the APIs from the internal microservices plus apply authorization to the published APIs in this single tier.</span></span>

<span data-ttu-id="2e4e5-173">Der Einsichten, die über eine API Management-System-Hilfe erhalten Sie einen Überblick darüber, wie Ihre-APIs verwendet werden und wie der durchführen.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-173">The insights available from an API Management system help you get an understanding of how your APIs are being used and how they are performing.</span></span> <span data-ttu-id="2e4e5-174">Dies geschieht, indem Sie in der Nähe von Echtzeitanalysen Berichte anzeigen lassen und Erkennen von Trends, die Ihr Unternehmen auswirken können.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-174">They do this by letting you view near real-time analytics reports and identifying trends that might impact your business.</span></span> <span data-ttu-id="2e4e5-175">Darüber hinaus können Sie Protokolle zur Anforderung und Antwort von Aktivitäten zur weiteren Online- und offline-Analyse haben.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-175">Plus, you can have logs about request and response activity for further online and offline analysis.</span></span>

<span data-ttu-id="2e4e5-176">Mit der Azure-API-Verwaltung können Sie Ihre APIs, die mit einem Schlüssel, ein Token und IP-Filterung sichern.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-176">With Azure API Management, you can secure your APIs using a key, a token, and IP filtering.</span></span> <span data-ttu-id="2e4e5-177">Diese Funktionen ermöglichen die flexible und differenzierte Kontingente erzwingen und Begrenzung der Datenübertragungsrate, ändern die Form und das Verhalten der APIs, die mithilfe von Richtlinien und Verbessern der Leistung mit Zwischenspeichern von Antworten.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-177">These features let you enforce flexible and fine-grained quotas and rate limits, modify the shape and behavior of your APIs using policies, and improve performance with response caching.</span></span>

<span data-ttu-id="2e4e5-178">In diesem Handbuch und der Verweis-beispielanwendung (eShopOnContainers) werden wir Architektur, die eine einfachere und benutzerdefinierte Datenvolumes Architektur beschränken, um auf einfache Container zu konzentrieren, ohne Verwendung von PaaS-Produkten, wie etwa Azure API Management.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-178">In this guide and the reference sample application (eShopOnContainers), we are limiting the architecture to a simpler and custom-made containerized architecture in order to focus on plain containers without using PaaS products like Azure API Management.</span></span> <span data-ttu-id="2e4e5-179">Aber für große Microservice basierende Anwendungen, die in Microsoft Azure bereitgestellt werden, wir empfehlen Ihnen, zu überprüfen und übernehmen Azure API Management als Basis für Ihre API-Gateways.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-179">But for large microservice-based applications that are deployed into Microsoft Azure, we encourage you to review and adopt Azure API Management as the base for your API Gateways.</span></span>

## <a name="drawbacks-of-the-api-gateway-pattern"></a><span data-ttu-id="2e4e5-180">Nachteile der API-Gateway-Muster</span><span class="sxs-lookup"><span data-stu-id="2e4e5-180">Drawbacks of the API Gateway pattern</span></span>

-   <span data-ttu-id="2e4e5-181">Der wichtigste Nachteil besteht darin, wenn Sie ein Gateway-API implementieren, diese Ebene mit der internen Microservices Kopplung sind.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-181">The most important drawback is that when you implement an API Gateway, you are coupling that tier with the internal microservices.</span></span> <span data-ttu-id="2e4e5-182">Kopplung wie folgt kann schwerwiegende Probleme für Ihre Anwendung führen.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-182">Coupling like this might introduce serious difficulties for your application.</span></span> <span data-ttu-id="2e4e5-183">Vaster Clemens Architekt an das Azure-Servicebus-Team, bezieht sich auf dieses potenzielle Problem als "neue ESB" in seinem "[Messaging und Microservices](https://www.youtube.com/watch?v=rXi5CLjIQ9k)" Sitzung zu GOTO 2016.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-183">Clemens Vaster, architect at the Azure Service Bus team, refers to this potential difficulty as “the new ESB” in his "[Messaging and Microservices](https://www.youtube.com/watch?v=rXi5CLjIQ9k)" session at GOTO 2016.</span></span>

-   <span data-ttu-id="2e4e5-184">Erstellt unter Verwendung einer Microservices-API-Gateway eine weitere mögliche einzelne Fehlerquelle.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-184">Using a microservices API Gateway creates an additional possible single point of failure.</span></span>

-   <span data-ttu-id="2e4e5-185">Ein API-Gateway können aufgrund der zusätzlichen Netzwerkaufruf höhere Antwortzeiten führen.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-185">An API Gateway can introduce increased response time due to the additional network call.</span></span> <span data-ttu-id="2e4e5-186">Allerdings wirkt sich dieser zusätzlichen Aufruf in der Regel weniger als einen Client, die Schnittstelle zu geschwätzig direkten Aufruf der internen Microservices ist.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-186">However, this extra call usually has less impact than having a client interface that is too chatty directly calling the internal microservices.</span></span>

-   <span data-ttu-id="2e4e5-187">Wenn Sie nicht ordnungsgemäß skaliert, können die API-Gateway einen Engpass.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-187">If not scaled out properly, the API Gateway can become a bottleneck.</span></span>

-   <span data-ttu-id="2e4e5-188">Ein API-Gateway erfordert zusätzliche Entwicklungskosten und künftige Wartung, wenn sie benutzerdefinierte Logik und die Datenaggregation enthält.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-188">An API Gateway requires additional development cost and future maintenance if it includes custom logic and data aggregation.</span></span> <span data-ttu-id="2e4e5-189">Entwickler müssen den API-Gateway aktualisieren, um jede Microservice Endpunkte verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-189">Developers must update the API Gateway in order to expose each microservice’s endpoints.</span></span> <span data-ttu-id="2e4e5-190">Darüber hinaus können die von implementierungsänderungen in der internen Microservices Änderungen am Code auf der API-Gateway-Ebene führen.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-190">Moreover, implementation changes in the internal microservices might cause code changes at the API Gateway level.</span></span> <span data-ttu-id="2e4e5-191">Jedoch, wenn die API-Gateway nur Sicherheit, Protokollierung und versionsverwaltung anwenden (wie bei der Verwendung von Azure API Management), dieser zusätzlichen Entwicklungskosten gelten möglicherweise nicht.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-191">However, if the API Gateway is just applying security, logging, and versioning (as when using Azure API Management), this additional development cost might not apply.</span></span>

-   <span data-ttu-id="2e4e5-192">Wenn die API-Gateway durch ein einzelnes Team entwickelt wird, kann ein Engpass Entwicklung sein.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-192">If the API Gateway is developed by a single team, there can be a development bottleneck.</span></span> <span data-ttu-id="2e4e5-193">Dies ist ein weiterer Grund, warum ein besserer Ansatz ist, mehrere detaillierte API-Gateways verwenden, die auf anderen Client-Anforderungen zu reagieren.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-193">This is another reason why a better approach is to have several fined-grained API Gateways that respond to different client needs.</span></span> <span data-ttu-id="2e4e5-194">Sie können auch der API-Gateway intern aufteilen, in mehrere Bereiche oder Ebenen, die die verschiedenen Teams, die auf die internen Microservices arbeiten gehören.</span><span class="sxs-lookup"><span data-stu-id="2e4e5-194">You could also segregate the API Gateway internally into multiple areas or layers that are owned by the different teams working on the internal microservices.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="2e4e5-195">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="2e4e5-195">Additional resources</span></span>

-   <span data-ttu-id="2e4e5-196">**Charles Rißling. Muster: API-Gateway / Back-End für Front-End-**
    [*http://microservices.io/patterns/apigateway.html*](http://microservices.io/patterns/apigateway.html)</span><span class="sxs-lookup"><span data-stu-id="2e4e5-196">**Charles Richardson. Pattern: API Gateway / Backend for Front-End**
[*http://microservices.io/patterns/apigateway.html*](http://microservices.io/patterns/apigateway.html)</span></span>

-   <span data-ttu-id="2e4e5-197">**Azure API Management**
    [*https://azure.microsoft.com/services/api-management/*](https://azure.microsoft.com/services/api-management/)</span><span class="sxs-lookup"><span data-stu-id="2e4e5-197">**Azure API Management**
[*https://azure.microsoft.com/services/api-management/*](https://azure.microsoft.com/services/api-management/)</span></span>

-   <span data-ttu-id="2e4e5-198">**Udi Dahan. Dienstorientierte Komposition**\\</span><span class="sxs-lookup"><span data-stu-id="2e4e5-198">**Udi Dahan. Service Oriented Composition**\\</span></span>
    [<span data-ttu-id="2e4e5-199">*http://UdiDahan.com/2014/07/30/Service-Oriented-Composition-with-Video/*</span><span class="sxs-lookup"><span data-stu-id="2e4e5-199">*http://udidahan.com/2014/07/30/service-oriented-composition-with-video/*</span></span>](http://udidahan.com/2014/07/30/service-oriented-composition-with-video/)

-   <span data-ttu-id="2e4e5-200">**Clemens Vasters. Messaging und Microservices am GOTO 2016** (video) [ *https://www.youtube.com/watch?v=rXi5CLjIQ9k*](https://www.youtube.com/watch?v=rXi5CLjIQ9k)</span><span class="sxs-lookup"><span data-stu-id="2e4e5-200">**Clemens Vasters. Messaging and Microservices at GOTO 2016** (video) [*https://www.youtube.com/watch?v=rXi5CLjIQ9k*](https://www.youtube.com/watch?v=rXi5CLjIQ9k)</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="2e4e5-201">[Vorherigen] (identifizieren-Microservice-Domain-Modell-boundaries.md) [weiter] (Kommunikation-in-Microservice-architecture.md)</span><span class="sxs-lookup"><span data-stu-id="2e4e5-201">[Previous] (identify-microservice-domain-model-boundaries.md) [Next] (communication-in-microservice-architecture.md)</span></span>
