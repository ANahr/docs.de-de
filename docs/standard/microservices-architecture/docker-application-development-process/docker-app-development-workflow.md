---
title: "Entwicklungsworkflow für Docker-apps"
description: ".NET Microservices Architektur für Datenvolumes .NET-Anwendungen | Entwicklungsworkflow für Docker-apps"
keywords: Docker, Microservices, ASP.NET, Container
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 10/18/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: 5a53aee4261a5a0bfc25b3520c50cf505b84f287
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/21/2017
---
# <a name="development-workflow-for-docker-apps"></a><span data-ttu-id="90800-104">Entwicklungsworkflow für Docker-apps</span><span class="sxs-lookup"><span data-stu-id="90800-104">Development workflow for Docker apps</span></span>

<span data-ttu-id="90800-105">Lebenszyklus der Anwendungsentwicklung beginnt bei jeder Entwickler-Computer, wie der Entwickler codes die Anwendung, die ihre bevorzugte Programmiersprache und wird lokal überprüft.</span><span class="sxs-lookup"><span data-stu-id="90800-105">The application development lifecycle starts at each developer’s machine, where the developer codes the application using their preferred language and tests it locally.</span></span> <span data-ttu-id="90800-106">Unabhängig davon, welche Sprache, Framework- und Plattform, die der Entwickler mit diesem Workflow, wählt ist der Entwickler immer entwickeln und Testen des Docker-Containern, aber auf diese Weise lokal.</span><span class="sxs-lookup"><span data-stu-id="90800-106">No matter which language, framework, and platform the developer chooses, with this workflow, the developer is always developing and testing Docker containers, but doing so locally.</span></span>

<span data-ttu-id="90800-107">Jeder Container (eine Instanz des Docker-Images) umfasst die folgenden Komponenten:</span><span class="sxs-lookup"><span data-stu-id="90800-107">Each container (an instance of a Docker image) includes the following components:</span></span>

-   <span data-ttu-id="90800-108">Eine Auswahl des Betriebssystems (z. B. eine Linux-Distribution, Windows Nano Server oder Windows Server Core).</span><span class="sxs-lookup"><span data-stu-id="90800-108">An operating system selection (for example, a Linux distribution, Windows Nano Server, or Windows Server Core).</span></span>

-   <span data-ttu-id="90800-109">Dateien, die vom Entwickler (Binärdateien der Anwendung usw.) hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="90800-109">Files added by the developer (application binaries, etc.).</span></span>

-   <span data-ttu-id="90800-110">Konfigurationsinformationen (umgebungseinstellungen und Abhängigkeiten).</span><span class="sxs-lookup"><span data-stu-id="90800-110">Configuration information (environment settings and dependencies).</span></span>

## <a name="workflow-for-developing-docker-container-based-applications"></a><span data-ttu-id="90800-111">Workflow für die Entwicklung von Docker Container-basierte Anwendungen</span><span class="sxs-lookup"><span data-stu-id="90800-111">Workflow for developing Docker container-based applications</span></span>

<span data-ttu-id="90800-112">In diesem Abschnitt wird beschrieben, die *innere Schleife* Entwicklungsworkflow für Docker-Container-basierte Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="90800-112">This section describes the *inner-loop* development workflow for Docker container-based applications.</span></span> <span data-ttu-id="90800-113">Die innere Schleife Workflow bedeutet, dass sie wird ohne Berücksichtigung den größeren DevOps-Workflow und konzentriert sich nur auf die Entwicklungsarbeit, die auf dem Computer des Entwicklers vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="90800-113">The inner-loop workflow means it is not taking into account the broader DevOps workflow and just focuses on the development work done on the developer’s computer.</span></span> <span data-ttu-id="90800-114">Die ersten Schritte zum Einrichten der Umgebung sind nicht eingeschlossen werden, da diese nur einmal gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="90800-114">The initial steps to set up the environment are not included, since those are done only once.</span></span>

<span data-ttu-id="90800-115">Eine Anwendung besteht aus Ihrer eigenen Services plus zusätzliche Bibliotheken (Abhängigkeiten).</span><span class="sxs-lookup"><span data-stu-id="90800-115">An application is composed of your own services plus additional libraries (dependencies).</span></span> <span data-ttu-id="90800-116">Im folgenden sind die grundlegenden Schritte, die Sie normalerweise beim Erstellen einer Anwendung mit Docker ausführen wie in Abbildung 5 – 1 veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="90800-116">The following are the basic steps you usually take when building a Docker application, as illustrated in Figure 5-1.</span></span>

![](./media/image1.png)

<span data-ttu-id="90800-117">**Abbildung 5 – 1.**</span><span class="sxs-lookup"><span data-stu-id="90800-117">**Figure 5-1.**</span></span> <span data-ttu-id="90800-118">Schrittweise Workflow für die Entwicklung von apps für Docker-Containern</span><span class="sxs-lookup"><span data-stu-id="90800-118">Step-by-step workflow for developing Docker containerized apps</span></span>

<span data-ttu-id="90800-119">In diesem Handbuch werden der gesamte Vorgang beschrieben und in jedem wichtiger Schritt wird durch die Fokussierung auf einer Visual Studio-Umgebung erläutert.</span><span class="sxs-lookup"><span data-stu-id="90800-119">In this guide, this whole process is detailed and every major step is explained by focusing on a Visual Studio environment.</span></span>

<span data-ttu-id="90800-120">Bei Verwendung einer Entwicklungsansatz-Editor/CLI (z. B. Visual Studio Code plus Docker-Befehlszeilenschnittstelle auf MacOS oder Windows), müssen Sie wissen, in jedem Schritt in der Regel im Detail, als wenn Sie Visual Studio verwenden.</span><span class="sxs-lookup"><span data-stu-id="90800-120">When you are using an editor/CLI development approach (for example, Visual Studio Code plus Docker CLI on macOS or Windows), you need to know every step, generally in more detail than if you are using Visual Studio.</span></span> <span data-ttu-id="90800-121">Weitere Informationen zum Arbeiten in einer Umgebung CLI finden Sie in der e-Book [Docker Anwendungslebenszyklus in Containern mit Microsoft-Platforms und Tools](http://aka.ms/dockerlifecycleebook/).</span><span class="sxs-lookup"><span data-stu-id="90800-121">For more details about working in a CLI environment, refer to the e-book [Containerized Docker Application lifecycle with Microsoft Platforms and Tools](http://aka.ms/dockerlifecycleebook/).</span></span>

<span data-ttu-id="90800-122">Wenn Sie Visual Studio 2015 oder Visual Studio 2017 verwenden, sind viele dieser Schritte für Sie behandelt, die die Produktivität erheblich verbessert.</span><span class="sxs-lookup"><span data-stu-id="90800-122">When you are using Visual Studio 2015 or Visual Studio 2017, many of those steps are handled for you, which dramatically improves your productivity.</span></span> <span data-ttu-id="90800-123">Dies gilt insbesondere, wenn Sie mithilfe von Visual Studio 2017 und Multi-containeranwendungen abzielt.</span><span class="sxs-lookup"><span data-stu-id="90800-123">This is especially true when you are using Visual Studio 2017 and targeting multi-container applications.</span></span> <span data-ttu-id="90800-124">Für die Instanz, fügt Visual Studio die dockerfile-Datei und Docker-compose.yml-Datei mit nur einem Mausklick zu Projekten mit der Konfiguration für Ihre Anwendung.</span><span class="sxs-lookup"><span data-stu-id="90800-124">For instance, with just one mouse click, Visual Studio adds the Dockerfile and docker-compose.yml file to your projects with the configuration for your application.</span></span> <span data-ttu-id="90800-125">Wenn Sie die Anwendung in Visual Studio ausführen, erstellt das Docker-Image und führt die Anwendung mit mehreren Container direkt im Docker; Sie können Sie sogar mehreren Containern auf einmal zu debuggen.</span><span class="sxs-lookup"><span data-stu-id="90800-125">When you run the application in Visual Studio, it builds the Docker image and runs the multi-container application directly in Docker; it even allows you to debug several containers at once.</span></span> <span data-ttu-id="90800-126">Diese Funktionen werden Ihre entwicklungsgeschwindigkeit verstärken.</span><span class="sxs-lookup"><span data-stu-id="90800-126">These features will boost your development speed.</span></span>

<span data-ttu-id="90800-127">Allerdings nur daran, dass Visual Studio werden die Schritte im automatischen wird bedeutet nicht, dass Sie nicht benötigen, zu wissen, was passiert bei unterhalb mit Docker.</span><span class="sxs-lookup"><span data-stu-id="90800-127">However, just because Visual Studio makes those steps automatic does not mean that you do not need to know what is going on underneath with Docker.</span></span> <span data-ttu-id="90800-128">Daher ausführliche Informationen in den Anleitungen, wir in jedem Schritt.</span><span class="sxs-lookup"><span data-stu-id="90800-128">Therefore, in the guidance that follows, we detail every step.</span></span>

![](./media/image2.png)

## <a name="step-1-start-coding-and-create-your-initial-application-or-service-baseline"></a><span data-ttu-id="90800-129">Schritt 1.</span><span class="sxs-lookup"><span data-stu-id="90800-129">Step 1.</span></span> <span data-ttu-id="90800-130">Codieren beginnen Sie, und erstellen Sie Ihrer ersten Anwendung oder Dienst Basislinie</span><span class="sxs-lookup"><span data-stu-id="90800-130">Start coding and create your initial application or service baseline</span></span>

<span data-ttu-id="90800-131">Entwickeln einer Anwendung Docker ist ähnlich wie bei eine Anwendung ohne Docker zu entwickeln.</span><span class="sxs-lookup"><span data-stu-id="90800-131">Developing a Docker application is similar to the way you develop an application without Docker.</span></span> <span data-ttu-id="90800-132">Der Unterschied besteht darin, dass beim Entwickeln für Docker kann Sie bereitstellen und Testen Ihrer Anwendung oder Dienste, die in Docker-Containern in Ihrer lokalen Umgebung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="90800-132">The difference is that while developing for Docker, you are deploying and testing your application or services running within Docker containers in your local environment.</span></span> <span data-ttu-id="90800-133">Der Container kann es sich um ein Linux-Container oder ein Windows-Container sein.</span><span class="sxs-lookup"><span data-stu-id="90800-133">The container can be either a Linux container or a Windows container.</span></span>

### <a name="set-up-your-local-environment-with-visual-studio"></a><span data-ttu-id="90800-134">Einrichten der lokalen Umgebung mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="90800-134">Set up your local environment with Visual Studio</span></span>

<span data-ttu-id="90800-135">Um zu beginnen, stellen Sie sicher, dass [Docker Community Edition (CE)](https://www.docker.com/community-edition) für Windows installiert werden, wie nachfolgend erläutert:</span><span class="sxs-lookup"><span data-stu-id="90800-135">To begin, make sure you have [Docker Community Edition (CE)](https://www.docker.com/community-edition) for Windows installed, as explained in the following instructions:</span></span>

[<span data-ttu-id="90800-136">Erste Schritte mit Docker CE für Windows</span><span class="sxs-lookup"><span data-stu-id="90800-136">Get started with Docker CE for Windows</span></span>](https://docs.docker.com/docker-for-windows/)

<span data-ttu-id="90800-137">Darüber hinaus benötigen Sie Visual Studio 2017 installiert.</span><span class="sxs-lookup"><span data-stu-id="90800-137">In addition, you will need Visual Studio 2017 installed.</span></span> <span data-ttu-id="90800-138">Grund hierfür ist bevorzugte über Visual Studio 2015 mit Visual Studio-Tools für Docker-add-ins 2017 von Visual Studio-Unterstützung für Docker, z. B. Unterstützung für das Debuggen von Containern komplexeren hat.</span><span class="sxs-lookup"><span data-stu-id="90800-138">This is preferred over Visual Studio 2015 with the Visual Studio Tools for Docker add-in, because Visual Studio 2017 has more advanced support for Docker, like support for debugging containers.</span></span> <span data-ttu-id="90800-139">2017 von Visual Studio enthält die Tools für Docker bei Auswahl der **.NET Core und Docker** arbeitsauslastung während der Installation, wie in Abbildung 5 – 2 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="90800-139">Visual Studio 2017 includes the tooling for Docker if you selected the **.NET Core and Docker** workload during installation, as shown in Figure 5-2.</span></span>

![](./media/image3.png)

<span data-ttu-id="90800-140">**Abbildung 5 – 2**.</span><span class="sxs-lookup"><span data-stu-id="90800-140">**Figure 5-2**.</span></span> <span data-ttu-id="90800-141">Auswählen der **.NET Core und Docker** arbeitsauslastung während der Installation von Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="90800-141">Selecting the **.NET Core and Docker** workload during Visual Studio 2017 setup</span></span>

<span data-ttu-id="90800-142">Sie können sogar vor dem Aktivieren von Docker in Ihrer Anwendung und zum Bereitstellen und Testen in Docker starten codieren Ihre Anwendung in einfachen .NET (normalerweise in .NET Core, wenn Sie beabsichtigen, den Container verwenden).</span><span class="sxs-lookup"><span data-stu-id="90800-142">You can start coding your application in plain .NET (usually in .NET Core if you are planning to use containers) even before enabling Docker in your application and deploying and testing in Docker.</span></span> <span data-ttu-id="90800-143">Allerdings wird empfohlen, dass Sie auf Docker so bald wie möglich, arbeiten da, der echten Umgebung werden und so bald wie möglich alle Probleme ermittelt werden können.</span><span class="sxs-lookup"><span data-stu-id="90800-143">However, it is recommended that you start working on Docker as soon as possible, because that will be the real environment and any issues can be discovered as soon as possible.</span></span> <span data-ttu-id="90800-144">Dies wird empfohlen, da Visual Studio es daher erleichtert mit Docker arbeiten, es fast transparent ist – das beste Beispiel beim Debuggen mit mehreren containeranwendungen aus Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="90800-144">This is encouraged because Visual Studio makes it so easy to work with Docker that it almost feels transparent—the best example when debugging multi-container applications from Visual Studio.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="90800-145">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="90800-145">Additional resources</span></span>

-   <span data-ttu-id="90800-146">**Erste Schritte mit Docker CE für Windows**
    [*https://docs.docker.com/docker-for-windows/*](https://docs.docker.com/docker-for-windows/)</span><span class="sxs-lookup"><span data-stu-id="90800-146">**Get started with Docker CE for Windows**
[*https://docs.docker.com/docker-for-windows/*](https://docs.docker.com/docker-for-windows/)</span></span>

-   <span data-ttu-id="90800-147">**Visual Studio-2017**
    [*https://www.visualstudio.com/vs/visual-studio-2017/*](https://www.visualstudio.com/vs/visual-studio-2017/)</span><span class="sxs-lookup"><span data-stu-id="90800-147">**Visual Studio 2017**
[*https://www.visualstudio.com/vs/visual-studio-2017/*](https://www.visualstudio.com/vs/visual-studio-2017/)</span></span>

![](./media/image4.png)

## <a name="step-2-create-a-dockerfile-related-to-an-existing-net-base-image"></a><span data-ttu-id="90800-148">Schritt 2</span><span class="sxs-lookup"><span data-stu-id="90800-148">Step 2.</span></span> <span data-ttu-id="90800-149">Erstellen Sie eine dockerfile-Datei im Zusammenhang mit einem vorhandenen .NET-Basis-image</span><span class="sxs-lookup"><span data-stu-id="90800-149">Create a Dockerfile related to an existing .NET base image</span></span>

<span data-ttu-id="90800-150">Für jeden benutzerdefinierten Images, die Sie erstellen möchten, benötigen Sie eine dockerfile-Datei; Sie benötigen auch eine dockerfile-Datei für jeden Container bereitgestellt werden, an, ob Sie automatisch von Visual Studio oder manuell mithilfe der Docker-Befehlszeilenschnittstelle bereitstellen ("Docker run" als auch Docker-Befehle erstellen).</span><span class="sxs-lookup"><span data-stu-id="90800-150">You need a Dockerfile for each custom image you want to build; you also need a Dockerfile for each container to be deployed, whether you deploy automatically from Visual Studio or manually using the Docker CLI (docker run and docker-compose commands).</span></span> <span data-ttu-id="90800-151">Wenn Ihre Anwendung eine benutzerdefinierte Einzelgerät enthält, benötigen Sie eine einzelne dockerfile-Datei.</span><span class="sxs-lookup"><span data-stu-id="90800-151">If your application contains a single custom service, you need a single Dockerfile.</span></span> <span data-ttu-id="90800-152">Wenn Ihre Anwendung mehrere Dienste (wie eine Microservices-Architektur) enthält, benötigen Sie eine dockerfile-Datei für jeden Dienst ein.</span><span class="sxs-lookup"><span data-stu-id="90800-152">If your application contains multiple services (as in a microservices architecture), you need one Dockerfile for each service.</span></span>

<span data-ttu-id="90800-153">Die dockerfile-Datei befindet sich im Stammordner Ihrer Anwendung oder Dienst.</span><span class="sxs-lookup"><span data-stu-id="90800-153">The Dockerfile is placed in the root folder of your application or service.</span></span> <span data-ttu-id="90800-154">Es enthält die Befehle, die Docker Bereitstellen von Informationen zum Einrichten und Ausführen Ihrer Anwendung oder Ihrem Dienst in einem Container.</span><span class="sxs-lookup"><span data-stu-id="90800-154">It contains the commands that tell Docker how to set up and run your application or service in a container.</span></span> <span data-ttu-id="90800-155">Sie können manuell erstellen Sie eine dockerfile-Datei im Code und zusammen mit Ihrem .NET Abhängigkeiten zu Ihrem Projekt hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="90800-155">You can manually create a Dockerfile in code and add it to your project along with your .NET dependencies.</span></span>

<span data-ttu-id="90800-156">Mit Visual Studio und die Tools für Docker erfordert diese Aufgabe nur wenigen Mausklicks.</span><span class="sxs-lookup"><span data-stu-id="90800-156">With Visual Studio and its tools for Docker, this task requires only a few mouse clicks.</span></span> <span data-ttu-id="90800-157">Beim Erstellen eines neuen Projekts in Visual Studio 2017 besteht jedoch eine Möglichkeit, die mit dem Namen **aktivieren (Docker) Containerunterstützung**, wie in Abbildung 5 – 3 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="90800-157">When you create a new project in Visual Studio 2017, there is an option named **Enable Container (Docker) Support**, as shown in Figure 5-3.</span></span>

![](./media/image5.png)

<span data-ttu-id="90800-158">**Abbildung 5 – 3**.</span><span class="sxs-lookup"><span data-stu-id="90800-158">**Figure 5-3**.</span></span> <span data-ttu-id="90800-159">Aktivieren der Unterstützung für Docker beim Erstellen eines neuen Projekts in Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="90800-159">Enabling Docker Support when creating a new project in Visual Studio 2017</span></span>

<span data-ttu-id="90800-160">Sie können auch Docker-Unterstützung für ein neues oder vorhandenes Projekt aktivieren, indem Sie mit der rechten Maustaste der Projektdatei in Visual Studio und wählen Sie die Option **hinzufügen Docker Projekt unterstützt**, wie in Abbildung 5-4 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="90800-160">You can also enable Docker support on a new or existing project by right-clicking your project file in Visual Studio and selecting the option **Add-Docker Project Support**, as shown in Figure 5-4.</span></span>

![](./media/image6.png)

<span data-ttu-id="90800-161">**Abbildung 5-4**.</span><span class="sxs-lookup"><span data-stu-id="90800-161">**Figure 5-4**.</span></span> <span data-ttu-id="90800-162">Aktivieren der Unterstützung für Docker in einem vorhandenen 2017 von Visual Studio-Projekt</span><span class="sxs-lookup"><span data-stu-id="90800-162">Enabling Docker support in an existing Visual Studio 2017 project</span></span>

<span data-ttu-id="90800-163">Diese Aktion für ein Projekt (z. B. eine ASP.NET-Webanwendung oder Web-API-Dienst) wird das Projekt mit der erforderlichen Konfiguration einer dockerfile-Datei hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="90800-163">This action on a project (like an ASP.NET Web application or Web API service) adds a Dockerfile to the project with the required configuration.</span></span> <span data-ttu-id="90800-164">Darüber hinaus wird eine Docker-compose.yml-Datei für die gesamte Projektmappe hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="90800-164">It also adds a docker-compose.yml file for the whole solution.</span></span> <span data-ttu-id="90800-165">In den folgenden Abschnitten beschreiben wir die Informationen, die in jede dieser Dateien aufgenommen wird.</span><span class="sxs-lookup"><span data-stu-id="90800-165">In the following sections, we describe the information that goes into each of those files.</span></span> <span data-ttu-id="90800-166">Visual Studio können Sie dieses Werk führt, es ist jedoch hilfreich zu verstehen, was in einer dockerfile-Datei aufgenommen wird.</span><span class="sxs-lookup"><span data-stu-id="90800-166">Visual Studio can do this work for you, but it is useful to understand what goes into a Dockerfile.</span></span>

### <a name="option-a-creating-a-project-using-an-existing-official-net-docker-image"></a><span data-ttu-id="90800-167">Option A: Erstellen eines Projekts mit einem vorhandenen offizielle .NET Docker-image</span><span class="sxs-lookup"><span data-stu-id="90800-167">Option A: Creating a project using an existing official .NET Docker image</span></span>

<span data-ttu-id="90800-168">Sie erstellen ein benutzerdefiniertes Image in der Regel für den Container über eine Basis-Image erhalten Sie von einem offiziellen-Repository auf der [Docker Hub](https://hub.docker.com/) Registrierung.</span><span class="sxs-lookup"><span data-stu-id="90800-168">You usually build a custom image for your container on top of a base image you can get from an official repository at the [Docker Hub](https://hub.docker.com/) registry.</span></span> <span data-ttu-id="90800-169">Das ist genau an, was im Hintergrund geschieht, wenn Sie die Docker-Unterstützung in Visual Studio aktivieren.</span><span class="sxs-lookup"><span data-stu-id="90800-169">That is precisely what happens under the covers when you enable Docker support in Visual Studio.</span></span> <span data-ttu-id="90800-170">Die dockerfile-Datei wird ein vorhandenes Aspnetcore Image verwenden.</span><span class="sxs-lookup"><span data-stu-id="90800-170">Your Dockerfile will use an existing aspnetcore image.</span></span>

<span data-ttu-id="90800-171">Zuvor erläutert wir die Docker-Images und Repositorys, die Sie verwenden können, abhängig von der Framework und das Betriebssystem, die Sie ausgewählt haben.</span><span class="sxs-lookup"><span data-stu-id="90800-171">Earlier we explained which Docker images and repos you can use, depending on the framework and OS you have chosen.</span></span> <span data-ttu-id="90800-172">Wenn Sie ASP.NET Core (Linux- oder Windows) verwenden möchten, wird das Bild, z. B. Microsoft / Aspnetcore:2.0.</span><span class="sxs-lookup"><span data-stu-id="90800-172">For instance, if you want to use ASP.NET Core (Linux or Windows), the image to use is microsoft/aspnetcore:2.0.</span></span> <span data-ttu-id="90800-173">Aus diesem Grund müssen Sie nur angeben, welche Docker-Basisimages für den Container verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="90800-173">Therefore, you just need to specify what base Docker image you will use for your container.</span></span> <span data-ttu-id="90800-174">Sie dies tun, indem Hinzufügen von Microsoft / Aspnetcore:2.0 auf Ihr dockerfile-Datei.</span><span class="sxs-lookup"><span data-stu-id="90800-174">You do that by adding FROM microsoft/aspnetcore:2.0 to your Dockerfile.</span></span> <span data-ttu-id="90800-175">Dies wird automatisch von Visual Studio ausgeführt werden, aber würden Sie die Version aktualisieren möchten, aktualisieren Sie diesen Wert.</span><span class="sxs-lookup"><span data-stu-id="90800-175">This will be automatically performed by Visual Studio, but if you were to update the version, you update this value.</span></span>

<span data-ttu-id="90800-176">Verwenden eine offizielle .NET Image-Repository von Docker Hub mit einer Versionsnummer wird sichergestellt, dass die gleichen Sprachfunktionen auf allen Computern (einschließlich Entwicklungs-, Test- und Produktionszwecke) verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="90800-176">Using an official .NET image repository from Docker Hub with a version number ensures that the same language features are available on all machines (including development, testing, and production).</span></span>

<span data-ttu-id="90800-177">Das folgende Beispiel zeigt ein Beispiel für dockerfile-Datei für eine ASP.NET Core-Container.</span><span class="sxs-lookup"><span data-stu-id="90800-177">The following example shows a sample Dockerfile for an ASP.NET Core container.</span></span>

```
FROM microsoft/aspnetcore:2.0
  
ARG source
  
WORKDIR /app
  
EXPOSE 80
  
COPY ${source:-obj/Docker/publish} .
  
ENTRYPOINT ["dotnet", " MySingleContainerWebApp.dll "]
```

<span data-ttu-id="90800-178">In diesem Fall basiert die Container in Version 2.0 des offiziellen ASP.NET Core Docker-Images (mit mehreren Arch für Linux und Windows).</span><span class="sxs-lookup"><span data-stu-id="90800-178">In this case, the container is based on version 2.0 of the official ASP.NET Core Docker image (multi-arch for Linux and Windows).</span></span> <span data-ttu-id="90800-179">Dies ist die Einstellung `FROM microsoft/aspnetcore:2.0`.</span><span class="sxs-lookup"><span data-stu-id="90800-179">This is the setting `FROM microsoft/aspnetcore:2.0`.</span></span> <span data-ttu-id="90800-180">(Weitere Informationen zu dieser Basis-Image finden Sie unter der [ASP.NET Core Docker Bild](https://hub.docker.com/r/microsoft/aspnetcore/) Seite und die [.NET Core Docker-Image](https://hub.docker.com/r/microsoft/dotnet/) Seite.) In der dockerfile-Datei müssen Sie auch weisen Docker an den TCP-Port lauschen, die Sie zur Laufzeit (in diesem Fall Port 80, wie mit der Einstellung verfügbar machen) verwenden.</span><span class="sxs-lookup"><span data-stu-id="90800-180">(For further details about this base image, see the [ASP.NET Core Docker Image](https://hub.docker.com/r/microsoft/aspnetcore/) page and the [.NET Core Docker Image](https://hub.docker.com/r/microsoft/dotnet/) page.) In the Dockerfile, you also need to instruct Docker to listen on the TCP port you will use at runtime (in this case, port 80, as configured with the EXPOSE setting).</span></span>

<span data-ttu-id="90800-181">Sie können zusätzliche Konfigurationseinstellungen angeben, in die dockerfile-Datei, je nach Sprache und Framework, die Sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="90800-181">You can specify additional configuration settings in the Dockerfile, depending on the language and framework you are using.</span></span> <span data-ttu-id="90800-182">Für die Instanz, die ENTRYPOINT-Zeile mit \["Dotnet", "MySingleContainerWebApp.dll"\] weist Docker zum Ausführen einer .NET Core-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="90800-182">For instance, the ENTRYPOINT line with \["dotnet", "MySingleContainerWebApp.dll"\] tells Docker to run a .NET Core application.</span></span> <span data-ttu-id="90800-183">Bei Verwendung des SDK und die .NET Core-CLI (Dotnet CLI) zu erstellen, und führen Sie die Anwendung .NET, würden diese Einstellung abweichen.</span><span class="sxs-lookup"><span data-stu-id="90800-183">If you are using the SDK and the .NET Core CLI (dotnet CLI) to build and run the .NET application, this setting would be different.</span></span> <span data-ttu-id="90800-184">Entscheidend ist, dass die ENTRYPOINT-Zeile und andere Einstellungen können variieren, je nachdem das Sprache und Plattform, die Sie für Ihre Anwendung auswählen.</span><span class="sxs-lookup"><span data-stu-id="90800-184">The bottom line is that the ENTRYPOINT line and other settings will be different depending on the language and platform you choose for your application.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="90800-185">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="90800-185">Additional resources</span></span>

-   <span data-ttu-id="90800-186">**Erstellen von Docker-Images für .NET Core-Anwendungen**
    [*https://docs.microsoft.com/dotnet/core/docker/building-net-docker-images*](https://docs.microsoft.com/dotnet/core/docker/building-net-docker-images)</span><span class="sxs-lookup"><span data-stu-id="90800-186">**Building Docker Images for .NET Core Applications**
[*https://docs.microsoft.com/dotnet/core/docker/building-net-docker-images*](https://docs.microsoft.com/dotnet/core/docker/building-net-docker-images)</span></span>

-   <span data-ttu-id="90800-187">**Erstellen Sie Ihr eigenes Image**.</span><span class="sxs-lookup"><span data-stu-id="90800-187">**Build your own image**.</span></span> <span data-ttu-id="90800-188">In der offiziellen Docker-Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="90800-188">In the official Docker documentation.</span></span>
    [<span data-ttu-id="90800-189">*https://docs.docker.com/Engine/Tutorials/dockerimages/*</span><span class="sxs-lookup"><span data-stu-id="90800-189">*https://docs.docker.com/engine/tutorials/dockerimages/*</span></span>](https://docs.docker.com/engine/tutorials/dockerimages/)

### <a name="using-multi-arch-image-repositories"></a><span data-ttu-id="90800-190">Verwenden mehrerer arch Image-Repositorys</span><span class="sxs-lookup"><span data-stu-id="90800-190">Using multi-arch image repositories</span></span>

<span data-ttu-id="90800-191">Einem einzelnen Repository kann Plattform Varianten, z. B. ein Linux-Image und ein Windows-Image enthalten.</span><span class="sxs-lookup"><span data-stu-id="90800-191">A single repo can contain platform variants, such as a Linux image and a Windows image.</span></span> <span data-ttu-id="90800-192">Dieses Feature ermöglicht Anbietern wie Microsoft (Ersteller-Basis-Image) auf einem einzelnen Repository um decken mehrere Plattformen erstellen (Linux und Windows).</span><span class="sxs-lookup"><span data-stu-id="90800-192">This feature allows vendors like Microsoft (base image creators) to create a single repo to cover multiple platforms (that is Linux and Windows).</span></span> <span data-ttu-id="90800-193">Z. B. die [Microsoft/Dotnet](https://hub.docker.com/r/microsoft/aspnetcore/) Repository verfügbar in der Docker Hub-Registrierung bietet Unterstützung für Linux und Windows Nano Server mit dem Namen der dieselbe Repository.</span><span class="sxs-lookup"><span data-stu-id="90800-193">For example, the [microsoft/dotnet](https://hub.docker.com/r/microsoft/aspnetcore/) repository available in the Docker Hub registry provides support for Linux and Windows Nano Server by using the same repo name.</span></span>

<span data-ttu-id="90800-194">Wenn Sie eine Webplattform, die explizit ist ein Tag angeben, wie in den folgenden Fällen:</span><span class="sxs-lookup"><span data-stu-id="90800-194">If you specify a tag, targeting a platform that is explicit like in the following cases:</span></span>

-   <span data-ttu-id="90800-195">**Microsoft/aspnetcore:2.0.0-jessie**</span><span class="sxs-lookup"><span data-stu-id="90800-195">**microsoft/aspnetcore:2.0.0-jessie**</span></span>

        .NET Core 2.0 runtime-only on Linux 

-   <span data-ttu-id="90800-196">**Microsoft/aspnetcore:2.0.0-nanoserver**</span><span class="sxs-lookup"><span data-stu-id="90800-196">**microsoft/aspnetcore:2.0.0-nanoserver**</span></span>

        .NET Core 2.0 runtime-only on Windows Nano Server

<span data-ttu-id="90800-197">Aber dies ist neuer seit Mitte 2017 bei Angabe der gleichen ImageName auch mit dem gleichen Tag und die neuen mit mehreren arch Bilder (z. B. das Aspnetcore-Bild mit mehreren Arch unterstützt) verwenden die Linux- oder Windows-Version abhängig von der Docker-Host OS, das Sie bereitstellen , wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="90800-197">But, and this is new since mid-2017, if you specify the same image name, even with the same tag, the new multi-arch images (like the aspnetcore image which supports multi-arch) will use the Linux or Windows version depending on the Docker host OS you are deploying, as shown in the following example:</span></span>

-   <span data-ttu-id="90800-198">**Microsoft / Aspnetcore:2.0**</span><span class="sxs-lookup"><span data-stu-id="90800-198">**microsoft/aspnetcore:2.0**</span></span>

        Multi-arch: .NET Core 2.0 runtime-only on Linux or Windows Nano Server depending on the Docker host OS

<span data-ttu-id="90800-199">Auf diese Weise ein Abbild von einem Windows-Host ziehen, ziehen sie die Windows-Variante, und der gleiche Name für das Ausführen von Pull aus einem Linux-Host Ruft die Linux-Variante.</span><span class="sxs-lookup"><span data-stu-id="90800-199">This way, when you pull an image from a Windows host, it will pull the Windows variant, and pulling the same image name from a Linux host will pull the Linux variant.</span></span>

### <a name="option-b-creating-your-base-image-from-scratch"></a><span data-ttu-id="90800-200">Option B: Erstellen des Basis-Image von Grund auf neu</span><span class="sxs-lookup"><span data-stu-id="90800-200">Option B: Creating your base image from scratch</span></span>

<span data-ttu-id="90800-201">Sie können eigene Docker-Basis-Image von Grund auf neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="90800-201">You can create your own Docker base image from scratch.</span></span> <span data-ttu-id="90800-202">Dieses Szenario wird nicht empfohlen, für eine Person, die mit Docker gestartet wird, aber wenn Sie die bestimmte Bits des eigene Basisimage festlegen möchten, können Sie dies tun.</span><span class="sxs-lookup"><span data-stu-id="90800-202">This scenario is not recommended for someone who is starting with Docker, but if you want to set the specific bits of your own base image, you can do so.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="90800-203">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="90800-203">Additional resources</span></span>

-   <span data-ttu-id="90800-204">**Mit mehreren arch .NET Core Bilder**.</span><span class="sxs-lookup"><span data-stu-id="90800-204">**Multi-arch .NET Core images**.</span></span>
<span data-ttu-id="90800-205">https://github.com/dotnet/Announcements/issues/14</span><span class="sxs-lookup"><span data-stu-id="90800-205">https://github.com/dotnet/announcements/issues/14</span></span> 
-   <span data-ttu-id="90800-206">**Erstellen Sie eine base-Image**.</span><span class="sxs-lookup"><span data-stu-id="90800-206">**Create a base image**.</span></span> <span data-ttu-id="90800-207">Offizieller Docker-Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="90800-207">Official Docker documentation.</span></span>
    [<span data-ttu-id="90800-208">*https://docs.docker.com/Engine/UserGuide/eng-Image/BaseImages/*</span><span class="sxs-lookup"><span data-stu-id="90800-208">*https://docs.docker.com/engine/userguide/eng-image/baseimages/*</span></span>](https://docs.docker.com/engine/userguide/eng-image/baseimages/)

![](./media/image7.png)

## <a name="step-3-create-your-custom-docker-images-and-embed-your-application-or-service-in-them"></a><span data-ttu-id="90800-209">Schritt 3</span><span class="sxs-lookup"><span data-stu-id="90800-209">Step 3.</span></span> <span data-ttu-id="90800-210">Erstellen Sie Ihre benutzerdefinierten Docker-Images und betten Ihrer Anwendung oder Ihrem Dienst darin ein</span><span class="sxs-lookup"><span data-stu-id="90800-210">Create your custom Docker images and embed your application or service in them</span></span>

<span data-ttu-id="90800-211">Für jeden Dienst in Ihrer Anwendung müssen Sie eine verwandte Image zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="90800-211">For each service in your application, you need to create a related image.</span></span> <span data-ttu-id="90800-212">Wenn Ihre Anwendung von einem Einzelgerät oder Webanwendung vorgenommen wird, benötigen Sie nur ein einziges Bild.</span><span class="sxs-lookup"><span data-stu-id="90800-212">If your application is made up of a single service or web application, you just need a single image.</span></span>

<span data-ttu-id="90800-213">Beachten Sie, dass der Docker-Images in Visual Studio automatisch für Sie erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="90800-213">Note that the Docker images are built automatically for you in Visual Studio.</span></span> <span data-ttu-id="90800-214">Die folgenden Schritte sind nur für den Workflow-Editor/CLI erforderlich und aus Gründen der Übersichtlichkeit Informationen dazu, was unter erläutert.</span><span class="sxs-lookup"><span data-stu-id="90800-214">The following steps are only needed for the editor/CLI workflow and explained for clarity about what happens underneath.</span></span>

<span data-ttu-id="90800-215">Sie als Entwickler benötigen, entwickeln und Testen lokal, bis Sie eine abgeschlossene push Features, und ändern Sie in Ihr Quellcodeverwaltungssystem (z. B. auf GitHub).</span><span class="sxs-lookup"><span data-stu-id="90800-215">You, as developer, need to develop and test locally until you push a completed feature or change to your source control system (for example, to GitHub).</span></span> <span data-ttu-id="90800-216">Dies bedeutet, dass Sie den Docker-Images erstellen und Bereitstellen von Containern zu einem lokalen Docker-Host (Windows oder Linux-VM) und ausführen, testen und Debuggen für diese lokalen Container müssen.</span><span class="sxs-lookup"><span data-stu-id="90800-216">This means that you need to create the Docker images and deploy containers to a local Docker host (Windows or Linux VM) and run, test, and debug against those local containers.</span></span>

<span data-ttu-id="90800-217">Um ein benutzerdefiniertes Image mit Docker-Befehlszeilenschnittstelle und Ihr Dockerfile in Ihrer lokalen Umgebung zu erstellen, können Sie den Befehl "Docker Build", wie in Abbildung 5 bis 5.</span><span class="sxs-lookup"><span data-stu-id="90800-217">To create a custom image in your local environment by using Docker CLI and your Dockerfile, you can use the docker build command, as in Figure 5-5.</span></span>

![](./media/image8.png)

<span data-ttu-id="90800-218">**Abbildung 5 – 5**.</span><span class="sxs-lookup"><span data-stu-id="90800-218">**Figure 5-5**.</span></span> <span data-ttu-id="90800-219">Erstellen eines benutzerdefinierten Docker-Images</span><span class="sxs-lookup"><span data-stu-id="90800-219">Creating a custom Docker image</span></span>

<span data-ttu-id="90800-220">Optional, können statt direkt Docker Build aus dem Projektordner, Sie zuerst einen bereitstellbaren Ordner mit den erforderlichen Bibliotheken für .NET und erstellen Binärdateien Treiberdienst Dotnet veröffentlichen und verwenden Sie den Befehl "Docker Build".</span><span class="sxs-lookup"><span data-stu-id="90800-220">Optionally, instead of directly running docker build from the project folder, you can first generate a deployable folder with the required .NET libraries and binaries by running dotnet publish, and then use the docker build command.</span></span>

<span data-ttu-id="90800-221">Dadurch wird ein Docker Bild erstellt, mit dem Namen Cesardl/Netcore-Webapi-Microservice-Docker: zuerst.</span><span class="sxs-lookup"><span data-stu-id="90800-221">This will create a Docker image with the name cesardl/netcore-webapi-microservice-docker:first.</span></span> <span data-ttu-id="90800-222">In diesem Fall: zuerst wird ein Tag, das eine bestimmte Version darstellt.</span><span class="sxs-lookup"><span data-stu-id="90800-222">In this case, :first is a tag representing a specific version.</span></span> <span data-ttu-id="90800-223">Sie können diesen Schritt für jeden benutzerdefinierten Abbilds wiederholen, die Sie für Ihre verfassten Docker-Anwendung erstellen müssen.</span><span class="sxs-lookup"><span data-stu-id="90800-223">You can repeat this step for each custom image you need to create for your composed Docker application.</span></span>

<span data-ttu-id="90800-224">Wenn eine Anwendung mehrere Container erfolgt (d. h. es ist eine Anwendung mit mehreren Container), können Sie auch die Docker Verfassen Sie--Buildbefehl, um die zugehörige Bilder mit einem einzigen Befehl zu erstellen, anhand der Metadaten in den zugehörigen verfügbar gemacht Docker-compose.yml-Dateien.</span><span class="sxs-lookup"><span data-stu-id="90800-224">When an application is made of multiple containers (that is, it is a multi-container application), you can also use the docker-compose up --build command to build all the related images with a single command by using the metadata exposed in the related docker-compose.yml files.</span></span>

<span data-ttu-id="90800-225">Sie können vorhandenen Images in Ihr lokales Repository Suchbefehl mit Docker Images, wie in Abbildung 5 bis 6 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="90800-225">You can find the existing images in your local repository by using the docker images command, as shown in Figure 5-6.</span></span>

![](./media/image9.png)

<span data-ttu-id="90800-226">**Abbildung 5 bis 6.**</span><span class="sxs-lookup"><span data-stu-id="90800-226">**Figure 5-6.**</span></span> <span data-ttu-id="90800-227">Anzeigen von vorhandenen Images, die mit dem Befehl "Docker Images"</span><span class="sxs-lookup"><span data-stu-id="90800-227">Viewing existing images using the docker images command</span></span>

### <a name="creating-docker-images-with-visual-studio"></a><span data-ttu-id="90800-228">Erstellen von Docker-Images mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="90800-228">Creating Docker images with Visual Studio</span></span>

<span data-ttu-id="90800-229">Wenn Sie Visual Studio zum Erstellen eines Projekts mit Unterstützung für Docker verwenden, Sie nicht explizit ein Image erstellen.</span><span class="sxs-lookup"><span data-stu-id="90800-229">When you are using Visual Studio to create a project with Docker support, you do not explicitly create an image.</span></span> <span data-ttu-id="90800-230">Stattdessen wird das Bild für Sie erstellt, beim Drücken Sie F5, und die dockerized Anwendung oder den Dienst ausführen.</span><span class="sxs-lookup"><span data-stu-id="90800-230">Instead, the image is created for you when you press F5 and run the dockerized application or service.</span></span> <span data-ttu-id="90800-231">Dieser Schritt ist automatisch in Visual Studio und nicht sehen Sie es der Fall sein, aber es ist wichtig, dass Sie wissen, was passiert bei unterhalb.</span><span class="sxs-lookup"><span data-stu-id="90800-231">This step is automatic in Visual Studio, and you will not see it happen, but it is important that you know what is going on underneath.</span></span>

![](./media/image10.png)

## <a name="step-4-define-your-services-in-docker-composeyml-when-building-a-multi-container-docker-application"></a><span data-ttu-id="90800-232">Schritt 4.</span><span class="sxs-lookup"><span data-stu-id="90800-232">Step 4.</span></span> <span data-ttu-id="90800-233">Definieren Sie Ihre Dienste in Docker-compose.yml, beim Erstellen einer Docker-Anwendung mit mehreren container</span><span class="sxs-lookup"><span data-stu-id="90800-233">Define your services in docker-compose.yml when building a multi-container Docker application</span></span>

<span data-ttu-id="90800-234">Die [Docker compose.yml](https://docs.docker.com/compose/compose-file/) der Datei können Sie definieren einen Satz verwandter Dienste als einer zusammengesetzten Anwendung mit Bereitstellungsbefehlen bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="90800-234">The [docker-compose.yml](https://docs.docker.com/compose/compose-file/) file lets you define a set of related services to be deployed as a composed application with deployment commands.</span></span>

<span data-ttu-id="90800-235">Eine Docker-compose.yml-Datei verwenden möchten, müssen Sie die Datei in die Main oder Lösung Stammordner mit Inhalt ähnelt der im folgenden Beispiel erstellen:</span><span class="sxs-lookup"><span data-stu-id="90800-235">To use a docker-compose.yml file, you need to create the file in your main or root solution folder, with content similar to that in the following example:</span></span>

```yml
version: '3'
  
services:

  webmvc:
    image: eshop/web
    environment:
      - CatalogUrl=http://catalog.api
      - OrderingUrl=http://ordering.api
    ports:
      - "80:80"
    depends_on:
      - catalog.api
      - ordering.api

  catalog.api:
    image: eshop/catalog.api
    environment: 
      - ConnectionString=Server=sql.data;Database=CatalogDB;…
    ports:
      - "81:80"
    depends_on:
      - sql.data

  ordering.api:
    image: eshop/ordering.api
    environment:
      - ConnectionString=Server=sql.data;Database=OrderingDb;…
    ports:
      - "82:80"
    extra_hosts:
      - "CESARDLBOOKVHD:10.0.75.1"
    depends_on:
      - sql.data

  sql.data:
    image: mssql-server-linux:latest
    environment:
      - SA_PASSWORD=Pass@word
      - ACCEPT_EULA=Y
    ports:
      - "5433:1433"

```

<span data-ttu-id="90800-236">Beachten Sie, dass diese Datei Docker compose.yml eine vereinfachte und zusammengeführte Version ist.</span><span class="sxs-lookup"><span data-stu-id="90800-236">Note that this docker-compose.yml file is a simplified and merged version.</span></span> <span data-ttu-id="90800-237">Es enthält die Konfiguration der statischen Daten für jeden Container (z. B. den Namen des benutzerdefinierten Images), die immer, sowie Informationen zur Konfiguration gilt, die die bereitstellungsumgebung, z. B. die Verbindungszeichenfolge möglicherweise abhängig ist.</span><span class="sxs-lookup"><span data-stu-id="90800-237">It contains static configuration data for each container (like the name of the custom image), which always applies, plus configuration information that might depend on the deployment environment, like the connection string.</span></span> <span data-ttu-id="90800-238">In späteren Abschnitten erfahren Sie, wie Sie die Konfiguration der Docker-compose.yml in mehreren Teilen können Docker verfassen, Dateien und Überschreibungswerte je nach Umgebung und Ausführung (Debug oder Release).</span><span class="sxs-lookup"><span data-stu-id="90800-238">In later sections, you will learn how you can split the docker-compose.yml configuration into multiple docker-compose files and override values depending on the environment and execution type (debug or release).</span></span>

<span data-ttu-id="90800-239">Im Beispiel der Docker-compose.yml-Datei definiert fünf Dienste: Webmvc-Dienst (Webanwendung), zwei Microservices (catalog.api und ordering.api) und eine Quelle Datencontainer, sql.data, basierend auf SQL Server für Linux, ausgeführt als Container.</span><span class="sxs-lookup"><span data-stu-id="90800-239">The docker-compose.yml file example defines five services: the webmvc service (a web application), two microservices (catalog.api and ordering.api), and one data source container, sql.data, based on SQL Server for Linux running as a container.</span></span> <span data-ttu-id="90800-240">Jeder Dienst wird als ein Container bereitgestellt, ein Docker Bild für jede erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="90800-240">Each service is deployed as a container, so a Docker image is required for each.</span></span>

<span data-ttu-id="90800-241">Die Docker-compose.yml-Datei gibt nicht nur welche Container verwendet werden, sondern wie diese einzeln konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="90800-241">The docker-compose.yml file specifies not only what containers are being used, but how they are individually configured.</span></span> <span data-ttu-id="90800-242">Für die Instanz, die Webmvc Container Definition in der Datei .yml:</span><span class="sxs-lookup"><span data-stu-id="90800-242">For instance, the webmvc container definition in the .yml file:</span></span>

-   <span data-ttu-id="90800-243">Verwendet eine vorgefertigte Shopping / Web: neueste Image.</span><span class="sxs-lookup"><span data-stu-id="90800-243">Uses a pre-built eshop/web:latest image.</span></span> <span data-ttu-id="90800-244">Könnten jedoch das Bild, das als Teil des zu erstellenden auch Festlegen der Docker-verfassen Ausführung eine zusätzliche Konfiguration auf Grundlage eines Builds: Abschnitt in der Datei Docker-compose.</span><span class="sxs-lookup"><span data-stu-id="90800-244">However, you could also configure the image to be built as part of the docker-compose execution with an additional configuration based on a build: section in the docker-compose file.</span></span>

-   <span data-ttu-id="90800-245">Initialisiert die zwei Umgebungsvariablen (CatalogUrl und OrderingUrl).</span><span class="sxs-lookup"><span data-stu-id="90800-245">Initializes two environment variables (CatalogUrl and OrderingUrl).</span></span>

-   <span data-ttu-id="90800-246">Leitet die verfügbar gemachten Port 80 für den Container an den externen Port 80 auf dem Hostcomputer an.</span><span class="sxs-lookup"><span data-stu-id="90800-246">Forwards the exposed port 80 on the container to the external port 80 on the host machine.</span></span>

-   <span data-ttu-id="90800-247">Verknüpft die Web-app auf den Katalog und die Reihenfolge der Dienst mit der abhängt\_-Einstellung.</span><span class="sxs-lookup"><span data-stu-id="90800-247">Links the web app to the catalog and ordering service with the depends\_on setting.</span></span> <span data-ttu-id="90800-248">Dies bewirkt, dass den Dienst wartet, bis diese Dienste gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="90800-248">This causes the service to wait until those services are started.</span></span>

<span data-ttu-id="90800-249">Wir beschäftigt sich erneut mit die Docker-compose.yml-Datei in einem späteren Abschnitt beim beschrieben, wie Microservices und apps mit mehreren Container implementiert.</span><span class="sxs-lookup"><span data-stu-id="90800-249">We will revisit the docker-compose.yml file in a later section when we cover how to implement microservices and multi-container apps.</span></span>

### <a name="working-with-docker-composeyml-in-visual-studio-2017"></a><span data-ttu-id="90800-250">Arbeiten mit Docker-compose.yml in Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="90800-250">Working with docker-compose.yml in Visual Studio 2017</span></span>

<span data-ttu-id="90800-251">Wenn Sie Unterstützung für Docker-Lösung zu einem Service-Projekt in Visual Studio-Projektmappe, hinzufügen, wie in Abbildung 5-7 dargestellt, fügt Visual Studio eine dockerfile-Datei dem Projekt, und einen Abschnitt "Dienst" (Projekt) in der Projektmappe mit den Docker-compose.yml Dateien hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="90800-251">When you add Docker solution support to a service project in a Visual Studio solution, as shown in Figure 5-7, Visual Studio adds a Dockerfile to your project, and it adds a service section (project) in your solution with the docker-compose.yml files.</span></span> <span data-ttu-id="90800-252">Es ist eine einfache Möglichkeit zum Verfassen von der Projektmappe mehrere Container starten.</span><span class="sxs-lookup"><span data-stu-id="90800-252">It is an easy way to start composing your multiple-container solution.</span></span> <span data-ttu-id="90800-253">Sie können die Docker-compose.yml-Dateien öffnen und mit zusätzlichen Funktionen zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="90800-253">You can then open the docker-compose.yml files and update them with additional features.</span></span>

![](./media/image6.png)

<span data-ttu-id="90800-254">**Abbildung 5-7**.</span><span class="sxs-lookup"><span data-stu-id="90800-254">**Figure 5-7**.</span></span> <span data-ttu-id="90800-255">Hinzufügen von Docker-Unterstützung in Visual Studio 2017 durch Rechtsklick auf ein Projekt ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="90800-255">Adding Docker support in Visual Studio 2017 by right-clicking an ASP.NET Core project</span></span>

<span data-ttu-id="90800-256">Hinzufügen von Docker-Unterstützung in Visual Studio nicht nur die dockerfile-Datei dem Projekt hinzugefügt, sondern mehrere globale Docker-compose.yml-Dateien, die auf Projektmappenebene festgelegt werden die Konfigurationsinformationen hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="90800-256">Adding Docker support in Visual Studio not only adds the Dockerfile to your project, but adds the configuration information to several global docker-compose.yml files that are set at the solution level.</span></span>

<span data-ttu-id="90800-257">Nachdem Sie die Projektmappe in Visual Studio Docker-Unterstützung hinzugefügt haben, sehen Sie auch einen neuen Knoten (in der Docker-compose.dcproj-Projektdatei) im Projektmappen-Explorer mit den hinzugefügten Docker-compose.yml Dateien, wie in Abbildung 5 bis 8 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="90800-257">After you add Docker support to your solution in Visual Studio, you will also see a new node (in the docker-compose.dcproj project file) in Solution Explorer that contains the added docker-compose.yml files, as shown in Figure 5-8.</span></span>

![](./media/image11.PNG)

<span data-ttu-id="90800-258">**Abbildung 5 bis 8**.</span><span class="sxs-lookup"><span data-stu-id="90800-258">**Figure 5-8**.</span></span> <span data-ttu-id="90800-259">Die **Docker verfassen** Strukturknoten im Projektmappen-Explorer von Visual Studio 2017 hinzugefügt</span><span class="sxs-lookup"><span data-stu-id="90800-259">The **docker-compose** tree node added in Visual Studio 2017 Solution Explorer</span></span>

<span data-ttu-id="90800-260">Eine Anwendung mit mehreren Container konnte mit einer einzelnen Docker-compose.yml-Datei bereitgestellt werden, mithilfe der Befehl Docker verfassen.</span><span class="sxs-lookup"><span data-stu-id="90800-260">You could deploy a multi-container application with a single docker-compose.yml file by using the docker-compose up command.</span></span> <span data-ttu-id="90800-261">Visual Studio fügt jedoch eine Gruppe von ihnen, damit Sie, abhängig von der Umgebung (Entwicklung im Vergleich zur Produktion) und die Ausführung überschreiben können Typ (Version im Vergleich zu Debug).</span><span class="sxs-lookup"><span data-stu-id="90800-261">However, Visual Studio adds a group of them so you can override values depending on the environment (development versus production) and execution type (release versus debug).</span></span> <span data-ttu-id="90800-262">Diese Funktion wird in späteren Abschnitten erläutert werden.</span><span class="sxs-lookup"><span data-stu-id="90800-262">This capability will be explained in later sections.</span></span>

![](./media/image12.png)

## <a name="step-5-build-and-run-your-docker-application"></a><span data-ttu-id="90800-263">Schritt 5.</span><span class="sxs-lookup"><span data-stu-id="90800-263">Step 5.</span></span> <span data-ttu-id="90800-264">Erstellen und Ausführen der Docker-Anwendung</span><span class="sxs-lookup"><span data-stu-id="90800-264">Build and run your Docker application</span></span>

<span data-ttu-id="90800-265">Wenn die Anwendung nur einen einzelnen Container verfügt, können Sie ihn ausführen, durch die Bereitstellung mit Ihrem Docker-Host (VM oder physischer Server).</span><span class="sxs-lookup"><span data-stu-id="90800-265">If your application only has a single container, you can run it by deploying it to your Docker host (VM or physical server).</span></span> <span data-ttu-id="90800-266">Jedoch, wenn Ihre Anwendung mehrere Dienste enthält, können Sie es bereitstellen als einer zusammengesetzten Anwendung entweder mit einem einzelnen CLI-Befehl (Docker-verfassen oben), oder mit Visual Studio wird die verwenden Sie den Befehl im Hintergrund.</span><span class="sxs-lookup"><span data-stu-id="90800-266">However, if your application contains multiple services, you can deploy it as a composed application, either using a single CLI command (docker-compose up), or with Visual Studio, which will use that command under the covers.</span></span> <span data-ttu-id="90800-267">Sehen wir uns auf die verschiedenen Optionen.</span><span class="sxs-lookup"><span data-stu-id="90800-267">Let’s look at the different options.</span></span>

### <a name="option-a-running-a-single-container-with-docker-cli"></a><span data-ttu-id="90800-268">Option A: Ausführen eines einzelnen-Containers mit Docker-Befehlszeilenschnittstelle</span><span class="sxs-lookup"><span data-stu-id="90800-268">Option A: Running a single-container with Docker CLI</span></span>

<span data-ttu-id="90800-269">Sie können einen Docker-Container, die mit "Docker run" Befehl, wie in Abbildung 5 bis 9 ausführen:</span><span class="sxs-lookup"><span data-stu-id="90800-269">You can run a Docker container using the docker run command, as in Figure 5-9:</span></span>

```
  docker run -t -d -p 80:5000 cesardl/netcore-webapi-microservice-docker:first
```

![](./media/image13.png)

<span data-ttu-id="90800-270">**Abbildung 5 bis 9**.</span><span class="sxs-lookup"><span data-stu-id="90800-270">**Figure 5-9**.</span></span> <span data-ttu-id="90800-271">Einen Docker-Container mithilfe von "Docker run" Befehl ausgeführt wird</span><span class="sxs-lookup"><span data-stu-id="90800-271">Running a Docker container using the docker run command</span></span>

<span data-ttu-id="90800-272">In diesem Fall wird der Befehl den internen Port 5000 des Containers an Port 80 des Hostcomputers gebunden.</span><span class="sxs-lookup"><span data-stu-id="90800-272">In this case, the command binds the internal port 5000 of the container to port 80 of the host machine.</span></span> <span data-ttu-id="90800-273">Dies bedeutet, dass der Host an Port 80 lauscht und Weiterleitung an Port 5000 für den Container.</span><span class="sxs-lookup"><span data-stu-id="90800-273">This means that the host is listening on port 80 and forwarding to port 5000 on the container.</span></span>

### <a name="option-b-running-a-multi-container-application"></a><span data-ttu-id="90800-274">Option B: Ausführen einer Anwendung mit mehreren container</span><span class="sxs-lookup"><span data-stu-id="90800-274">Option B: Running a multi-container application</span></span>

<span data-ttu-id="90800-275">In den meisten Unternehmensszenarien wird eine Docker-Anwendung zusammengesetzt werden mehrere Dienste dies, dass Sie zum Ausführen einer Anwendung mit mehreren Container benötigen bedeutet, wie in Abbildung 5 bis 10 angezeigt.</span><span class="sxs-lookup"><span data-stu-id="90800-275">In most enterprise scenarios, a Docker application will be composed of multiple services, which means you need to run a multi-container application, as shown in Figure 5-10.</span></span>

![](./media/image14.png)

<span data-ttu-id="90800-276">**Abbildung 5 bis 10**.</span><span class="sxs-lookup"><span data-stu-id="90800-276">**Figure 5-10**.</span></span> <span data-ttu-id="90800-277">VM mit Docker-Containern bereitgestellt</span><span class="sxs-lookup"><span data-stu-id="90800-277">VM with Docker containers deployed</span></span>

#### <a name="running-a-multi-container-application-with-the-docker-cli"></a><span data-ttu-id="90800-278">Ausführen einer Anwendung mit mehreren Container mit Docker-Befehlszeilenschnittstelle</span><span class="sxs-lookup"><span data-stu-id="90800-278">Running a multi-container application with the Docker CLI</span></span>

<span data-ttu-id="90800-279">Zum Ausführen einer Anwendung mit mehreren Container mit Docker-Befehlszeilenschnittstelle können Sie führen Sie den Docker-Befehl zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="90800-279">To run a multi-container application with the Docker CLI, you can run the docker-compose up command.</span></span> <span data-ttu-id="90800-280">Dieser Befehl verwendet den Docker-compose.yml-Datei, dass Sie auf Projektmappenebene bereitstellen eine Anwendung mit mehreren Container verfügen.</span><span class="sxs-lookup"><span data-stu-id="90800-280">This command uses the docker-compose.yml file that you have at the solution level to deploy a multi-container application.</span></span> <span data-ttu-id="90800-281">Abbildung 5 – 11 zeigt die Ergebnisse beim Ausführen des Befehls aus Ihrem Verzeichnis Hauptprojekt, das die Docker-compose.yml-Datei enthält.</span><span class="sxs-lookup"><span data-stu-id="90800-281">Figure 5-11 shows the results when running the command from your main project directory, which contains the docker-compose.yml file.</span></span>

![](./media/image15.png)

<span data-ttu-id="90800-282">**Abbildung 5 bis 11**.</span><span class="sxs-lookup"><span data-stu-id="90800-282">**Figure 5-11**.</span></span> <span data-ttu-id="90800-283">Beispiel erhalten Sie beim Ausführen den Befehl Docker verfassen</span><span class="sxs-lookup"><span data-stu-id="90800-283">Example results when running the docker-compose up command</span></span>

<span data-ttu-id="90800-284">Nachdem der Docker-verfassen Befehl ausgeführt wird, die Anwendung und seine zugehörigen Container in Ihrem Docker-Host bereitgestellt werden, wie in der VM-Darstellung in Abbildung 5 bis 10 veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="90800-284">After the docker-compose up command runs, the application and its related containers are deployed into your Docker host, as illustrated in the VM representation in Figure 5-10.</span></span>

#### <a name="running-and-debugging-a-multi-container-application-with-visual-studio"></a><span data-ttu-id="90800-285">Ausführen und Debuggen einer Anwendung mit mehreren Container mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="90800-285">Running and debugging a multi-container application with Visual Studio</span></span> 

<span data-ttu-id="90800-286">Ausführen einer Multi-Container-Anwendung mit Visual Studio 2017 kann nicht einfacher abgerufen.</span><span class="sxs-lookup"><span data-stu-id="90800-286">Running a multi-container application using Visual Studio 2017 cannot get simpler.</span></span> <span data-ttu-id="90800-287">Die Anwendung mehrere Container können nicht nur ausgeführt, jedoch können Sie alle ihre Container direkt in Visual Studio zu debuggen, indem Sie reguläre Haltepunkte festlegen.</span><span class="sxs-lookup"><span data-stu-id="90800-287">You can not only run the multi-container application, but you are able to debug all its containers directly from Visual Studio by setting regular breakpoints.</span></span>

<span data-ttu-id="90800-288">Wie bereits erwähnt, bevor jedes Mal Sie Unterstützung für Docker-Projektmappe ein Projekt in einer Projektmappe hinzufügen, ist dieses Projekt in der Datei global (Projektmappenebene) Docker-compose.yml konfiguriert, mit der Sie ausführen oder die gesamte Projektmappe gleichzeitig zu debuggen.</span><span class="sxs-lookup"><span data-stu-id="90800-288">As mentioned before, each time you add Docker solution support to a project within a solution, that project is configured in the global (solution-level) docker-compose.yml file, which lets you run or debug the whole solution at once.</span></span> <span data-ttu-id="90800-289">Visual Studio startet ein Container für jedes Projekt, das Docker-Lösung-Unterstützung aktiviert wurde, und führen Sie die internen Schritte aus, für die Sie (Dotnet veröffentlichen, Docker Build usw..).</span><span class="sxs-lookup"><span data-stu-id="90800-289">Visual Studio will start one container for each project that has Docker solution support enabled, and perform all the internal steps for you (dotnet publish, docker build, etc.).</span></span>

<span data-ttu-id="90800-290">Wichtig dabei ist, wie in Abbildung 5 – 12 dargestellt, in Visual Studio 2017 ergibt sich ein zusätzliches **Docker** Befehl für die F5-Key-Aktion.</span><span class="sxs-lookup"><span data-stu-id="90800-290">The important point here is that, as shown in Figure 5-12, in Visual Studio 2017 there is an additional **Docker** command for the F5 key action.</span></span> <span data-ttu-id="90800-291">Diese Option können Sie die ausführen oder Debuggen einer Anwendung mit mehreren Container durch Ausführen von allen Containern, die in den Docker-compose.yml-Dateien auf Projektmappenebene definiert sind.</span><span class="sxs-lookup"><span data-stu-id="90800-291">This option lets you run or debug a multi-container application by running all the containers that are defined in the docker-compose.yml files at the solution level.</span></span> <span data-ttu-id="90800-292">Die Fähigkeit zum Debuggen von mehreren-containerlösungen bedeutet, dass Sie mehrere Breakpoints, die jedem Haltepunkt, in einem anderen Projekt (Container festlegen können), und während des Debuggens in Visual Studio hält an Haltepunkten in unterschiedlichen Projekten definiert und unter unterschiedliche Container.</span><span class="sxs-lookup"><span data-stu-id="90800-292">The ability to debug multiple-container solutions means that you can set several breakpoints, each breakpoint in a different project (container), and while debugging from Visual Studio you will stop at breakpoints defined in different projects and running on different containers.</span></span>

![](./media/image16.png)

<span data-ttu-id="90800-293">**Abbildung 5 – 12**.</span><span class="sxs-lookup"><span data-stu-id="90800-293">**Figure 5-12**.</span></span> <span data-ttu-id="90800-294">Ausführen von Multi-Container-apps in Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="90800-294">Running multi-container apps in Visual Studio 2017</span></span>

### <a name="additional-resources"></a><span data-ttu-id="90800-295">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="90800-295">Additional resources</span></span>

-   <span data-ttu-id="90800-296">**Stellen Sie einen ASP.NET Container bereit, mit einem Docker-Remotehost**
    [*https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker*](https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker)</span><span class="sxs-lookup"><span data-stu-id="90800-296">**Deploy an ASP.NET container to a remote Docker host**
[*https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker*](https://docs.microsoft.com/azure/vs-azure-tools-docker-hosting-web-apps-in-docker)</span></span>

### <a name="a-note-about-testing-and-deploying-with-orchestrators"></a><span data-ttu-id="90800-297">Ein Hinweis zum Testen und Bereitstellen mit orchestrators</span><span class="sxs-lookup"><span data-stu-id="90800-297">A note about testing and deploying with orchestrators</span></span>

<span data-ttu-id="90800-298">Der Docker-verfassen einrichten und die Befehle "Docker run" (oder ausgeführt wird und der Container in Visual Studio Debuggen) für den Container in der Entwicklungsumgebung testen geeignet sind.</span><span class="sxs-lookup"><span data-stu-id="90800-298">The docker-compose up and docker run commands (or running and debugging the containers in Visual Studio) are adequate for testing containers in your development environment.</span></span> <span data-ttu-id="90800-299">Jedoch sollten Sie diese Methode nicht verwenden, wenn Sie Docker-Cluster als Ziel dient und Orchestrators wie Docker Containerhostclustern, Mesosphere DC/OS oder Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="90800-299">But you should not use this approach if you are targeting Docker clusters and orchestrators like Docker Swarm, Mesosphere DC/OS, or Kubernetes.</span></span> <span data-ttu-id="90800-300">Bei Verwendung von einem Cluster wie [Docker Containerhostclustern Modus](https://docs.docker.com/engine/swarm/) (verfügbar in Docker CE für Windows- und Mac seit Version 1.12), müssen Sie zum Bereitstellen und Testen mit zusätzlichen Befehlen wie [Docker-Dienst erstellen](https://docs.docker.com/engine/reference/commandline/service_create/) für einzelne Dienste.</span><span class="sxs-lookup"><span data-stu-id="90800-300">If you are using a cluster like [Docker Swarm mode](https://docs.docker.com/engine/swarm/) (available in Docker CE for Windows and Mac since version 1.12), you need to deploy and test with additional commands like [docker service create](https://docs.docker.com/engine/reference/commandline/service_create/) for single services.</span></span> <span data-ttu-id="90800-301">Wenn Sie eine Anwendung besteht aus mehreren Containern bereitstellen, verwenden Sie [Docker verfassen Bundle](https://docs.docker.com/compose/reference/bundle/) und [Docker bereitstellen MyBundleFile](https://docs.docker.com/engine/reference/commandline/deploy/) zum Bereitstellen der zusammengesetzten Anwendung als eine *Stapel*.</span><span class="sxs-lookup"><span data-stu-id="90800-301">If you are deploying an application composed of several containers, you use [docker compose bundle](https://docs.docker.com/compose/reference/bundle/) and [docker deploy myBundleFile](https://docs.docker.com/engine/reference/commandline/deploy/) to deploy the composed application as a *stack*.</span></span> <span data-ttu-id="90800-302">Weitere Informationen finden Sie im Blogbeitrag [Einführung in experimentellen verteilte Anwendung Bündel](https://blog.docker.com/2016/06/docker-app-bundle/) in der Docker-Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="90800-302">For more information, see the blog post [Introducing Experimental Distributed Application Bundles](https://blog.docker.com/2016/06/docker-app-bundle/) in the Docker documentation.</span></span> <span data-ttu-id="90800-303">auf der Docker-Website.</span><span class="sxs-lookup"><span data-stu-id="90800-303">on the Docker site.</span></span>

<span data-ttu-id="90800-304">Für [DC/OS](https://mesosphere.com/blog/2015/09/02/dcos-cli-command-line-tool-datacenter/) und [Kubernetes](http://kubernetes.io/docs/user-guide/deployments/) verwenden Sie unterschiedliche Bereitstellung Befehle und Skripts als auch.</span><span class="sxs-lookup"><span data-stu-id="90800-304">For [DC/OS](https://mesosphere.com/blog/2015/09/02/dcos-cli-command-line-tool-datacenter/) and [Kubernetes](http://kubernetes.io/docs/user-guide/deployments/) you would use different deployment commands and scripts as well.</span></span>

![](./media/image17.png)

## <a name="step-6-test-your-docker-application-using-your-local-docker-host"></a><span data-ttu-id="90800-305">Schritt 6.</span><span class="sxs-lookup"><span data-stu-id="90800-305">Step 6.</span></span> <span data-ttu-id="90800-306">Testen Sie die Docker-Anwendung, die mit Ihrem lokalen Docker-host</span><span class="sxs-lookup"><span data-stu-id="90800-306">Test your Docker application using your local Docker host</span></span>

<span data-ttu-id="90800-307">Dieser Schritt hängen davon ab, welche Vorgänge die Anwendung ausführt.</span><span class="sxs-lookup"><span data-stu-id="90800-307">This step will vary depending on what your application is doing.</span></span> <span data-ttu-id="90800-308">In einer einfachen .NET Core-Web-Anwendung, die als eine einzelne Container oder einen Dienst bereitgestellt wird, können Sie den Dienst zugreifen, öffnen einen Browser auf dem Docker-Host, und navigieren zu diesem Standort, wie in Abbildung 5 bis 13 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="90800-308">In a simple .NET Core Web application that is deployed as a single container or service, you can access the service by opening a browser on the Docker host and navigating to that site as shown in Figure 5-13.</span></span> <span data-ttu-id="90800-309">(Wenn die Konfiguration in die dockerfile-Datei den Container mit einem Port auf dem Host zugeordnet ist, das etwas anderes als 80 ist, enthalten Sie die Hosts nach dem in der URL.)</span><span class="sxs-lookup"><span data-stu-id="90800-309">(If the configuration in the Dockerfile maps the container to a port on the host that is anything other than 80, include the host post in the URL.)</span></span>

![](./media/image18.png)

<span data-ttu-id="90800-310">**Abbildung 5 bis 13**.</span><span class="sxs-lookup"><span data-stu-id="90800-310">**Figure 5-13**.</span></span> <span data-ttu-id="90800-311">Beispiel für das Testen der Docker-Anwendung, die lokal mithilfe von "localhost"</span><span class="sxs-lookup"><span data-stu-id="90800-311">Example of testing your Docker application locally using localhost</span></span>

<span data-ttu-id="90800-312">Wenn der Docker nicht "localhost" verweist, host-IP-(wird standardmäßig bei Verwendung von Docker CE, es sollte), um mit dem Dienst zu navigieren, verwenden Sie die IP-Adresse der Netzwerkkarte des Computers.</span><span class="sxs-lookup"><span data-stu-id="90800-312">If localhost is not pointing to the Docker host IP (by default, when using Docker CE, it should), to navigate to your service, use the IP address of your machine’s network card.</span></span>

<span data-ttu-id="90800-313">Beachten Sie, dass diese URL im Browser beispielsweise bestimmten Container besprochen wird Port 80 verwendet.</span><span class="sxs-lookup"><span data-stu-id="90800-313">Note that this URL in the browser uses port 80 for the particular container example being discussed.</span></span> <span data-ttu-id="90800-314">Allerdings werden intern die Anforderungen zu-Port 5000, umgeleitet wird, da wie mit "Docker run" Befehl bereitgestellt wurde wie in einem vorherigen Schritt beschrieben wurde.</span><span class="sxs-lookup"><span data-stu-id="90800-314">However, internally the requests are being redirected to port 5000, because that was how it was deployed with the docker run command, as explained in a previous step.</span></span>

<span data-ttu-id="90800-315">Sie können auch die Anwendung mit Curl aus der Terminaldienste testen, wie in Abbildung 5-14 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="90800-315">You can also test the application using curl from the terminal, as shown in Figure 5-14.</span></span> <span data-ttu-id="90800-316">Bei einer Installation Docker unter Windows ist die Standardeinstellung Docker-Host-IP-immer 10.0.75.1 zusätzlich zu Ihrem Computer tatsächlichen IP-Adresse.</span><span class="sxs-lookup"><span data-stu-id="90800-316">In a Docker installation on Windows, the default Docker Host IP is always 10.0.75.1 in addition to your machine’s actual IP address.</span></span>

![](./media/image19.png)

<span data-ttu-id="90800-317">**Abbildung 5 – 14**.</span><span class="sxs-lookup"><span data-stu-id="90800-317">**Figure 5-14**.</span></span> <span data-ttu-id="90800-318">Beispiel für das Testen der Docker-Anwendung, die lokal mithilfe von curl</span><span class="sxs-lookup"><span data-stu-id="90800-318">Example of testing your Docker application locally using curl</span></span>

### <a name="testing-and-debugging-containers-with-visual-studio-2017"></a><span data-ttu-id="90800-319">Testen und Debuggen mit Visual Studio 2017 Container</span><span class="sxs-lookup"><span data-stu-id="90800-319">Testing and debugging containers with Visual Studio 2017</span></span>

<span data-ttu-id="90800-320">Beim Ausführen und Debuggen den Container mit Visual Studio 2017, können Sie die Anwendung .NET im großen und ganzen genauso Debuggen, wie beim ohne Container ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="90800-320">When running and debugging the containers with Visual Studio 2017, you can debug the .NET application in much the same way as you would when running without containers.</span></span>

### <a name="testing-and-debugging-without-visual-studio"></a><span data-ttu-id="90800-321">Testen und Debuggen, ohne Visual Studio</span><span class="sxs-lookup"><span data-stu-id="90800-321">Testing and debugging without Visual Studio</span></span>

<span data-ttu-id="90800-322">Wenn Sie mit dem Editor/CLI-Ansatz entwickeln, Debuggen von Containern ist schwieriger und Debuggen, indem Sie ablaufverfolgungen generiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="90800-322">If you are developing using the editor/CLI approach, debugging containers is more difficult and you will want to debug by generating traces.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="90800-323">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="90800-323">Additional resources</span></span>

-   <span data-ttu-id="90800-324">**Debuggen von apps in einem lokalen Docker-Container**
    [*https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh*](https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh)</span><span class="sxs-lookup"><span data-stu-id="90800-324">**Debugging apps in a local Docker container**
[*https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh*](https://docs.microsoft.com/azure/vs-azure-tools-docker-edit-and-refresh)</span></span>

-   <span data-ttu-id="90800-325">**Steve Lasker. Erstellen, Debuggen, Bereitstellen von ASP.NET Core-Apps mit Docker.**</span><span class="sxs-lookup"><span data-stu-id="90800-325">**Steve Lasker. Build, Debug, Deploy ASP.NET Core Apps with Docker.**</span></span> <span data-ttu-id="90800-326">Video.</span><span class="sxs-lookup"><span data-stu-id="90800-326">Video.</span></span>
    [<span data-ttu-id="90800-327">*https://channel9.msdn.com/Events/Visual-Studio/Visual-Studio-2017-Launch/T115*</span><span class="sxs-lookup"><span data-stu-id="90800-327">*https://channel9.msdn.com/Events/Visual-Studio/Visual-Studio-2017-Launch/T115*</span></span>](https://channel9.msdn.com/Events/Visual-Studio/Visual-Studio-2017-Launch/T115)

## <a name="simplified-workflow-when-developing-containers-with-visual-studio"></a><span data-ttu-id="90800-328">Vereinfachte Workflow bei der Entwicklung von Containern mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="90800-328">Simplified workflow when developing containers with Visual Studio</span></span>

<span data-ttu-id="90800-329">Tatsächlich ist der Workflow bei der Verwendung von Visual Studio viel einfacher als das Verwenden des Ansatzes-Editor/CLI.</span><span class="sxs-lookup"><span data-stu-id="90800-329">Effectively, the workflow when using Visual Studio is a lot simpler than if you use the editor/CLI approach.</span></span> <span data-ttu-id="90800-330">In den meisten Docker erforderlichen Schritten im Zusammenhang mit der dockerfile-Datei und Docker-compose.yml Dateien durch Visual Studio vereinfacht, wie in Abbildung 5-15 gezeigt oder ausgeblendet werden.</span><span class="sxs-lookup"><span data-stu-id="90800-330">Most of the steps required by Docker related to the Dockerfile and docker-compose.yml files are hidden or simplified by Visual Studio, as shown in Figure 5-15.</span></span>

![](./media/image20.png)

<span data-ttu-id="90800-331">**Abbildung 5-15**.</span><span class="sxs-lookup"><span data-stu-id="90800-331">**Figure 5-15**.</span></span> <span data-ttu-id="90800-332">Vereinfachte Workflow bei der Entwicklung mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="90800-332">Simplified workflow when developing with Visual Studio</span></span>

<span data-ttu-id="90800-333">Darüber hinaus müssen Sie Schritt 2 (Hinzufügen von Docker-Unterstützung in Ihren Projekten) nur einmal ausführen.</span><span class="sxs-lookup"><span data-stu-id="90800-333">In addition, you need to perform step 2 (adding Docker support to your projects) just once.</span></span> <span data-ttu-id="90800-334">Aus diesem Grund ähnelt der Workflow der üblichen Entwicklungsaufgaben bei .NET für andere Entwicklungen verwenden.</span><span class="sxs-lookup"><span data-stu-id="90800-334">Therefore, the workflow is similar to your usual development tasks when using .NET for any other development.</span></span> <span data-ttu-id="90800-335">Sie müssen wissen, was passiert im Hintergrund (wird den imageerstellungsprozess, welche zugrundeliegenden Images, die Sie verwenden, die Bereitstellung der Container usw.) und in einigen Fällen müssen Sie auch bearbeiten Sie die Datei dockerfile-Datei oder Docker compose.yml Verhalten anzupassen.</span><span class="sxs-lookup"><span data-stu-id="90800-335">You need to know what is going on under the covers (the image build process, what base images you are using, deployment of containers, etc.) and sometimes you will also need to edit the Dockerfile or docker-compose.yml file to customize behaviors.</span></span> <span data-ttu-id="90800-336">Aber Großteil der Arbeit mit Visual Studio, wodurch Sie viel höhere Produktivität erheblich vereinfacht wird.</span><span class="sxs-lookup"><span data-stu-id="90800-336">But most of the work is greatly simplified by using Visual Studio, making you a lot more productive.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="90800-337">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="90800-337">Additional resources</span></span>

-   <span data-ttu-id="90800-338">**Steve Lasker. .NET Docker Entwicklung mit Visual Studio 2017**
    [*https://channel9.msdn.com/Events/Visual-Studio/Visual-Studio-2017-Launch/T111*](https://channel9.msdn.com/Events/Visual-Studio/Visual-Studio-2017-Launch/T111)</span><span class="sxs-lookup"><span data-stu-id="90800-338">**Steve Lasker. .NET Docker Development with Visual Studio 2017**
[*https://channel9.msdn.com/Events/Visual-Studio/Visual-Studio-2017-Launch/T111*](https://channel9.msdn.com/Events/Visual-Studio/Visual-Studio-2017-Launch/T111)</span></span>

-   <span data-ttu-id="90800-339">**Jeffrey T. Fritz. Versetzen einer .NET Core-App in einem Container mit den neuen Docker-Tools für Visual Studio**
    [*https://blogs.msdn.microsoft.com/webdev/2016/11/16/new-docker-tools-for-visual-studio/*](https://blogs.msdn.microsoft.com/webdev/2016/11/16/new-docker-tools-for-visual-studio/)</span><span class="sxs-lookup"><span data-stu-id="90800-339">**Jeffrey T. Fritz. Put a .NET Core App in a Container with the new Docker Tools for Visual Studio**
[*https://blogs.msdn.microsoft.com/webdev/2016/11/16/new-docker-tools-for-visual-studio/*](https://blogs.msdn.microsoft.com/webdev/2016/11/16/new-docker-tools-for-visual-studio/)</span></span>

## <a name="using-powershell-commands-in-a-dockerfile-to-set-up-windows-containers"></a><span data-ttu-id="90800-340">Mithilfe von PowerShell-Befehle in einer dockerfile-Datei zum Einrichten der Windows-Containern</span><span class="sxs-lookup"><span data-stu-id="90800-340">Using PowerShell commands in a Dockerfile to set up Windows Containers</span></span> 

<span data-ttu-id="90800-341">[Windows-Containern](https://msdn.microsoft.com/en-us/virtualization/windowscontainers/about/about_overview) ermöglichen es Ihnen, Ihre vorhandenen Windows-Anwendungen in Docker-Images konvertieren und diese mit den gleichen Tools wie der Rest des Docker-Ökosystem bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="90800-341">[Windows Containers](https://msdn.microsoft.com/en-us/virtualization/windowscontainers/about/about_overview) allow you to convert your existing Windows applications into Docker images and deploy them with the same tools as the rest of the Docker ecosystem.</span></span> <span data-ttu-id="90800-342">Um Windows-Container verwendet werden, führen Sie PowerShell-Befehle in die dockerfile-Datei, wie im folgenden Beispiel gezeigt:</span><span class="sxs-lookup"><span data-stu-id="90800-342">To use Windows Containers, you run PowerShell commands in the Dockerfile, as shown in the following example:</span></span>

```
FROM microsoft/windowsservercore
  
LABEL Description="IIS" Vendor="Microsoft" Version="10"
  
RUN powershell -Command Add-WindowsFeature Web-Server
  
CMD [ "ping", "localhost", "-t" ]
```

<span data-ttu-id="90800-343">In diesem Fall werden wir mithilfe einer Windows Server Core-Basis-Image (die FROM-Einstellung) und Installieren von IIS mit einer PowerShell-Befehl (die Einstellung ausführen).</span><span class="sxs-lookup"><span data-stu-id="90800-343">In this case, we are using a Windows Server Core base image (the FROM setting) and installing IIS with a PowerShell command (the RUN setting).</span></span> <span data-ttu-id="90800-344">Auf ähnliche Weise können Sie auch PowerShell-Befehle verwenden, um zusätzliche Komponenten wie ASP.NET 4.x, .NET 4.6 oder andere Windows-Software eingerichtet.</span><span class="sxs-lookup"><span data-stu-id="90800-344">In a similar way, you could also use PowerShell commands to set up additional components like ASP.NET 4.x, .NET 4.6, or any other Windows software.</span></span> <span data-ttu-id="90800-345">Der folgende Befehl in einer dockerfile-Datei richtet z. B. ASP.NET 4.5:</span><span class="sxs-lookup"><span data-stu-id="90800-345">For example, the following command in a Dockerfile sets up ASP.NET 4.5:</span></span>

```
RUN powershell add-windowsfeature web-asp-net45
```

### <a name="additional-resources"></a><span data-ttu-id="90800-346">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="90800-346">Additional resources</span></span>

-   <span data-ttu-id="90800-347">**ASPNET-Docker/dockerfile-Datei.**</span><span class="sxs-lookup"><span data-stu-id="90800-347">**aspnet-docker/Dockerfile.**</span></span> <span data-ttu-id="90800-348">Beispiel-Powershell-Befehle zum Ausführen von dockerfile-Dateien auf Windows-Funktionen enthalten.</span><span class="sxs-lookup"><span data-stu-id="90800-348">Example Powershell commands to run from dockerfiles to include Windows features.</span></span>
    [<span data-ttu-id="90800-349">*https://github.com/Microsoft/ASPNET-docker/BLOB/Master/4.6.2/Dockerfile*</span><span class="sxs-lookup"><span data-stu-id="90800-349">*https://github.com/Microsoft/aspnet-docker/blob/master/4.6.2/Dockerfile*</span></span>](https://github.com/Microsoft/aspnet-docker/blob/master/4.6.2/Dockerfile)

>[!div class="step-by-step"]
<span data-ttu-id="90800-350">[Vorherigen] (index.md) [weiter] (.. / net-core-single-containers-linux-windows-server-hosts/index.md)</span><span class="sxs-lookup"><span data-stu-id="90800-350">[Previous] (index.md) [Next] (../net-core-single-containers-linux-windows-server-hosts/index.md)</span></span>
